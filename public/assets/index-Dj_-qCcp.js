var iw=t=>{throw TypeError(t)};var mh=(t,e,n)=>e.has(t)||iw("Cannot "+n);var z=(t,e,n)=>(mh(t,e,"read from private field"),n?n.call(t):e.get(t)),Qe=(t,e,n)=>e.has(t)?iw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Me=(t,e,n,r)=>(mh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ln=(t,e,n)=>(mh(t,e,"access private method"),n);var Kc=(t,e,n,r)=>({set _(s){Me(t,e,s,n)},get _(){return z(t,e,r)}});function XA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function O_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j_={exports:{}},Kd={},L_={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),JA=Symbol.for("react.portal"),ZA=Symbol.for("react.fragment"),eR=Symbol.for("react.strict_mode"),tR=Symbol.for("react.profiler"),nR=Symbol.for("react.provider"),rR=Symbol.for("react.context"),sR=Symbol.for("react.forward_ref"),oR=Symbol.for("react.suspense"),iR=Symbol.for("react.memo"),aR=Symbol.for("react.lazy"),aw=Symbol.iterator;function lR(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F_=Object.assign,$_={};function xa(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||V_}xa.prototype.isReactComponent={};xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B_(){}B_.prototype=xa.prototype;function og(t,e,n){this.props=t,this.context=e,this.refs=$_,this.updater=n||V_}var ig=og.prototype=new B_;ig.constructor=og;F_(ig,xa.prototype);ig.isPureReactComponent=!0;var lw=Array.isArray,U_=Object.prototype.hasOwnProperty,ag={current:null},z_={key:!0,ref:!0,__self:!0,__source:!0};function W_(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)U_.call(e,r)&&!z_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:dc,type:t,key:o,ref:i,props:s,_owner:ag.current}}function cR(t,e){return{$$typeof:dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===dc}function uR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cw=/\/+/g;function gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uR(""+t.key):e.toString(36)}function Tu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case dc:case JA:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+gh(i,0):r,lw(s)?(n="",t!=null&&(n=t.replace(cw,"$&/")+"/"),Tu(s,e,n,"",function(u){return u})):s!=null&&(lg(s)&&(s=cR(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(cw,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",lw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+gh(o,a);i+=Tu(o,e,n,l,s)}else if(l=lR(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+gh(o,a++),i+=Tu(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Gc(t,e,n){if(t==null)return t;var r=[],s=0;return Tu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function dR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Iu={transition:null},fR={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Iu,ReactCurrentOwner:ag};function H_(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Gc,forEach:function(t,e,n){Gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gc(t,function(){e++}),e},toArray:function(t){return Gc(t,function(e){return e})||[]},only:function(t){if(!lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=xa;$e.Fragment=ZA;$e.Profiler=tR;$e.PureComponent=og;$e.StrictMode=eR;$e.Suspense=oR;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;$e.act=H_;$e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F_({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=ag.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)U_.call(e,l)&&!z_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:dc,type:t.type,key:s,ref:o,props:r,_owner:i}};$e.createContext=function(t){return t={$$typeof:rR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nR,_context:t},t.Consumer=t};$e.createElement=W_;$e.createFactory=function(t){var e=W_.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:sR,render:t}};$e.isValidElement=lg;$e.lazy=function(t){return{$$typeof:aR,_payload:{_status:-1,_result:t},_init:dR}};$e.memo=function(t,e){return{$$typeof:iR,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Iu.transition;Iu.transition={};try{t()}finally{Iu.transition=e}};$e.unstable_act=H_;$e.useCallback=function(t,e){return bn.current.useCallback(t,e)};$e.useContext=function(t){return bn.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};$e.useEffect=function(t,e){return bn.current.useEffect(t,e)};$e.useId=function(){return bn.current.useId()};$e.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};$e.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return bn.current.useMemo(t,e)};$e.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};$e.useRef=function(t){return bn.current.useRef(t)};$e.useState=function(t){return bn.current.useState(t)};$e.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};$e.useTransition=function(){return bn.current.useTransition()};$e.version="18.3.1";L_.exports=$e;var p=L_.exports;const Q=O_(p),cg=XA({__proto__:null,default:Q},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hR=p,pR=Symbol.for("react.element"),mR=Symbol.for("react.fragment"),gR=Object.prototype.hasOwnProperty,vR=hR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)gR.call(e,r)&&!yR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pR,type:t,key:o,ref:i,props:s,_owner:vR.current}}Kd.Fragment=mR;Kd.jsx=q_;Kd.jsxs=q_;j_.exports=Kd;var f=j_.exports,K_={exports:{}},qn={},G_={exports:{}},Q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,B){var F=V.length;V.push(B);e:for(;0<F;){var Z=F-1>>>1,U=V[Z];if(0<s(U,B))V[Z]=B,V[F]=U,F=Z;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var B=V[0],F=V.pop();if(F!==B){V[0]=F;e:for(var Z=0,U=V.length,J=U>>>1;Z<J;){var ae=2*(Z+1)-1,Pe=V[ae],De=ae+1,X=V[De];if(0>s(Pe,F))De<U&&0>s(X,Pe)?(V[Z]=X,V[De]=F,Z=De):(V[Z]=Pe,V[ae]=F,Z=ae);else if(De<U&&0>s(X,F))V[Z]=X,V[De]=F,Z=De;else break e}}return B}function s(V,B){var F=V.sortIndex-B.sortIndex;return F!==0?F:V.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,m=3,v=!1,C=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=V)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function R(V){if(y=!1,_(V),!C)if(n(l)!==null)C=!0,W(D);else{var B=n(u);B!==null&&q(R,B.startTime-V)}}function D(V,B){C=!1,y&&(y=!1,x(S),S=-1),v=!0;var F=m;try{for(_(B),h=n(l);h!==null&&(!(h.expirationTime>B)||V&&!P());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var U=Z(h.expirationTime<=B);B=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(l)&&r(l),_(B)}else r(l);h=n(l)}if(h!==null)var J=!0;else{var ae=n(u);ae!==null&&q(R,ae.startTime-B),J=!1}return J}finally{h=null,m=F,v=!1}}var O=!1,T=null,S=-1,I=5,A=-1;function P(){return!(t.unstable_now()-A<I)}function M(){if(T!==null){var V=t.unstable_now();A=V;var B=!0;try{B=T(!0,V)}finally{B?N():(O=!1,T=null)}}else O=!1}var N;if(typeof w=="function")N=function(){w(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,K=L.port2;L.port1.onmessage=M,N=function(){K.postMessage(null)}}else N=function(){E(M,0)};function W(V){T=V,O||(O=!0,N())}function q(V,B){S=E(function(){V(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,W(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var F=m;m=B;try{return V()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,B){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=m;m=V;try{return B()}finally{m=F}},t.unstable_scheduleCallback=function(V,B,F){var Z=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Z+F:Z):F=Z,V){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=F+U,V={id:d++,callback:B,priorityLevel:V,startTime:F,expirationTime:U,sortIndex:-1},F>Z?(V.sortIndex=F,e(u,V),n(l)===null&&V===n(u)&&(y?(x(S),S=-1):y=!0,q(R,F-Z))):(V.sortIndex=U,e(l,V),C||v||(C=!0,W(D))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var B=m;return function(){var F=m;m=B;try{return V.apply(this,arguments)}finally{m=F}}}})(Q_);G_.exports=Q_;var wR=G_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR=p,Hn=wR;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y_=new Set,Rl={};function ti(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Rl[t]=e,t=0;t<e.length;t++)Y_.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=Object.prototype.hasOwnProperty,_R=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uw={},dw={};function ER(t){return wp.call(dw,t)?!0:wp.call(uw,t)?!1:_R.test(t)?dw[t]=!0:(uw[t]=!0,!1)}function bR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SR(t,e,n,r){if(e===null||typeof e>"u"||bR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ug=/[\-:]([a-z])/g;function dg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ug,dg);nn[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ug,dg);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ug,dg);nn[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,r){var s=nn.hasOwnProperty(e)?nn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SR(e,n,s,r)&&(n=null),r||s===null?ER(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ms=xR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),yi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),hg=Symbol.for("react.strict_mode"),xp=Symbol.for("react.profiler"),X_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),_p=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),Cs=Symbol.for("react.lazy"),Z_=Symbol.for("react.offscreen"),fw=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=fw&&t[fw]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,vh;function el(t){if(vh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vh=e&&e[1]||""}return`
`+vh+t}var yh=!1;function wh(t,e){if(!t||yh)return"";yh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{yh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function CR(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case yi:return"Portal";case xp:return"Profiler";case hg:return"StrictMode";case _p:return"Suspense";case Ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J_:return(t.displayName||"Context")+".Consumer";case X_:return(t._context.displayName||"Context")+".Provider";case pg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mg:return e=t.displayName||null,e!==null?e:bp(t.type)||"Memo";case Cs:e=t._payload,t=t._init;try{return bp(t(e))}catch{}}return null}function TR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bp(e);case 8:return e===hg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IR(t){var e=eE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yc(t){t._valueTracker||(t._valueTracker=IR(t))}function tE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sp(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nE(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function Cp(t,e){nE(t,e);var n=ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||Yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ro(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ip(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(tl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ro(n)}}function rE(t,e){var n=ro(e.value),r=ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ap(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,oE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AR=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(t){AR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dl[e]=dl[t]})});function iE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dl.hasOwnProperty(t)&&dl[t]?(""+e).trim():e+"px"}function aE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=iE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var RR=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(t,e){if(e){if(RR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function kp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=null;function gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pp=null,Pi=null,Di=null;function vw(t){if(t=pc(t)){if(typeof Pp!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Jd(e),Pp(t.stateNode,t.type,e))}}function lE(t){Pi?Di?Di.push(t):Di=[t]:Pi=t}function cE(){if(Pi){var t=Pi,e=Di;if(Di=Pi=null,vw(t),e)for(t=0;t<e.length;t++)vw(e[t])}}function uE(t,e){return t(e)}function dE(){}var xh=!1;function fE(t,e,n){if(xh)return t(e,n);xh=!0;try{return uE(t,e,n)}finally{xh=!1,(Pi!==null||Di!==null)&&(dE(),cE())}}function Nl(t,e){var n=t.stateNode;if(n===null)return null;var r=Jd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Dp=!1;if(os)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Dp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Dp=!1}function kR(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var fl=!1,Xu=null,Ju=!1,Mp=null,NR={onError:function(t){fl=!0,Xu=t}};function PR(t,e,n,r,s,o,i,a,l){fl=!1,Xu=null,kR.apply(NR,arguments)}function DR(t,e,n,r,s,o,i,a,l){if(PR.apply(this,arguments),fl){if(fl){var u=Xu;fl=!1,Xu=null}else throw Error(ee(198));Ju||(Ju=!0,Mp=u)}}function ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yw(t){if(ni(t)!==t)throw Error(ee(188))}function MR(t){var e=t.alternate;if(!e){if(e=ni(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return yw(s),t;if(o===r)return yw(s),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function pE(t){return t=MR(t),t!==null?mE(t):null}function mE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mE(t);if(e!==null)return e;t=t.sibling}return null}var gE=Hn.unstable_scheduleCallback,ww=Hn.unstable_cancelCallback,OR=Hn.unstable_shouldYield,jR=Hn.unstable_requestPaint,Dt=Hn.unstable_now,LR=Hn.unstable_getCurrentPriorityLevel,vg=Hn.unstable_ImmediatePriority,vE=Hn.unstable_UserBlockingPriority,Zu=Hn.unstable_NormalPriority,VR=Hn.unstable_LowPriority,yE=Hn.unstable_IdlePriority,Gd=null,Lr=null;function FR(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Gd,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:UR,$R=Math.log,BR=Math.LN2;function UR(t){return t>>>=0,t===0?32:31-($R(t)/BR|0)|0}var Jc=64,Zc=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ed(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=nl(a):(o&=i,o!==0&&(r=nl(o)))}else i=n&~s,i!==0?r=nl(i):o!==0&&(r=nl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),s=1<<n,r|=t[n],e&=~s;return r}function zR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-yr(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=zR(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wE(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function _h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function HR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function yg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function xE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _E,wg,EE,bE,SE,jp=!1,eu=[],Us=null,zs=null,Ws=null,Pl=new Map,Dl=new Map,As=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xw(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function Ha(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=pc(e),e!==null&&wg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KR(t,e,n,r,s){switch(e){case"focusin":return Us=Ha(Us,t,e,n,r,s),!0;case"dragenter":return zs=Ha(zs,t,e,n,r,s),!0;case"mouseover":return Ws=Ha(Ws,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Pl.set(o,Ha(Pl.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Dl.set(o,Ha(Dl.get(o)||null,t,e,n,r,s)),!0}return!1}function CE(t){var e=To(t.target);if(e!==null){var n=ni(e);if(n!==null){if(e=n.tag,e===13){if(e=hE(n),e!==null){t.blockedOn=e,SE(t.priority,function(){EE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Lp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Np=r,n.target.dispatchEvent(r),Np=null}else return e=pc(n),e!==null&&wg(e),t.blockedOn=n,!1;e.shift()}return!0}function _w(t,e,n){Au(t)&&n.delete(e)}function GR(){jp=!1,Us!==null&&Au(Us)&&(Us=null),zs!==null&&Au(zs)&&(zs=null),Ws!==null&&Au(Ws)&&(Ws=null),Pl.forEach(_w),Dl.forEach(_w)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,jp||(jp=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,GR)))}function Ml(t){function e(s){return qa(s,t)}if(0<eu.length){qa(eu[0],t);for(var n=1;n<eu.length;n++){var r=eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Us!==null&&qa(Us,t),zs!==null&&qa(zs,t),Ws!==null&&qa(Ws,t),Pl.forEach(e),Dl.forEach(e),n=0;n<As.length;n++)r=As[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)CE(n),n.blockedOn===null&&As.shift()}var Mi=ms.ReactCurrentBatchConfig,td=!0;function QR(t,e,n,r){var s=tt,o=Mi.transition;Mi.transition=null;try{tt=1,xg(t,e,n,r)}finally{tt=s,Mi.transition=o}}function YR(t,e,n,r){var s=tt,o=Mi.transition;Mi.transition=null;try{tt=4,xg(t,e,n,r)}finally{tt=s,Mi.transition=o}}function xg(t,e,n,r){if(td){var s=Lp(t,e,n,r);if(s===null)Nh(t,e,r,nd,n),xw(t,r);else if(KR(s,t,e,n,r))r.stopPropagation();else if(xw(t,r),e&4&&-1<qR.indexOf(t)){for(;s!==null;){var o=pc(s);if(o!==null&&_E(o),o=Lp(t,e,n,r),o===null&&Nh(t,e,r,nd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Nh(t,e,r,null,n)}}var nd=null;function Lp(t,e,n,r){if(nd=null,t=gg(r),t=To(t),t!==null)if(e=ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nd=t,null}function TE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LR()){case vg:return 1;case vE:return 4;case Zu:case VR:return 16;case yE:return 536870912;default:return 16}default:return 16}}var js=null,_g=null,Ru=null;function IE(){if(Ru)return Ru;var t,e=_g,n=e.length,r,s="value"in js?js.value:js.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Ru=s.slice(t,1<r?1-r:void 0)}function ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tu(){return!0}function Ew(){return!1}function Kn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tu:Ew,this.isPropagationStopped=Ew,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=Kn(_a),hc=bt({},_a,{view:0,detail:0}),XR=Kn(hc),Eh,bh,Ka,Qd=bt({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(Eh=t.screenX-Ka.screenX,bh=t.screenY-Ka.screenY):bh=Eh=0,Ka=t),Eh)},movementY:function(t){return"movementY"in t?t.movementY:bh}}),bw=Kn(Qd),JR=bt({},Qd,{dataTransfer:0}),ZR=Kn(JR),ek=bt({},hc,{relatedTarget:0}),Sh=Kn(ek),tk=bt({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),nk=Kn(tk),rk=bt({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sk=Kn(rk),ok=bt({},_a,{data:0}),Sw=Kn(ok),ik={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ak={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ck(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lk[t])?!!e[t]:!1}function bg(){return ck}var uk=bt({},hc,{key:function(t){if(t.key){var e=ik[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ak[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bg,charCode:function(t){return t.type==="keypress"?ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dk=Kn(uk),fk=bt({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cw=Kn(fk),hk=bt({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bg}),pk=Kn(hk),mk=bt({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),gk=Kn(mk),vk=bt({},Qd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yk=Kn(vk),wk=[9,13,27,32],Sg=os&&"CompositionEvent"in window,hl=null;os&&"documentMode"in document&&(hl=document.documentMode);var xk=os&&"TextEvent"in window&&!hl,AE=os&&(!Sg||hl&&8<hl&&11>=hl),Tw=" ",Iw=!1;function RE(t,e){switch(t){case"keyup":return wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function _k(t,e){switch(t){case"compositionend":return kE(e);case"keypress":return e.which!==32?null:(Iw=!0,Tw);case"textInput":return t=e.data,t===Tw&&Iw?null:t;default:return null}}function Ek(t,e){if(xi)return t==="compositionend"||!Sg&&RE(t,e)?(t=IE(),Ru=_g=js=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AE&&e.locale!=="ko"?null:e.data;default:return null}}var bk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bk[t.type]:e==="textarea"}function NE(t,e,n,r){lE(r),e=rd(e,"onChange"),0<e.length&&(n=new Eg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pl=null,Ol=null;function Sk(t){UE(t,0)}function Yd(t){var e=bi(t);if(tE(e))return t}function Ck(t,e){if(t==="change")return e}var PE=!1;if(os){var Ch;if(os){var Th="oninput"in document;if(!Th){var Rw=document.createElement("div");Rw.setAttribute("oninput","return;"),Th=typeof Rw.oninput=="function"}Ch=Th}else Ch=!1;PE=Ch&&(!document.documentMode||9<document.documentMode)}function kw(){pl&&(pl.detachEvent("onpropertychange",DE),Ol=pl=null)}function DE(t){if(t.propertyName==="value"&&Yd(Ol)){var e=[];NE(e,Ol,t,gg(t)),fE(Sk,e)}}function Tk(t,e,n){t==="focusin"?(kw(),pl=e,Ol=n,pl.attachEvent("onpropertychange",DE)):t==="focusout"&&kw()}function Ik(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(Ol)}function Ak(t,e){if(t==="click")return Yd(e)}function Rk(t,e){if(t==="input"||t==="change")return Yd(e)}function kk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:kk;function jl(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wp.call(e,s)||!xr(t[s],e[s]))return!1}return!0}function Nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pw(t,e){var n=Nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nw(n)}}function ME(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ME(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OE(){for(var t=window,e=Yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yu(t.document)}return e}function Cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Nk(t){var e=OE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ME(n.ownerDocument.documentElement,n)){if(r!==null&&Cg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Pw(n,o);var i=Pw(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Pk=os&&"documentMode"in document&&11>=document.documentMode,_i=null,Vp=null,ml=null,Fp=!1;function Dw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fp||_i==null||_i!==Yu(r)||(r=_i,"selectionStart"in r&&Cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ml&&jl(ml,r)||(ml=r,r=rd(Vp,"onSelect"),0<r.length&&(e=new Eg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_i)))}function nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ei={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},Ih={},jE={};os&&(jE=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Xd(t){if(Ih[t])return Ih[t];if(!Ei[t])return t;var e=Ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jE)return Ih[t]=e[n];return t}var LE=Xd("animationend"),VE=Xd("animationiteration"),FE=Xd("animationstart"),$E=Xd("transitionend"),BE=new Map,Mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){BE.set(t,e),ti(e,[t])}for(var Ah=0;Ah<Mw.length;Ah++){var Rh=Mw[Ah],Dk=Rh.toLowerCase(),Mk=Rh[0].toUpperCase()+Rh.slice(1);uo(Dk,"on"+Mk)}uo(LE,"onAnimationEnd");uo(VE,"onAnimationIteration");uo(FE,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo($E,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ok=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DR(r,e,void 0,t),t.currentTarget=null}function UE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Ow(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Ow(s,a,u),o=l}}}if(Ju)throw t=Mp,Ju=!1,Mp=null,t}function gt(t,e){var n=e[Wp];n===void 0&&(n=e[Wp]=new Set);var r=t+"__bubble";n.has(r)||(zE(e,t,2,!1),n.add(r))}function kh(t,e,n){var r=0;e&&(r|=4),zE(n,t,r,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Ll(t){if(!t[ru]){t[ru]=!0,Y_.forEach(function(n){n!=="selectionchange"&&(Ok.has(n)||kh(n,!1,t),kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,kh("selectionchange",!1,e))}}function zE(t,e,n,r){switch(TE(e)){case 1:var s=QR;break;case 4:s=YR;break;default:s=xg}n=s.bind(null,e,n,t),s=void 0,!Dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nh(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=To(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}fE(function(){var u=o,d=gg(n),h=[];e:{var m=BE.get(t);if(m!==void 0){var v=Eg,C=t;switch(t){case"keypress":if(ku(n)===0)break e;case"keydown":case"keyup":v=dk;break;case"focusin":C="focus",v=Sh;break;case"focusout":C="blur",v=Sh;break;case"beforeblur":case"afterblur":v=Sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ZR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=pk;break;case LE:case VE:case FE:v=nk;break;case $E:v=gk;break;case"scroll":v=XR;break;case"wheel":v=yk;break;case"copy":case"cut":case"paste":v=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cw}var y=(e&4)!==0,E=!y&&t==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,_;w!==null;){_=w;var R=_.stateNode;if(_.tag===5&&R!==null&&(_=R,x!==null&&(R=Nl(w,x),R!=null&&y.push(Vl(w,R,_)))),E)break;w=w.return}0<y.length&&(m=new v(m,C,null,n,d),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Np&&(C=n.relatedTarget||n.fromElement)&&(To(C)||C[is]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=u,C=C?To(C):null,C!==null&&(E=ni(C),C!==E||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=u),v!==C)){if(y=bw,R="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=Cw,R="onPointerLeave",x="onPointerEnter",w="pointer"),E=v==null?m:bi(v),_=C==null?m:bi(C),m=new y(R,w+"leave",v,n,d),m.target=E,m.relatedTarget=_,R=null,To(d)===u&&(y=new y(x,w+"enter",C,n,d),y.target=_,y.relatedTarget=E,R=y),E=R,v&&C)t:{for(y=v,x=C,w=0,_=y;_;_=di(_))w++;for(_=0,R=x;R;R=di(R))_++;for(;0<w-_;)y=di(y),w--;for(;0<_-w;)x=di(x),_--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=di(y),x=di(x)}y=null}else y=null;v!==null&&jw(h,m,v,y,!1),C!==null&&E!==null&&jw(h,E,C,y,!0)}}e:{if(m=u?bi(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=Ck;else if(Aw(m))if(PE)D=Rk;else{D=Ik;var O=Tk}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=Ak);if(D&&(D=D(t,u))){NE(h,D,n,d);break e}O&&O(t,m,u),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Tp(m,"number",m.value)}switch(O=u?bi(u):window,t){case"focusin":(Aw(O)||O.contentEditable==="true")&&(_i=O,Vp=u,ml=null);break;case"focusout":ml=Vp=_i=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,Dw(h,n,d);break;case"selectionchange":if(Pk)break;case"keydown":case"keyup":Dw(h,n,d)}var T;if(Sg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xi?RE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(AE&&n.locale!=="ko"&&(xi||S!=="onCompositionStart"?S==="onCompositionEnd"&&xi&&(T=IE()):(js=d,_g="value"in js?js.value:js.textContent,xi=!0)),O=rd(u,S),0<O.length&&(S=new Sw(S,t,null,n,d),h.push({event:S,listeners:O}),T?S.data=T:(T=kE(n),T!==null&&(S.data=T)))),(T=xk?_k(t,n):Ek(t,n))&&(u=rd(u,"onBeforeInput"),0<u.length&&(d=new Sw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}UE(h,e)})}function Vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Nl(t,n),o!=null&&r.unshift(Vl(t,o,s)),o=Nl(t,e),o!=null&&r.push(Vl(t,o,s))),t=t.return}return r}function di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jw(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Nl(n,o),l!=null&&i.unshift(Vl(n,l,a))):s||(l=Nl(n,o),l!=null&&i.push(Vl(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var jk=/\r\n?/g,Lk=/\u0000|\uFFFD/g;function Lw(t){return(typeof t=="string"?t:""+t).replace(jk,`
`).replace(Lk,"")}function su(t,e,n){if(e=Lw(e),Lw(t)!==e&&n)throw Error(ee(425))}function sd(){}var $p=null,Bp=null;function Up(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zp=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,Vw=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof Vw<"u"?function(t){return Vw.resolve(null).then(t).catch($k)}:zp;function $k(t){setTimeout(function(){throw t})}function Ph(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ml(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Ea,Fl="__reactProps$"+Ea,is="__reactContainer$"+Ea,Wp="__reactEvents$"+Ea,Bk="__reactListeners$"+Ea,Uk="__reactHandles$"+Ea;function To(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[is]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fw(t);t!==null;){if(n=t[Mr])return n;t=Fw(t)}return e}t=n,n=t.parentNode}return null}function pc(t){return t=t[Mr]||t[is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Jd(t){return t[Fl]||null}var Hp=[],Si=-1;function fo(t){return{current:t}}function yt(t){0>Si||(t.current=Hp[Si],Hp[Si]=null,Si--)}function lt(t,e){Si++,Hp[Si]=t.current,t.current=e}var so={},mn=fo(so),Dn=fo(!1),Uo=so;function na(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Mn(t){return t=t.childContextTypes,t!=null}function od(){yt(Dn),yt(mn)}function $w(t,e,n){if(mn.current!==so)throw Error(ee(168));lt(mn,e),lt(Dn,n)}function WE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,TR(t)||"Unknown",s));return bt({},n,r)}function id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,Uo=mn.current,lt(mn,t),lt(Dn,Dn.current),!0}function Bw(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=WE(t,e,Uo),r.__reactInternalMemoizedMergedChildContext=t,yt(Dn),yt(mn),lt(mn,t)):yt(Dn),lt(Dn,n)}var Jr=null,Zd=!1,Dh=!1;function HE(t){Jr===null?Jr=[t]:Jr.push(t)}function zk(t){Zd=!0,HE(t)}function ho(){if(!Dh&&Jr!==null){Dh=!0;var t=0,e=tt;try{var n=Jr;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,Zd=!1}catch(s){throw Jr!==null&&(Jr=Jr.slice(t+1)),gE(vg,ho),s}finally{tt=e,Dh=!1}}return null}var Ci=[],Ti=0,ad=null,ld=0,Yn=[],Xn=0,zo=null,es=1,ts="";function bo(t,e){Ci[Ti++]=ld,Ci[Ti++]=ad,ad=t,ld=e}function qE(t,e,n){Yn[Xn++]=es,Yn[Xn++]=ts,Yn[Xn++]=zo,zo=t;var r=es;t=ts;var s=32-yr(r)-1;r&=~(1<<s),n+=1;var o=32-yr(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,es=1<<32-yr(e)+s|n<<s|r,ts=o+t}else es=1<<o|n<<s|r,ts=t}function Tg(t){t.return!==null&&(bo(t,1),qE(t,1,0))}function Ig(t){for(;t===ad;)ad=Ci[--Ti],Ci[Ti]=null,ld=Ci[--Ti],Ci[Ti]=null;for(;t===zo;)zo=Yn[--Xn],Yn[Xn]=null,ts=Yn[--Xn],Yn[Xn]=null,es=Yn[--Xn],Yn[Xn]=null}var zn=null,Bn=null,xt=!1,vr=null;function KE(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Bn=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:es,overflow:ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,Bn=null,!0):!1;default:return!1}}function qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(xt){var e=Bn;if(e){var n=e;if(!Uw(t,e)){if(qp(t))throw Error(ee(418));e=Hs(n.nextSibling);var r=zn;e&&Uw(t,e)?KE(r,n):(t.flags=t.flags&-4097|2,xt=!1,zn=t)}}else{if(qp(t))throw Error(ee(418));t.flags=t.flags&-4097|2,xt=!1,zn=t}}}function zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function ou(t){if(t!==zn)return!1;if(!xt)return zw(t),xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Up(t.type,t.memoizedProps)),e&&(e=Bn)){if(qp(t))throw GE(),Error(ee(418));for(;e;)KE(t,e),e=Hs(e.nextSibling)}if(zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=Hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=zn?Hs(t.stateNode.nextSibling):null;return!0}function GE(){for(var t=Bn;t;)t=Hs(t.nextSibling)}function ra(){Bn=zn=null,xt=!1}function Ag(t){vr===null?vr=[t]:vr.push(t)}var Wk=ms.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function iu(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ww(t){var e=t._init;return e(t._payload)}function QE(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=Qs(x,w),x.index=0,x.sibling=null,x}function o(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,_,R){return w===null||w.tag!==6?(w=$h(_,x.mode,R),w.return=x,w):(w=s(w,_),w.return=x,w)}function l(x,w,_,R){var D=_.type;return D===wi?d(x,w,_.props.children,R,_.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Cs&&Ww(D)===w.type)?(R=s(w,_.props),R.ref=Ga(x,w,_),R.return=x,R):(R=Lu(_.type,_.key,_.props,null,x.mode,R),R.ref=Ga(x,w,_),R.return=x,R)}function u(x,w,_,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Bh(_,x.mode,R),w.return=x,w):(w=s(w,_.children||[]),w.return=x,w)}function d(x,w,_,R,D){return w===null||w.tag!==7?(w=Fo(_,x.mode,R,D),w.return=x,w):(w=s(w,_),w.return=x,w)}function h(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$h(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qc:return _=Lu(w.type,w.key,w.props,null,x.mode,_),_.ref=Ga(x,null,w),_.return=x,_;case yi:return w=Bh(w,x.mode,_),w.return=x,w;case Cs:var R=w._init;return h(x,R(w._payload),_)}if(tl(w)||za(w))return w=Fo(w,x.mode,_,null),w.return=x,w;iu(x,w)}return null}function m(x,w,_,R){var D=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:a(x,w,""+_,R);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qc:return _.key===D?l(x,w,_,R):null;case yi:return _.key===D?u(x,w,_,R):null;case Cs:return D=_._init,m(x,w,D(_._payload),R)}if(tl(_)||za(_))return D!==null?null:d(x,w,_,R,null);iu(x,_)}return null}function v(x,w,_,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(_)||null,a(w,x,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Qc:return x=x.get(R.key===null?_:R.key)||null,l(w,x,R,D);case yi:return x=x.get(R.key===null?_:R.key)||null,u(w,x,R,D);case Cs:var O=R._init;return v(x,w,_,O(R._payload),D)}if(tl(R)||za(R))return x=x.get(_)||null,d(w,x,R,D,null);iu(w,R)}return null}function C(x,w,_,R){for(var D=null,O=null,T=w,S=w=0,I=null;T!==null&&S<_.length;S++){T.index>S?(I=T,T=null):I=T.sibling;var A=m(x,T,_[S],R);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(x,T),w=o(A,w,S),O===null?D=A:O.sibling=A,O=A,T=I}if(S===_.length)return n(x,T),xt&&bo(x,S),D;if(T===null){for(;S<_.length;S++)T=h(x,_[S],R),T!==null&&(w=o(T,w,S),O===null?D=T:O.sibling=T,O=T);return xt&&bo(x,S),D}for(T=r(x,T);S<_.length;S++)I=v(T,x,S,_[S],R),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),w=o(I,w,S),O===null?D=I:O.sibling=I,O=I);return t&&T.forEach(function(P){return e(x,P)}),xt&&bo(x,S),D}function y(x,w,_,R){var D=za(_);if(typeof D!="function")throw Error(ee(150));if(_=D.call(_),_==null)throw Error(ee(151));for(var O=D=null,T=w,S=w=0,I=null,A=_.next();T!==null&&!A.done;S++,A=_.next()){T.index>S?(I=T,T=null):I=T.sibling;var P=m(x,T,A.value,R);if(P===null){T===null&&(T=I);break}t&&T&&P.alternate===null&&e(x,T),w=o(P,w,S),O===null?D=P:O.sibling=P,O=P,T=I}if(A.done)return n(x,T),xt&&bo(x,S),D;if(T===null){for(;!A.done;S++,A=_.next())A=h(x,A.value,R),A!==null&&(w=o(A,w,S),O===null?D=A:O.sibling=A,O=A);return xt&&bo(x,S),D}for(T=r(x,T);!A.done;S++,A=_.next())A=v(T,x,S,A.value,R),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?S:A.key),w=o(A,w,S),O===null?D=A:O.sibling=A,O=A);return t&&T.forEach(function(M){return e(x,M)}),xt&&bo(x,S),D}function E(x,w,_,R){if(typeof _=="object"&&_!==null&&_.type===wi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Qc:e:{for(var D=_.key,O=w;O!==null;){if(O.key===D){if(D=_.type,D===wi){if(O.tag===7){n(x,O.sibling),w=s(O,_.props.children),w.return=x,x=w;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Cs&&Ww(D)===O.type){n(x,O.sibling),w=s(O,_.props),w.ref=Ga(x,O,_),w.return=x,x=w;break e}n(x,O);break}else e(x,O);O=O.sibling}_.type===wi?(w=Fo(_.props.children,x.mode,R,_.key),w.return=x,x=w):(R=Lu(_.type,_.key,_.props,null,x.mode,R),R.ref=Ga(x,w,_),R.return=x,x=R)}return i(x);case yi:e:{for(O=_.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(x,w.sibling),w=s(w,_.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Bh(_,x.mode,R),w.return=x,x=w}return i(x);case Cs:return O=_._init,E(x,w,O(_._payload),R)}if(tl(_))return C(x,w,_,R);if(za(_))return y(x,w,_,R);iu(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,_),w.return=x,x=w):(n(x,w),w=$h(_,x.mode,R),w.return=x,x=w),i(x)):n(x,w)}return E}var sa=QE(!0),YE=QE(!1),cd=fo(null),ud=null,Ii=null,Rg=null;function kg(){Rg=Ii=ud=null}function Ng(t){var e=cd.current;yt(cd),t._currentValue=e}function Gp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oi(t,e){ud=t,Rg=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(Rg!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(ud===null)throw Error(ee(308));Ii=t,ud.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Io=null;function Pg(t){Io===null?Io=[t]:Io.push(t)}function XE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Pg(e)):(n.next=s.next,s.next=n),e.interleaved=n,as(t,r)}function as(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,as(t,n)}return s=r.interleaved,s===null?(e.next=e,Pg(r)):(e.next=s.next,s.next=e),r.interleaved=e,as(t,n)}function Nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yg(t,n)}}function Hw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dd(t,e,n,r){var s=t.updateQueue;Ts=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,y=a;switch(m=e,v=n,y.tag){case 1:if(C=y.payload,typeof C=="function"){h=C.call(v,h,m);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=y.payload,m=typeof C=="function"?C.call(v,h,m):C,m==null)break e;h=bt({},h,m);break e;case 2:Ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ho|=i,t.lanes=i,t.memoizedState=h}}function qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var mc={},Vr=fo(mc),$l=fo(mc),Bl=fo(mc);function Ao(t){if(t===mc)throw Error(ee(174));return t}function Mg(t,e){switch(lt(Bl,e),lt($l,t),lt(Vr,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ap(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ap(e,t)}yt(Vr),lt(Vr,e)}function oa(){yt(Vr),yt($l),yt(Bl)}function ZE(t){Ao(Bl.current);var e=Ao(Vr.current),n=Ap(e,t.type);e!==n&&(lt($l,t),lt(Vr,n))}function Og(t){$l.current===t&&(yt(Vr),yt($l))}var _t=fo(0);function fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mh=[];function jg(){for(var t=0;t<Mh.length;t++)Mh[t]._workInProgressVersionPrimary=null;Mh.length=0}var Pu=ms.ReactCurrentDispatcher,Oh=ms.ReactCurrentBatchConfig,Wo=0,Et=null,Vt=null,qt=null,hd=!1,gl=!1,Ul=0,Hk=0;function cn(){throw Error(ee(321))}function Lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function Vg(t,e,n,r,s,o){if(Wo=o,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pu.current=t===null||t.memoizedState===null?Qk:Yk,t=n(r,s),gl){o=0;do{if(gl=!1,Ul=0,25<=o)throw Error(ee(301));o+=1,qt=Vt=null,e.updateQueue=null,Pu.current=Xk,t=n(r,s)}while(gl)}if(Pu.current=pd,e=Vt!==null&&Vt.next!==null,Wo=0,qt=Vt=Et=null,hd=!1,e)throw Error(ee(300));return t}function Fg(){var t=Ul!==0;return Ul=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=t:qt=qt.next=t,qt}function nr(){if(Vt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=qt===null?Et.memoizedState:qt.next;if(e!==null)qt=e,Vt=t;else{if(t===null)throw Error(ee(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?Et.memoizedState=qt=t:qt=qt.next=t}return qt}function zl(t,e){return typeof e=="function"?e(t):e}function jh(t){var e=nr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Vt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Wo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Et.lanes|=d,Ho|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,xr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Et.lanes|=o,Ho|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=nr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);xr(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function eb(){}function tb(t,e){var n=Et,r=nr(),s=e(),o=!xr(r.memoizedState,s);if(o&&(r.memoizedState=s,Pn=!0),r=r.queue,$g(sb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Wl(9,rb.bind(null,n,r,s,e),void 0,null),Gt===null)throw Error(ee(349));Wo&30||nb(n,e,s)}return s}function nb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rb(t,e,n,r){e.value=n,e.getSnapshot=r,ob(e)&&ib(t)}function sb(t,e,n){return n(function(){ob(e)&&ib(t)})}function ob(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function ib(t){var e=as(t,1);e!==null&&wr(e,t,1,-1)}function Kw(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=Gk.bind(null,Et,t),[e.memoizedState,t]}function Wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ab(){return nr().memoizedState}function Du(t,e,n,r){var s=Rr();Et.flags|=t,s.memoizedState=Wl(1|e,n,void 0,r===void 0?null:r)}function ef(t,e,n,r){var s=nr();r=r===void 0?null:r;var o=void 0;if(Vt!==null){var i=Vt.memoizedState;if(o=i.destroy,r!==null&&Lg(r,i.deps)){s.memoizedState=Wl(e,n,o,r);return}}Et.flags|=t,s.memoizedState=Wl(1|e,n,o,r)}function Gw(t,e){return Du(8390656,8,t,e)}function $g(t,e){return ef(2048,8,t,e)}function lb(t,e){return ef(4,2,t,e)}function cb(t,e){return ef(4,4,t,e)}function ub(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function db(t,e,n){return n=n!=null?n.concat([t]):null,ef(4,4,ub.bind(null,e,t),n)}function Bg(){}function fb(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hb(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pb(t,e,n){return Wo&21?(xr(n,e)||(n=wE(),Et.lanes|=n,Ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function qk(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=Oh.transition;Oh.transition={};try{t(!1),e()}finally{tt=n,Oh.transition=r}}function mb(){return nr().memoizedState}function Kk(t,e,n){var r=Gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gb(t))vb(e,n);else if(n=XE(t,e,n,r),n!==null){var s=En();wr(n,t,r,s),yb(n,e,r)}}function Gk(t,e,n){var r=Gs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gb(t))vb(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,xr(a,i)){var l=e.interleaved;l===null?(s.next=s,Pg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=XE(t,e,s,r),n!==null&&(s=En(),wr(n,t,r,s),yb(n,e,r))}}function gb(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function vb(t,e){gl=hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yg(t,n)}}var pd={readContext:tr,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},Qk={readContext:tr,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:Gw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Du(4194308,4,ub.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Du(4194308,4,t,e)},useInsertionEffect:function(t,e){return Du(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Kk.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:Kw,useDebugValue:Bg,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=Kw(!1),e=t[0];return t=qk.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,s=Rr();if(xt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Gt===null)throw Error(ee(349));Wo&30||nb(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Gw(sb.bind(null,r,o,t),[t]),r.flags|=2048,Wl(9,rb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Gt.identifierPrefix;if(xt){var n=ts,r=es;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Hk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yk={readContext:tr,useCallback:fb,useContext:tr,useEffect:$g,useImperativeHandle:db,useInsertionEffect:lb,useLayoutEffect:cb,useMemo:hb,useReducer:jh,useRef:ab,useState:function(){return jh(zl)},useDebugValue:Bg,useDeferredValue:function(t){var e=nr();return pb(e,Vt.memoizedState,t)},useTransition:function(){var t=jh(zl)[0],e=nr().memoizedState;return[t,e]},useMutableSource:eb,useSyncExternalStore:tb,useId:mb,unstable_isNewReconciler:!1},Xk={readContext:tr,useCallback:fb,useContext:tr,useEffect:$g,useImperativeHandle:db,useInsertionEffect:lb,useLayoutEffect:cb,useMemo:hb,useReducer:Lh,useRef:ab,useState:function(){return Lh(zl)},useDebugValue:Bg,useDeferredValue:function(t){var e=nr();return Vt===null?e.memoizedState=t:pb(e,Vt.memoizedState,t)},useTransition:function(){var t=Lh(zl)[0],e=nr().memoizedState;return[t,e]},useMutableSource:eb,useSyncExternalStore:tb,useId:mb,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tf={isMounted:function(t){return(t=t._reactInternals)?ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),s=Gs(t),o=ns(r,s);o.payload=e,n!=null&&(o.callback=n),e=qs(t,o,s),e!==null&&(wr(e,t,s,r),Nu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),s=Gs(t),o=ns(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qs(t,o,s),e!==null&&(wr(e,t,s,r),Nu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=Gs(t),s=ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=qs(t,s,r),e!==null&&(wr(e,t,r,n),Nu(e,t,r))}};function Qw(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(s,o):!0}function wb(t,e,n){var r=!1,s=so,o=e.contextType;return typeof o=="object"&&o!==null?o=tr(o):(s=Mn(e)?Uo:mn.current,r=e.contextTypes,o=(r=r!=null)?na(t,s):so),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tf.enqueueReplaceState(e,e.state,null)}function Yp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Dg(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=tr(o):(o=Mn(e)?Uo:mn.current,s.context=na(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qp(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&tf.enqueueReplaceState(s,s.state,null),dd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ia(t,e){try{var n="",r=e;do n+=CR(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Vh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jk=typeof WeakMap=="function"?WeakMap:Map;function xb(t,e,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gd||(gd=!0,am=r),Xp(t,e)},n}function _b(t,e,n){n=ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xp(t,e),typeof r!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Xw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fN.bind(null,t,e,n),e.then(t,t))}function Jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ns(-1,1),e.tag=2,qs(n,e,1))),n.lanes|=1),t)}var Zk=ms.ReactCurrentOwner,Pn=!1;function xn(t,e,n,r){e.child=t===null?YE(e,null,n,r):sa(e,t.child,n,r)}function e0(t,e,n,r,s){n=n.render;var o=e.ref;return Oi(e,s),r=Vg(t,e,n,r,o,s),n=Fg(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(xt&&n&&Tg(e),e.flags|=1,xn(t,e,r,s),e.child)}function t0(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Qg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Eb(t,e,o,r,s)):(t=Lu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(i,r)&&t.ref===e.ref)return ls(t,e,s)}return e.flags|=1,t=Qs(o,r),t.ref=e.ref,t.return=e,e.child=t}function Eb(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(jl(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,ls(t,e,s)}return Jp(t,e,n,r,s)}function bb(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Ri,Fn),Fn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Ri,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,lt(Ri,Fn),Fn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,lt(Ri,Fn),Fn|=r;return xn(t,e,s,n),e.child}function Sb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,n,r,s){var o=Mn(n)?Uo:mn.current;return o=na(e,o),Oi(e,s),n=Vg(t,e,n,r,o,s),r=Fg(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(xt&&r&&Tg(e),e.flags|=1,xn(t,e,n,s),e.child)}function n0(t,e,n,r,s){if(Mn(n)){var o=!0;id(e)}else o=!1;if(Oi(e,s),e.stateNode===null)Mu(t,e),wb(e,n,r),Yp(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=Mn(n)?Uo:mn.current,u=na(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yw(e,i,r,u),Ts=!1;var m=e.memoizedState;i.state=m,dd(e,r,i,s),l=e.memoizedState,a!==r||m!==l||Dn.current||Ts?(typeof d=="function"&&(Qp(e,n,d,r),l=e.memoizedState),(a=Ts||Qw(e,n,a,r,m,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,JE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ur(e.type,a),i.props=u,h=e.pendingProps,m=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=Mn(n)?Uo:mn.current,l=na(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==l)&&Yw(e,i,r,l),Ts=!1,m=e.memoizedState,i.state=m,dd(e,r,i,s);var C=e.memoizedState;a!==h||m!==C||Dn.current||Ts?(typeof v=="function"&&(Qp(e,n,v,r),C=e.memoizedState),(u=Ts||Qw(e,n,u,r,m,C,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,C,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,C,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),i.props=r,i.state=C,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Zp(t,e,n,r,o,s)}function Zp(t,e,n,r,s,o){Sb(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Bw(e,n,!1),ls(t,e,o);r=e.stateNode,Zk.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=sa(e,t.child,null,o),e.child=sa(e,null,a,o)):xn(t,e,a,o),e.memoizedState=r.state,s&&Bw(e,n,!0),e.child}function Cb(t){var e=t.stateNode;e.pendingContext?$w(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$w(t,e.context,!1),Mg(t,e.containerInfo)}function r0(t,e,n,r,s){return ra(),Ag(s),e.flags|=256,xn(t,e,n,r),e.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tb(t,e,n){var r=e.pendingProps,s=_t.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),lt(_t,s&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=sf(i,r,0,null),t=Fo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=tm(n),e.memoizedState=em,t):Ug(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eN(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Qs(a,o):(o=Fo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?tm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=em,r}return o=t.child,t=o.sibling,r=Qs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ug(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function au(t,e,n,r){return r!==null&&Ag(r),sa(e,t.child,null,n),t=Ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eN(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Vh(Error(ee(422))),au(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=sf({mode:"visible",children:r.children},s,0,null),o=Fo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&sa(e,t.child,null,i),e.child.memoizedState=tm(i),e.memoizedState=em,o);if(!(e.mode&1))return au(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ee(419)),r=Vh(o,r,void 0),au(t,e,i,r)}if(a=(i&t.childLanes)!==0,Pn||a){if(r=Gt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,as(t,s),wr(r,t,s,-1))}return Gg(),r=Vh(Error(ee(421))),au(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=hN.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Bn=Hs(s.nextSibling),zn=e,xt=!0,vr=null,t!==null&&(Yn[Xn++]=es,Yn[Xn++]=ts,Yn[Xn++]=zo,es=t.id,ts=t.overflow,zo=e),e=Ug(e,r.children),e.flags|=4096,e)}function s0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gp(t.return,e,n)}function Fh(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Ib(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(xn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,n,e);else if(t.tag===19)s0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fh(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fh(e,!0,n,null,o);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tN(t,e,n){switch(e.tag){case 3:Cb(e),ra();break;case 5:ZE(e);break;case 1:Mn(e.type)&&id(e);break;case 4:Mg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;lt(cd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?Tb(t,e,n):(lt(_t,_t.current&1),t=ls(t,e,n),t!==null?t.sibling:null);lt(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ib(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),lt(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,bb(t,e,n)}return ls(t,e,n)}var Ab,nm,Rb,kb;Ab=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nm=function(){};Rb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ao(Vr.current);var o=null;switch(n){case"input":s=Sp(t,s),r=Sp(t,r),o=[];break;case"select":s=bt({},s,{value:void 0}),r=bt({},r,{value:void 0}),o=[];break;case"textarea":s=Ip(t,s),r=Ip(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sd)}Rp(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&gt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};kb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nN(t,e,n){var r=e.pendingProps;switch(Ig(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Mn(e.type)&&od(),un(e),null;case 3:return r=e.stateNode,oa(),yt(Dn),yt(mn),jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vr!==null&&(um(vr),vr=null))),nm(t,e),un(e),null;case 5:Og(e);var s=Ao(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)Rb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return un(e),null}if(t=Ao(Vr.current),ou(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Mr]=e,r[Fl]=o,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)gt(rl[s],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":hw(r,o),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},gt("invalid",r);break;case"textarea":mw(r,o),gt("invalid",r)}Rp(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&su(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&su(r.textContent,a,t),s=["children",""+a]):Rl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&gt("scroll",r)}switch(n){case"input":Yc(r),pw(r,o,!0);break;case"textarea":Yc(r),gw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=sd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Mr]=e,t[Fl]=r,Ab(t,e,!1,!1),e.stateNode=t;e:{switch(i=kp(n,r),n){case"dialog":gt("cancel",t),gt("close",t),s=r;break;case"iframe":case"object":case"embed":gt("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)gt(rl[s],t);s=r;break;case"source":gt("error",t),s=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),s=r;break;case"details":gt("toggle",t),s=r;break;case"input":hw(t,r),s=Sp(t,r),gt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=bt({},r,{value:void 0}),gt("invalid",t);break;case"textarea":mw(t,r),s=Ip(t,r),gt("invalid",t);break;default:s=r}Rp(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?aE(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oE(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kl(t,l):typeof l=="number"&&kl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&gt("scroll",t):l!=null&&fg(t,o,l,i))}switch(n){case"input":Yc(t),pw(t,r,!1);break;case"textarea":Yc(t),gw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ni(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)kb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=Ao(Bl.current),Ao(Vr.current),ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(o=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:su(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&su(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return un(e),null;case 13:if(yt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xt&&Bn!==null&&e.mode&1&&!(e.flags&128))GE(),ra(),e.flags|=98560,o=!1;else if(o=ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Mr]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else vr!==null&&(um(vr),vr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?$t===0&&($t=3):Gg())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return oa(),nm(t,e),t===null&&Ll(e.stateNode.containerInfo),un(e),null;case 10:return Ng(e.type._context),un(e),null;case 17:return Mn(e.type)&&od(),un(e),null;case 19:if(yt(_t),o=e.memoizedState,o===null)return un(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Qa(o,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=fd(t),i!==null){for(e.flags|=128,Qa(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(_t,_t.current&1|2),e.child}t=t.sibling}o.tail!==null&&Dt()>aa&&(e.flags|=128,r=!0,Qa(o,!1),e.lanes=4194304)}else{if(!r)if(t=fd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!xt)return un(e),null}else 2*Dt()-o.renderingStartTime>aa&&n!==1073741824&&(e.flags|=128,r=!0,Qa(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,n=_t.current,lt(_t,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return Kg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function rN(t,e){switch(Ig(e),e.tag){case 1:return Mn(e.type)&&od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),yt(Dn),yt(mn),jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Og(e),null;case 13:if(yt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(_t),null;case 4:return oa(),null;case 10:return Ng(e.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var lu=!1,hn=!1,sN=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function rm(t,e,n){try{n()}catch(r){It(t,e,r)}}var o0=!1;function oN(t,e){if($p=td,t=OE(),Cg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=i),m===o&&++d===r&&(l=i),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},td=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var y=C.memoizedProps,E=C.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:ur(e.type,y),E);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(R){It(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return C=o0,o0=!1,C}function vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&rm(e,n,o)}s=s.next}while(s!==r)}}function nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nb(t){var e=t.alternate;e!==null&&(t.alternate=null,Nb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[Fl],delete e[Wp],delete e[Bk],delete e[Uk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pb(t){return t.tag===5||t.tag===3||t.tag===4}function i0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sd));else if(r!==4&&(t=t.child,t!==null))for(om(t,e,n),t=t.sibling;t!==null;)om(t,e,n),t=t.sibling}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}var Xt=null,pr=!1;function xs(t,e,n){for(n=n.child;n!==null;)Db(t,e,n),n=n.sibling}function Db(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Gd,n)}catch{}switch(n.tag){case 5:hn||Ai(n,e);case 6:var r=Xt,s=pr;Xt=null,xs(t,e,n),Xt=r,pr=s,Xt!==null&&(pr?(t=Xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(pr?(t=Xt,n=n.stateNode,t.nodeType===8?Ph(t.parentNode,n):t.nodeType===1&&Ph(t,n),Ml(t)):Ph(Xt,n.stateNode));break;case 4:r=Xt,s=pr,Xt=n.stateNode.containerInfo,pr=!0,xs(t,e,n),Xt=r,pr=s;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&rm(n,e,i),s=s.next}while(s!==r)}xs(t,e,n);break;case 1:if(!hn&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}xs(t,e,n);break;case 21:xs(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,xs(t,e,n),hn=r):xs(t,e,n);break;default:xs(t,e,n)}}function a0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sN),e.forEach(function(r){var s=pN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,pr=!1;break e;case 3:Xt=a.stateNode.containerInfo,pr=!0;break e;case 4:Xt=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(Xt===null)throw Error(ee(160));Db(o,i,s),Xt=null,pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){It(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mb(e,t),e=e.sibling}function Mb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Ar(t),r&4){try{vl(3,t,t.return),nf(3,t)}catch(y){It(t,t.return,y)}try{vl(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:ar(e,t),Ar(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(ar(e,t),Ar(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var s=t.stateNode;try{kl(s,"")}catch(y){It(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&nE(s,o),kp(a,i);var u=kp(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?aE(s,h):d==="dangerouslySetInnerHTML"?oE(s,h):d==="children"?kl(s,h):fg(s,d,h,u)}switch(a){case"input":Cp(s,o);break;case"textarea":rE(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Ni(s,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ni(s,!!o.multiple,o.defaultValue,!0):Ni(s,!!o.multiple,o.multiple?[]:"",!1))}s[Fl]=o}catch(y){It(t,t.return,y)}}break;case 6:if(ar(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){It(t,t.return,y)}}break;case 3:if(ar(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ml(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:ar(e,t),Ar(t);break;case 13:ar(e,t),Ar(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Hg=Dt())),r&4&&a0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||d,ar(e,t),hn=u):ar(e,t),Ar(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(h=ie=d;ie!==null;){switch(m=ie,v=m.child,m.tag){case 0:case 11:case 14:case 15:vl(4,m,m.return);break;case 1:Ai(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(y){It(r,n,y)}}break;case 5:Ai(m,m.return);break;case 22:if(m.memoizedState!==null){c0(h);continue}}v!==null?(v.return=m,ie=v):c0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iE("display",i))}catch(y){It(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){It(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ar(e,t),Ar(t),r&4&&a0(t);break;case 21:break;default:ar(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Pb(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kl(s,""),r.flags&=-33);var o=i0(t);im(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=i0(t);om(t,a,i);break;default:throw Error(ee(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iN(t,e,n){ie=t,Ob(t)}function Ob(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||lu;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||hn;a=lu;var u=hn;if(lu=i,(hn=l)&&!u)for(ie=s;ie!==null;)i=ie,l=i.child,i.tag===22&&i.memoizedState!==null?u0(s):l!==null?(l.return=i,ie=l):u0(s);for(;o!==null;)ie=o,Ob(o),o=o.sibling;ie=s,lu=a,hn=u}l0(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):l0(t)}}function l0(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qw(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qw(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ml(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}hn||e.flags&512&&sm(e)}catch(m){It(e,e.return,m)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function c0(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function u0(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nf(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){It(e,s,l)}}var o=e.return;try{sm(e)}catch(l){It(e,o,l)}break;case 5:var i=e.return;try{sm(e)}catch(l){It(e,i,l)}}}catch(l){It(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var aN=Math.ceil,md=ms.ReactCurrentDispatcher,zg=ms.ReactCurrentOwner,er=ms.ReactCurrentBatchConfig,Ke=0,Gt=null,Ot=null,en=0,Fn=0,Ri=fo(0),$t=0,Hl=null,Ho=0,rf=0,Wg=0,yl=null,An=null,Hg=0,aa=1/0,Xr=null,gd=!1,am=null,Ks=null,cu=!1,Ls=null,vd=0,wl=0,lm=null,Ou=-1,ju=0;function En(){return Ke&6?Dt():Ou!==-1?Ou:Ou=Dt()}function Gs(t){return t.mode&1?Ke&2&&en!==0?en&-en:Wk.transition!==null?(ju===0&&(ju=wE()),ju):(t=tt,t!==0||(t=window.event,t=t===void 0?16:TE(t.type)),t):1}function wr(t,e,n,r){if(50<wl)throw wl=0,lm=null,Error(ee(185));fc(t,n,r),(!(Ke&2)||t!==Gt)&&(t===Gt&&(!(Ke&2)&&(rf|=n),$t===4&&Rs(t,en)),On(t,r),n===1&&Ke===0&&!(e.mode&1)&&(aa=Dt()+500,Zd&&ho()))}function On(t,e){var n=t.callbackNode;WR(t,e);var r=ed(t,t===Gt?en:0);if(r===0)n!==null&&ww(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ww(n),e===1)t.tag===0?zk(d0.bind(null,t)):HE(d0.bind(null,t)),Fk(function(){!(Ke&6)&&ho()}),n=null;else{switch(xE(r)){case 1:n=vg;break;case 4:n=vE;break;case 16:n=Zu;break;case 536870912:n=yE;break;default:n=Zu}n=zb(n,jb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jb(t,e){if(Ou=-1,ju=0,Ke&6)throw Error(ee(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=ed(t,t===Gt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yd(t,r);else{e=r;var s=Ke;Ke|=2;var o=Vb();(Gt!==t||en!==e)&&(Xr=null,aa=Dt()+500,Vo(t,e));do try{uN();break}catch(a){Lb(t,a)}while(!0);kg(),md.current=o,Ke=s,Ot!==null?e=0:(Gt=null,en=0,e=$t)}if(e!==0){if(e===2&&(s=Op(t),s!==0&&(r=s,e=cm(t,s))),e===1)throw n=Hl,Vo(t,0),Rs(t,r),On(t,Dt()),n;if(e===6)Rs(t,r);else{if(s=t.current.alternate,!(r&30)&&!lN(s)&&(e=yd(t,r),e===2&&(o=Op(t),o!==0&&(r=o,e=cm(t,o))),e===1))throw n=Hl,Vo(t,0),Rs(t,r),On(t,Dt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:So(t,An,Xr);break;case 3:if(Rs(t,r),(r&130023424)===r&&(e=Hg+500-Dt(),10<e)){if(ed(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zp(So.bind(null,t,An,Xr),e);break}So(t,An,Xr);break;case 4:if(Rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-yr(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aN(r/1960))-r,10<r){t.timeoutHandle=zp(So.bind(null,t,An,Xr),r);break}So(t,An,Xr);break;case 5:So(t,An,Xr);break;default:throw Error(ee(329))}}}return On(t,Dt()),t.callbackNode===n?jb.bind(null,t):null}function cm(t,e){var n=yl;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=yd(t,e),t!==2&&(e=An,An=n,e!==null&&um(e)),t}function um(t){An===null?An=t:An.push.apply(An,t)}function lN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!xr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~Wg,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function d0(t){if(Ke&6)throw Error(ee(327));ji();var e=ed(t,0);if(!(e&1))return On(t,Dt()),null;var n=yd(t,e);if(t.tag!==0&&n===2){var r=Op(t);r!==0&&(e=r,n=cm(t,r))}if(n===1)throw n=Hl,Vo(t,0),Rs(t,e),On(t,Dt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,An,Xr),On(t,Dt()),null}function qg(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(aa=Dt()+500,Zd&&ho())}}function qo(t){Ls!==null&&Ls.tag===0&&!(Ke&6)&&ji();var e=Ke;Ke|=1;var n=er.transition,r=tt;try{if(er.transition=null,tt=1,t)return t()}finally{tt=r,er.transition=n,Ke=e,!(Ke&6)&&ho()}}function Kg(){Fn=Ri.current,yt(Ri)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Vk(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(Ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&od();break;case 3:oa(),yt(Dn),yt(mn),jg();break;case 5:Og(r);break;case 4:oa();break;case 13:yt(_t);break;case 19:yt(_t);break;case 10:Ng(r.type._context);break;case 22:case 23:Kg()}n=n.return}if(Gt=t,Ot=t=Qs(t.current,null),en=Fn=e,$t=0,Hl=null,Wg=rf=Ho=0,An=yl=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Io=null}return t}function Lb(t,e){do{var n=Ot;try{if(kg(),Pu.current=pd,hd){for(var r=Et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}hd=!1}if(Wo=0,qt=Vt=Et=null,gl=!1,Ul=0,zg.current=null,n===null||n.return===null){$t=1,Hl=e,Ot=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Jw(i);if(v!==null){v.flags&=-257,Zw(v,i,a,o,e),v.mode&1&&Xw(o,u,e),e=v,l=u;var C=e.updateQueue;if(C===null){var y=new Set;y.add(l),e.updateQueue=y}else C.add(l);break e}else{if(!(e&1)){Xw(o,u,e),Gg();break e}l=Error(ee(426))}}else if(xt&&a.mode&1){var E=Jw(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Zw(E,i,a,o,e),Ag(ia(l,a));break e}}o=l=ia(l,a),$t!==4&&($t=2),yl===null?yl=[o]:yl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=xb(o,l,e);Hw(o,x);break e;case 1:a=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ks===null||!Ks.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=_b(o,a,e);Hw(o,R);break e}}o=o.return}while(o!==null)}$b(n)}catch(D){e=D,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function Vb(){var t=md.current;return md.current=pd,t===null?pd:t}function Gg(){($t===0||$t===3||$t===2)&&($t=4),Gt===null||!(Ho&268435455)&&!(rf&268435455)||Rs(Gt,en)}function yd(t,e){var n=Ke;Ke|=2;var r=Vb();(Gt!==t||en!==e)&&(Xr=null,Vo(t,e));do try{cN();break}catch(s){Lb(t,s)}while(!0);if(kg(),Ke=n,md.current=r,Ot!==null)throw Error(ee(261));return Gt=null,en=0,$t}function cN(){for(;Ot!==null;)Fb(Ot)}function uN(){for(;Ot!==null&&!OR();)Fb(Ot)}function Fb(t){var e=Ub(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?$b(t):Ot=e,zg.current=null}function $b(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rN(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ot=null;return}}else if(n=nN(n,e,Fn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);$t===0&&($t=5)}function So(t,e,n){var r=tt,s=er.transition;try{er.transition=null,tt=1,dN(t,e,n,r)}finally{er.transition=s,tt=r}return null}function dN(t,e,n,r){do ji();while(Ls!==null);if(Ke&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(HR(t,o),t===Gt&&(Ot=Gt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cu||(cu=!0,zb(Zu,function(){return ji(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=er.transition,er.transition=null;var i=tt;tt=1;var a=Ke;Ke|=4,zg.current=null,oN(t,n),Mb(n,t),Nk(Bp),td=!!$p,Bp=$p=null,t.current=n,iN(n),jR(),Ke=a,tt=i,er.transition=o}else t.current=n;if(cu&&(cu=!1,Ls=t,vd=s),o=t.pendingLanes,o===0&&(Ks=null),FR(n.stateNode),On(t,Dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(gd)throw gd=!1,t=am,am=null,t;return vd&1&&t.tag!==0&&ji(),o=t.pendingLanes,o&1?t===lm?wl++:(wl=0,lm=t):wl=0,ho(),null}function ji(){if(Ls!==null){var t=xE(vd),e=er.transition,n=tt;try{if(er.transition=null,tt=16>t?16:t,Ls===null)var r=!1;else{if(t=Ls,Ls=null,vd=0,Ke&6)throw Error(ee(331));var s=Ke;for(Ke|=4,ie=t.current;ie!==null;){var o=ie,i=o.child;if(ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:vl(8,d,o)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var m=d.sibling,v=d.return;if(Nb(d),d===u){ie=null;break}if(m!==null){m.return=v,ie=m;break}ie=v}}}var C=o.alternate;if(C!==null){var y=C.child;if(y!==null){C.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ie=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ie=i;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:vl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,ie=x;break e}ie=o.return}}var w=t.current;for(ie=w;ie!==null;){i=ie;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,ie=_;else e:for(i=w;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nf(9,a)}}catch(D){It(a,a.return,D)}if(a===i){ie=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ie=R;break e}ie=a.return}}if(Ke=s,ho(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Gd,t)}catch{}r=!0}return r}finally{tt=n,er.transition=e}}return!1}function f0(t,e,n){e=ia(n,e),e=xb(t,e,1),t=qs(t,e,1),e=En(),t!==null&&(fc(t,1,e),On(t,e))}function It(t,e,n){if(t.tag===3)f0(t,t,n);else for(;e!==null;){if(e.tag===3){f0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){t=ia(n,t),t=_b(e,t,1),e=qs(e,t,1),t=En(),e!==null&&(fc(e,1,t),On(e,t));break}}e=e.return}}function fN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(en&n)===n&&($t===4||$t===3&&(en&130023424)===en&&500>Dt()-Hg?Vo(t,0):Wg|=n),On(t,e)}function Bb(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var n=En();t=as(t,e),t!==null&&(fc(t,e,n),On(t,n))}function hN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Bb(t,n)}function pN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),Bb(t,n)}var Ub;Ub=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,tN(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,xt&&e.flags&1048576&&qE(e,ld,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mu(t,e),t=e.pendingProps;var s=na(e,mn.current);Oi(e,n),s=Vg(null,e,r,t,s,n);var o=Fg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(o=!0,id(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dg(e),s.updater=tf,e.stateNode=s,s._reactInternals=e,Yp(e,r,t,n),e=Zp(null,e,r,!0,o,n)):(e.tag=0,xt&&o&&Tg(e),xn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gN(r),t=ur(r,t),s){case 0:e=Jp(null,e,r,t,n);break e;case 1:e=n0(null,e,r,t,n);break e;case 11:e=e0(null,e,r,t,n);break e;case 14:e=t0(null,e,r,ur(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),Jp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),n0(t,e,r,s,n);case 3:e:{if(Cb(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,s=o.element,JE(t,e),dd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ia(Error(ee(423)),e),e=r0(t,e,r,n,s);break e}else if(r!==s){s=ia(Error(ee(424)),e),e=r0(t,e,r,n,s);break e}else for(Bn=Hs(e.stateNode.containerInfo.firstChild),zn=e,xt=!0,vr=null,n=YE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===s){e=ls(t,e,n);break e}xn(t,e,r,n)}e=e.child}return e;case 5:return ZE(e),t===null&&Kp(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Up(r,s)?i=null:o!==null&&Up(r,o)&&(e.flags|=32),Sb(t,e),xn(t,e,i,n),e.child;case 6:return t===null&&Kp(e),null;case 13:return Tb(t,e,n);case 4:return Mg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sa(e,null,r,n):xn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),e0(t,e,r,s,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,lt(cd,r._currentValue),r._currentValue=i,o!==null)if(xr(o.value,i)){if(o.children===s.children&&!Dn.current){e=ls(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ns(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Gp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ee(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Gp(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}xn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oi(e,n),s=tr(s),r=r(s),e.flags|=1,xn(t,e,r,n),e.child;case 14:return r=e.type,s=ur(r,e.pendingProps),s=ur(r.type,s),t0(t,e,r,s,n);case 15:return Eb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ur(r,s),Mu(t,e),e.tag=1,Mn(r)?(t=!0,id(e)):t=!1,Oi(e,n),wb(e,r,s),Yp(e,r,s,n),Zp(null,e,r,!0,t,n);case 19:return Ib(t,e,n);case 22:return bb(t,e,n)}throw Error(ee(156,e.tag))};function zb(t,e){return gE(t,e)}function mN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new mN(t,e,n,r)}function Qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gN(t){if(typeof t=="function")return Qg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pg)return 11;if(t===mg)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")Qg(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case wi:return Fo(n.children,s,o,e);case hg:i=8,s|=8;break;case xp:return t=Jn(12,n,e,s|2),t.elementType=xp,t.lanes=o,t;case _p:return t=Jn(13,n,e,s),t.elementType=_p,t.lanes=o,t;case Ep:return t=Jn(19,n,e,s),t.elementType=Ep,t.lanes=o,t;case Z_:return sf(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X_:i=10;break e;case J_:i=9;break e;case pg:i=11;break e;case mg:i=14;break e;case Cs:i=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Jn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Fo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function sf(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=Z_,t.lanes=n,t.stateNode={isHidden:!1},t}function $h(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_h(0),this.expirationTimes=_h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yg(t,e,n,r,s,o,i,a,l){return t=new vN(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(o),t}function yN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wb(t){if(!t)return so;t=t._reactInternals;e:{if(ni(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Mn(n))return WE(t,n,e)}return e}function Hb(t,e,n,r,s,o,i,a,l){return t=Yg(n,r,!0,t,s,o,i,a,l),t.context=Wb(null),n=t.current,r=En(),s=Gs(n),o=ns(r,s),o.callback=e??null,qs(n,o,s),t.current.lanes=s,fc(t,s,r),On(t,r),t}function of(t,e,n,r){var s=e.current,o=En(),i=Gs(s);return n=Wb(n),e.context===null?e.context=n:e.pendingContext=n,e=ns(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qs(s,e,i),t!==null&&(wr(t,s,i,o),Nu(t,s,i)),i}function wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xg(t,e){h0(t,e),(t=t.alternate)&&h0(t,e)}function wN(){return null}var qb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jg(t){this._internalRoot=t}af.prototype.render=Jg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));of(t,e,null,null)};af.prototype.unmount=Jg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qo(function(){of(null,t,null,null)}),e[is]=null}};function af(t){this._internalRoot=t}af.prototype.unstable_scheduleHydration=function(t){if(t){var e=bE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<As.length&&e!==0&&e<As[n].priority;n++);As.splice(n,0,t),n===0&&CE(t)}};function Zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function p0(){}function xN(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=wd(i);o.call(u)}}var i=Hb(e,r,t,0,null,!1,!1,"",p0);return t._reactRootContainer=i,t[is]=i.current,Ll(t.nodeType===8?t.parentNode:t),qo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=wd(l);a.call(u)}}var l=Yg(t,0,!1,null,null,!1,!1,"",p0);return t._reactRootContainer=l,t[is]=l.current,Ll(t.nodeType===8?t.parentNode:t),qo(function(){of(e,l,n,r)}),l}function cf(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=wd(i);a.call(l)}}of(e,i,t,s)}else i=xN(n,e,t,s,r);return wd(i)}_E=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(yg(e,n|1),On(e,Dt()),!(Ke&6)&&(aa=Dt()+500,ho()))}break;case 13:qo(function(){var r=as(t,1);if(r!==null){var s=En();wr(r,t,1,s)}}),Xg(t,1)}};wg=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var n=En();wr(e,t,134217728,n)}Xg(t,134217728)}};EE=function(t){if(t.tag===13){var e=Gs(t),n=as(t,e);if(n!==null){var r=En();wr(n,t,e,r)}Xg(t,e)}};bE=function(){return tt};SE=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};Pp=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Jd(r);if(!s)throw Error(ee(90));tE(r),Cp(r,s)}}}break;case"textarea":rE(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};uE=qg;dE=qo;var _N={usingClientEntryPoint:!1,Events:[pc,bi,Jd,lE,cE,qg]},Ya={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EN={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||wN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{Gd=uu.inject(EN),Lr=uu}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_N;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zg(e))throw Error(ee(200));return yN(t,e,null,n)};qn.createRoot=function(t,e){if(!Zg(t))throw Error(ee(299));var n=!1,r="",s=qb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yg(t,1,!1,null,null,n,!1,r,s),t[is]=e.current,Ll(t.nodeType===8?t.parentNode:t),new Jg(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=pE(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return qo(t)};qn.hydrate=function(t,e,n){if(!lf(e))throw Error(ee(200));return cf(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!Zg(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=qb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Hb(e,null,t,1,n??null,s,!1,o,i),t[is]=e.current,Ll(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new af(e)};qn.render=function(t,e,n){if(!lf(e))throw Error(ee(200));return cf(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!lf(t))throw Error(ee(40));return t._reactRootContainer?(qo(function(){cf(null,null,t,!1,function(){t._reactRootContainer=null,t[is]=null})}),!0):!1};qn.unstable_batchedUpdates=qg;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lf(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return cf(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function Kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kb)}catch(t){console.error(t)}}Kb(),K_.exports=qn;var Zn=K_.exports;const Gb=O_(Zn);var Qb,m0=Zn;Qb=m0.createRoot,m0.hydrateRoot;const bN=1,SN=1e6;let Uh=0;function CN(){return Uh=(Uh+1)%Number.MAX_SAFE_INTEGER,Uh.toString()}const zh=new Map,g0=t=>{if(zh.has(t))return;const e=setTimeout(()=>{zh.delete(t),xl({type:"REMOVE_TOAST",toastId:t})},SN);zh.set(t,e)},TN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,bN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?g0(n):t.toasts.forEach(r=>{g0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Vu=[];let Fu={toasts:[]};function xl(t){Fu=TN(Fu,t),Vu.forEach(e=>{e(Fu)})}function mr({...t}){const e=CN(),n=s=>xl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xl({type:"DISMISS_TOAST",toastId:e});return xl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function IN(){const[t,e]=p.useState(Fu);return p.useEffect(()=>(Vu.push(e),()=>{const n=Vu.indexOf(e);n>-1&&Vu.splice(n,1)}),[t]),{...t,toast:mr,dismiss:n=>xl({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function v0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yb(...t){return e=>{let n=!1;const r=t.map(s=>{const o=v0(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():v0(t[s],null)}}}}function rt(...t){return p.useCallback(Yb(...t),t)}function AN(t,e){const n=p.createContext(e),r=o=>{const{children:i,...a}=o,l=p.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:i})};r.displayName=t+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function gs(t,e=[]){let n=[];function r(o,i){const a=p.createContext(i),l=n.length;n=[...n,i];const u=h=>{var x;const{scope:m,children:v,...C}=h,y=((x=m==null?void 0:m[t])==null?void 0:x[l])||a,E=p.useMemo(()=>C,Object.values(C));return f.jsx(y.Provider,{value:E,children:v})};u.displayName=o+"Provider";function d(h,m){var y;const v=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,C=p.useContext(v);if(C)return C;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const l=(a==null?void 0:a[t])||o;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,RN(s,...e)]}function RN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function la(t){const e=NN(t),n=p.forwardRef((r,s)=>{const{children:o,...i}=r,a=p.Children.toArray(o),l=a.find(DN);if(l){const u=l.props.children,d=a.map(h=>h===l?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return f.jsx(e,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return f.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var kN=la("Slot");function NN(t){const e=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const i=ON(s),a=MN(o,s.props);return s.type!==p.Fragment&&(a.ref=r?Yb(r,i):i),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xb=Symbol("radix.slottable");function PN(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Xb,e}function DN(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xb}function MN(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function ON(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ev(t){const e=t+"CollectionProvider",[n,r]=gs(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:E,children:x}=y,w=Q.useRef(null),_=Q.useRef(new Map).current;return f.jsx(s,{scope:E,itemMap:_,collectionRef:w,children:x})};i.displayName=e;const a=t+"CollectionSlot",l=la(a),u=Q.forwardRef((y,E)=>{const{scope:x,children:w}=y,_=o(a,x),R=rt(E,_.collectionRef);return f.jsx(l,{ref:R,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=la(d),v=Q.forwardRef((y,E)=>{const{scope:x,children:w,..._}=y,R=Q.useRef(null),D=rt(E,R),O=o(d,x);return Q.useEffect(()=>(O.itemMap.set(R,{ref:R,..._}),()=>void O.itemMap.delete(R))),f.jsx(m,{[h]:"",ref:D,children:w})});v.displayName=d;function C(y){const E=o(t+"CollectionConsumer",y);return Q.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((O,T)=>_.indexOf(O.ref.current)-_.indexOf(T.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:i,Slot:u,ItemSlot:v},C,r]}var jN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=jN.reduce((t,e)=>{const n=la(`Primitive.${e}`),r=p.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Jb(t,e){t&&Zn.flushSync(()=>t.dispatchEvent(e))}function rr(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function LN(t,e=globalThis==null?void 0:globalThis.document){const n=rr(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var VN="DismissableLayer",dm="dismissableLayer.update",FN="dismissableLayer.pointerDownOutside",$N="dismissableLayer.focusOutside",y0,Zb=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=t,u=p.useContext(Zb),[d,h]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),C=rt(e,T=>h(T)),y=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(E),w=d?y.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,R=w>=x,D=UN(T=>{const S=T.target,I=[...u.branches].some(A=>A.contains(S));!R||I||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},m),O=zN(T=>{const S=T.target;[...u.branches].some(A=>A.contains(S))||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},m);return LN(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),w0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=y0)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),w0())},[d,u]),p.useEffect(()=>{const T=()=>v({});return document.addEventListener(dm,T),()=>document.removeEventListener(dm,T)},[]),f.jsx(Oe.div,{...l,ref:C,style:{pointerEvents:_?R?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,O.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,D.onPointerDownCapture)})});gc.displayName=VN;var BN="DismissableLayerBranch",eS=p.forwardRef((t,e)=>{const n=p.useContext(Zb),r=p.useRef(null),s=rt(e,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),f.jsx(Oe.div,{...t,ref:s})});eS.displayName=BN;function UN(t,e=globalThis==null?void 0:globalThis.document){const n=rr(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){tS(FN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function zN(t,e=globalThis==null?void 0:globalThis.document){const n=rr(t),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&tS($N,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w0(){const t=new CustomEvent(dm);document.dispatchEvent(t)}function tS(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Jb(s,o):s.dispatchEvent(o)}var WN=gc,HN=eS,rn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},qN="Portal",uf=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=p.useState(!1);rn(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Gb.createPortal(f.jsx(Oe.div,{...r,ref:e}),i):null});uf.displayName=qN;function KN(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var po=t=>{const{present:e,children:n}=t,r=GN(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=rt(r.ref,QN(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};po.displayName="Presence";function GN(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),o=p.useRef("none"),i=t?"mounted":"unmounted",[a,l]=KN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=du(r.current);o.current=a==="mounted"?u:"none"},[a]),rn(()=>{const u=r.current,d=s.current;if(d!==t){const m=o.current,v=du(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),rn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const y=du(r.current).includes(CSS.escape(v.animationName));if(v.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=v=>{v.target===e&&(o.current=du(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function du(t){return(t==null?void 0:t.animationName)||"none"}function QN(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var YN=cg[" useInsertionEffect ".trim().toString()]||rn;function Ko({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=XN({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=p.useCallback(d=>{var h;if(a){const m=JN(d)?d(t):d;m!==t&&((h=i.current)==null||h.call(i,m))}else o(d)},[a,t,o,i]);return[l,u]}function XN({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),o=p.useRef(e);return YN(()=>{o.current=e},[e]),p.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function JN(t){return typeof t=="function"}var nS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZN="VisuallyHidden",df=p.forwardRef((t,e)=>f.jsx(Oe.span,{...t,ref:e,style:{...nS,...t.style}}));df.displayName=ZN;var eP=df,tv="ToastProvider",[nv,tP,nP]=ev("Toast"),[rS,K$]=gs("Toast",[nP]),[rP,ff]=rS(tv),sS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,l]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${tv}\`. Expected non-empty \`string\`.`),f.jsx(nv.Provider,{scope:e,children:f.jsx(rP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>d(v=>v+1),[]),onToastRemove:p.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:i})})};sS.displayName=tv;var oS="ToastViewport",sP=["F8"],fm="toast.viewportPause",hm="toast.viewportResume",iS=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=sP,label:s="Notifications ({hotkey})",...o}=t,i=ff(oS,n),a=tP(n),l=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),m=rt(e,h,i.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=i.toastCount>0;p.useEffect(()=>{const E=x=>{var _;r.length!==0&&r.every(R=>x[R]||x.code===R)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),p.useEffect(()=>{const E=l.current,x=h.current;if(C&&E&&x){const w=()=>{if(!i.isClosePausedRef.current){const O=new CustomEvent(fm);x.dispatchEvent(O),i.isClosePausedRef.current=!0}},_=()=>{if(i.isClosePausedRef.current){const O=new CustomEvent(hm);x.dispatchEvent(O),i.isClosePausedRef.current=!1}},R=O=>{!E.contains(O.relatedTarget)&&_()},D=()=>{E.contains(document.activeElement)||_()};return E.addEventListener("focusin",w),E.addEventListener("focusout",R),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",R),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[C,i.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:E})=>{const w=a().map(_=>{const R=_.ref.current,D=[R,...vP(R)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const E=h.current;if(E){const x=w=>{var D,O,T;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const S=document.activeElement,I=w.shiftKey;if(w.target===E&&I){(D=u.current)==null||D.focus();return}const M=y({tabbingDirection:I?"backwards":"forwards"}),N=M.findIndex(L=>L===S);Wh(M.slice(N+1))?w.preventDefault():I?(O=u.current)==null||O.focus():(T=d.current)==null||T.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,y]),f.jsxs(HN,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&f.jsx(pm,{ref:u,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"forwards"});Wh(E)}}),f.jsx(nv.Slot,{scope:n,children:f.jsx(Oe.ol,{tabIndex:-1,...o,ref:m})}),C&&f.jsx(pm,{ref:d,onFocusFromOutsideViewport:()=>{const E=y({tabbingDirection:"backwards"});Wh(E)}})]})});iS.displayName=oS;var aS="ToastFocusProxy",pm=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=ff(aS,n);return f.jsx(df,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});pm.displayName=aS;var vc="Toast",oP="toast.swipeStart",iP="toast.swipeMove",aP="toast.swipeCancel",lP="toast.swipeEnd",lS=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a,l]=Ko({prop:r,defaultProp:s??!0,onChange:o,caller:vc});return f.jsx(po,{present:n||a,children:f.jsx(dP,{open:a,...i,ref:e,onClose:()=>l(!1),onPause:rr(t.onPause),onResume:rr(t.onResume),onSwipeStart:xe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:xe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});lS.displayName=vc;var[cP,uP]=rS(vc,{onClose(){}}),dP=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:v,...C}=t,y=ff(vc,n),[E,x]=p.useState(null),w=rt(e,L=>x(L)),_=p.useRef(null),R=p.useRef(null),D=s||y.duration,O=p.useRef(0),T=p.useRef(D),S=p.useRef(0),{onToastAdd:I,onToastRemove:A}=y,P=rr(()=>{var K;(E==null?void 0:E.contains(document.activeElement))&&((K=y.viewport)==null||K.focus()),i()}),M=p.useCallback(L=>{!L||L===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(P,L))},[P]);p.useEffect(()=>{const L=y.viewport;if(L){const K=()=>{M(T.current),u==null||u()},W=()=>{const q=new Date().getTime()-O.current;T.current=T.current-q,window.clearTimeout(S.current),l==null||l()};return L.addEventListener(fm,W),L.addEventListener(hm,K),()=>{L.removeEventListener(fm,W),L.removeEventListener(hm,K)}}},[y.viewport,D,l,u,M]),p.useEffect(()=>{o&&!y.isClosePausedRef.current&&M(D)},[o,D,y.isClosePausedRef,M]),p.useEffect(()=>(I(),()=>A()),[I,A]);const N=p.useMemo(()=>E?mS(E):null,[E]);return y.viewport?f.jsxs(f.Fragment,{children:[N&&f.jsx(fP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:N}),f.jsx(cP,{scope:n,onClose:P,children:Zn.createPortal(f.jsx(nv.ItemSlot,{scope:n,children:f.jsx(WN,{asChild:!0,onEscapeKeyDown:xe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||P(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Oe.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...C,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:xe(t.onPointerDown,L=>{L.button===0&&(_.current={x:L.clientX,y:L.clientY})}),onPointerMove:xe(t.onPointerMove,L=>{if(!_.current)return;const K=L.clientX-_.current.x,W=L.clientY-_.current.y,q=!!R.current,V=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,F=V?B(0,K):0,Z=V?0:B(0,W),U=L.pointerType==="touch"?10:2,J={x:F,y:Z},ae={originalEvent:L,delta:J};q?(R.current=J,fu(iP,h,ae,{discrete:!1})):x0(J,y.swipeDirection,U)?(R.current=J,fu(oP,d,ae,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(K)>U||Math.abs(W)>U)&&(_.current=null)}),onPointerUp:xe(t.onPointerUp,L=>{const K=R.current,W=L.target;if(W.hasPointerCapture(L.pointerId)&&W.releasePointerCapture(L.pointerId),R.current=null,_.current=null,K){const q=L.currentTarget,V={originalEvent:L,delta:K};x0(K,y.swipeDirection,y.swipeThreshold)?fu(lP,v,V,{discrete:!0}):fu(aP,m,V,{discrete:!0}),q.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),fP=t=>{const{__scopeToast:e,children:n,...r}=t,s=ff(vc,e),[o,i]=p.useState(!1),[a,l]=p.useState(!1);return mP(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(uf,{asChild:!0,children:f.jsx(df,{...r,children:o&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},hP="ToastTitle",cS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});cS.displayName=hP;var pP="ToastDescription",uS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(Oe.div,{...r,ref:e})});uS.displayName=pP;var dS="ToastAction",fS=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(pS,{altText:n,asChild:!0,children:f.jsx(rv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${dS}\`. Expected non-empty \`string\`.`),null)});fS.displayName=dS;var hS="ToastClose",rv=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=uP(hS,n);return f.jsx(pS,{asChild:!0,children:f.jsx(Oe.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,s.onClose)})})});rv.displayName=hS;var pS=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function mS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),gP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...mS(r))}}),e}function fu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Jb(s,o):s.dispatchEvent(o)}var x0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function mP(t=()=>{}){const e=rr(t);rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function gP(t){return t.nodeType===t.ELEMENT_NODE}function vP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var yP=sS,gS=iS,vS=lS,yS=cS,wS=uS,xS=fS,_S=rv;function ES(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ES(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ES(t))&&(r&&(r+=" "),r+=e);return r}const _0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,E0=bS,hf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return E0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const m=_0(d)||_0(h);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...v}=d;return Object.entries(v).every(C=>{let[y,E]=C;return Array.isArray(E)?E.includes({...o,...a}[y]):{...o,...a}[y]===E})?[...u,h,m]:u},[]);return E0(t,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>p.createElement("svg",{ref:l,...xP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SS("lucide",s),...a},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(t,e)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(_P,{ref:o,iconNode:e,className:SS(`lucide-${wP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ct("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ct("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ct("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=ct("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),iv="-",PP=t=>{const e=MP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(iv);return a[0]===""&&a.length!==1&&a.shift(),RS(a,e)||DP(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},RS=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?RS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(iv);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},I0=/^\[(.+)\]$/,DP=t=>{if(I0.test(t)){const e=I0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return jP(Object.entries(t.classGroups),n).forEach(([o,i])=>{gm(i,r,o,e)}),r},gm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:A0(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(OP(s)){gm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{gm(i,A0(e,o),n,r)})})},A0=(t,e)=>{let n=t;return e.split(iv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OP=t=>t.isThemeGetter,jP=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,LP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},kS="!",VP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const l=[];let u=0,d=0,h;for(let E=0;E<a.length;E++){let x=a[E];if(u===0){if(x===s&&(r||a.slice(E,E+o)===e)){l.push(a.slice(d,E)),d=E+o;continue}if(x==="/"){h=E;continue}}x==="["?u++:x==="]"&&u--}const m=l.length===0?a:a.substring(d),v=m.startsWith(kS),C=v?m.substring(1):m,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:C,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},FP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},$P=t=>({cache:LP(t.cacheSize),parseClassName:VP(t),...PP(t)}),BP=/\s+/,UP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(BP);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}=n(u);let C=!!v,y=r(C?m.substring(0,v):m);if(!y){if(!C){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}C=!1}const E=FP(d).join(":"),x=h?E+kS:E,w=x+y;if(o.includes(w))continue;o.push(w);const _=s(y,C);for(let R=0;R<_.length;++R){const D=_[R];o.push(x+D)}a=u+(a.length>0?" "+a:a)}return a};function zP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=NS(e))&&(r&&(r+=" "),r+=n);return r}const NS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=NS(t[r]))&&(n&&(n+=" "),n+=e);return n};function WP(t,...e){let n,r,s,o=i;function i(l){const u=e.reduce((d,h)=>h(d),t());return n=$P(u),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=UP(l,n);return s(l,d),d}return function(){return o(zP.apply(null,arguments))}}const mt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},PS=/^\[(?:([a-z-]+):)?(.+)\]$/i,HP=/^\d+\/\d+$/,qP=new Set(["px","full","screen"]),KP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>Li(t)||qP.has(t)||HP.test(t),_s=t=>ba(t,"length",oD),Li=t=>!!t&&!Number.isNaN(Number(t)),Hh=t=>ba(t,"number",Li),Xa=t=>!!t&&Number.isInteger(Number(t)),JP=t=>t.endsWith("%")&&Li(t.slice(0,-1)),Le=t=>PS.test(t),Es=t=>KP.test(t),ZP=new Set(["length","size","percentage"]),eD=t=>ba(t,ZP,DS),tD=t=>ba(t,"position",DS),nD=new Set(["image","url"]),rD=t=>ba(t,nD,aD),sD=t=>ba(t,"",iD),Ja=()=>!0,ba=(t,e,n)=>{const r=PS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},oD=t=>GP.test(t)&&!QP.test(t),DS=()=>!1,iD=t=>YP.test(t),aD=t=>XP.test(t),lD=()=>{const t=mt("colors"),e=mt("spacing"),n=mt("blur"),r=mt("brightness"),s=mt("borderColor"),o=mt("borderRadius"),i=mt("borderSpacing"),a=mt("borderWidth"),l=mt("contrast"),u=mt("grayscale"),d=mt("hueRotate"),h=mt("invert"),m=mt("gap"),v=mt("gradientColorStops"),C=mt("gradientColorStopPositions"),y=mt("inset"),E=mt("margin"),x=mt("opacity"),w=mt("padding"),_=mt("saturate"),R=mt("scale"),D=mt("sepia"),O=mt("skew"),T=mt("space"),S=mt("translate"),I=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Le,e],M=()=>[Le,e],N=()=>["",Qr,_s],L=()=>["auto",Li,Le],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Le],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Li,Le];return{cacheSize:500,separator:":",theme:{colors:[Ja],spacing:[Qr,_s],blur:["none","",Es,Le],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Es,Le],borderSpacing:M(),borderWidth:N(),contrast:Z(),grayscale:B(),hueRotate:Z(),invert:B(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[JP,_s],inset:P(),margin:P(),opacity:Z(),padding:M(),saturate:Z(),scale:Z(),sepia:B(),skew:Z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[Es]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Le]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xa,Le]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Xa,Le]}],"grid-cols":[{"grid-cols":[Ja]}],"col-start-end":[{col:["auto",{span:["full",Xa,Le]},Le]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ja]}],"row-start-end":[{row:["auto",{span:[Xa,Le]},Le]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,e]}],"min-w":[{"min-w":[Le,e,"min","max","fit"]}],"max-w":[{"max-w":[Le,e,"none","full","min","max","fit","prose",{screen:[Es]},Es]}],h:[{h:[Le,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Es,_s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hh]}],"font-family":[{font:[Ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",Li,Hh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,_s]}],"underline-offset":[{"underline-offset":["auto",Qr,Le]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),tD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Qr,Le]}],"outline-w":[{outline:[Qr,_s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Qr,_s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Es,sD]}],"shadow-color":[{shadow:[Ja]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Es,Le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Xa,Le]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,_s,Hh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cD=WP(lD);function Re(...t){return cD(bS(t))}const uD=yP,MS=p.forwardRef(({className:t,...e},n)=>f.jsx(gS,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));MS.displayName=gS.displayName;const dD=hf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),OS=p.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(vS,{ref:r,className:Re(dD({variant:e}),t),...n}));OS.displayName=vS.displayName;const fD=p.forwardRef(({className:t,...e},n)=>f.jsx(xS,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));fD.displayName=xS.displayName;const jS=p.forwardRef(({className:t,...e},n)=>f.jsx(_S,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(AS,{className:"h-4 w-4"})}));jS.displayName=_S.displayName;const LS=p.forwardRef(({className:t,...e},n)=>f.jsx(yS,{ref:n,className:Re("text-sm font-semibold",t),...e}));LS.displayName=yS.displayName;const VS=p.forwardRef(({className:t,...e},n)=>f.jsx(wS,{ref:n,className:Re("text-sm opacity-90",t),...e}));VS.displayName=wS.displayName;function hD(){const{toasts:t}=IN();return f.jsxs(uD,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return f.jsxs(OS,{...o,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(LS,{children:n}),r&&f.jsx(VS,{children:r})]}),s,f.jsx(jS,{})]},e)}),f.jsx(MS,{})]})}var R0=["light","dark"],pD="(prefers-color-scheme: dark)",mD=p.createContext(void 0),gD={setTheme:t=>{},themes:[]},vD=()=>{var t;return(t=p.useContext(mD))!=null?t:gD};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(C=>`'${C}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?R0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(C,y=!1,E=!0)=>{let x=i?i[C]:C,w=y?C+"|| ''":`'${x}'`,_="";return s&&E&&!y&&R0.includes(C)&&(_+=`d.style.colorScheme = '${C}';`),n==="class"?y||x?_+=`c.add(${w})`:_+="null":x&&(_+=`d[s](n,${w})`),_},v=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${pD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var yD=t=>{switch(t){case"success":return _D;case"info":return bD;case"warning":return ED;case"error":return SD;default:return null}},wD=Array(12).fill(0),xD=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},wD.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_D=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ED=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TD=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},vm=1,ID=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:vm++,o=this.toasts.find(a=>a.id===s),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],Q.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(RD(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(o=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>i.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||vm++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},In=new ID,AD=(t,e)=>{let n=(e==null?void 0:e.id)||vm++;return In.addToast({title:t,...e,id:n}),n},RD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kD=AD,ND=()=>In.toasts,PD=()=>In.getActiveToasts();Object.assign(kD,{success:In.success,info:In.info,warning:In.warning,error:In.error,custom:In.custom,message:In.message,promise:In.promise,dismiss:In.dismiss,loading:In.loading},{getHistory:ND,getToasts:PD});function DD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}DD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pu(t){return t.label!==void 0}var MD=3,OD="32px",jD="16px",k0=4e3,LD=356,VD=14,FD=20,$D=200;function lr(...t){return t.filter(Boolean).join(" ")}function BD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var UD=t=>{var e,n,r,s,o,i,a,l,u,d,h;let{invert:m,toast:v,unstyled:C,interacting:y,setHeights:E,visibleToasts:x,heights:w,index:_,toasts:R,expanded:D,removeToast:O,defaultRichColors:T,closeButton:S,style:I,cancelButtonStyle:A,actionButtonStyle:P,className:M="",descriptionClassName:N="",duration:L,position:K,gap:W,loadingIcon:q,expandByDefault:V,classNames:B,icons:F,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:U}=t,[J,ae]=Q.useState(null),[Pe,De]=Q.useState(null),[X,be]=Q.useState(!1),[Xe,_e]=Q.useState(!1),[Ae,Se]=Q.useState(!1),[ut,it]=Q.useState(!1),[zt,Rt]=Q.useState(!1),[gn,de]=Q.useState(0),[ge,ne]=Q.useState(0),ye=Q.useRef(v.duration||L||k0),we=Q.useRef(null),G=Q.useRef(null),le=_===0,pe=_+1<=x,ce=v.type,fe=v.dismissible!==!1,se=v.className||"",je=v.descriptionClassName||"",Ve=Q.useMemo(()=>w.findIndex(he=>he.toastId===v.id)||0,[w,v.id]),te=Q.useMemo(()=>{var he;return(he=v.closeButton)!=null?he:S},[v.closeButton,S]),ve=Q.useMemo(()=>v.duration||L||k0,[v.duration,L]),We=Q.useRef(0),Fe=Q.useRef(0),et=Q.useRef(0),dt=Q.useRef(null),[Ir,sr]=K.split("-"),Lt=Q.useMemo(()=>w.reduce((he,Ee,Ce)=>Ce>=Ve?he:he+Ee.height,0),[w,Ve]),Tn=TD(),or=v.invert||m,ft=ce==="loading";Fe.current=Q.useMemo(()=>Ve*W+Lt,[Ve,Lt]),Q.useEffect(()=>{ye.current=ve},[ve]),Q.useEffect(()=>{be(!0)},[]),Q.useEffect(()=>{let he=G.current;if(he){let Ee=he.getBoundingClientRect().height;return ne(Ee),E(Ce=>[{toastId:v.id,height:Ee,position:v.position},...Ce]),()=>E(Ce=>Ce.filter(Je=>Je.toastId!==v.id))}},[E,v.id]),Q.useLayoutEffect(()=>{if(!X)return;let he=G.current,Ee=he.style.height;he.style.height="auto";let Ce=he.getBoundingClientRect().height;he.style.height=Ee,ne(Ce),E(Je=>Je.find(wt=>wt.toastId===v.id)?Je.map(wt=>wt.toastId===v.id?{...wt,height:Ce}:wt):[{toastId:v.id,height:Ce,position:v.position},...Je])},[X,v.title,v.description,E,v.id]);let Ue=Q.useCallback(()=>{_e(!0),de(Fe.current),E(he=>he.filter(Ee=>Ee.toastId!==v.id)),setTimeout(()=>{O(v)},$D)},[v,O,E,Fe]);Q.useEffect(()=>{if(v.promise&&ce==="loading"||v.duration===1/0||v.type==="loading")return;let he;return D||y||U&&Tn?(()=>{if(et.current<We.current){let Ee=new Date().getTime()-We.current;ye.current=ye.current-Ee}et.current=new Date().getTime()})():ye.current!==1/0&&(We.current=new Date().getTime(),he=setTimeout(()=>{var Ee;(Ee=v.onAutoClose)==null||Ee.call(v,v),Ue()},ye.current)),()=>clearTimeout(he)},[D,y,v,ce,U,Tn,Ue]),Q.useEffect(()=>{v.delete&&Ue()},[Ue,v.delete]);function ht(){var he,Ee,Ce;return F!=null&&F.loading?Q.createElement("div",{className:lr(B==null?void 0:B.loader,(he=v==null?void 0:v.classNames)==null?void 0:he.loader,"sonner-loader"),"data-visible":ce==="loading"},F.loading):q?Q.createElement("div",{className:lr(B==null?void 0:B.loader,(Ee=v==null?void 0:v.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":ce==="loading"},q):Q.createElement(xD,{className:lr(B==null?void 0:B.loader,(Ce=v==null?void 0:v.classNames)==null?void 0:Ce.loader),visible:ce==="loading"})}return Q.createElement("li",{tabIndex:0,ref:G,className:lr(M,se,B==null?void 0:B.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[ce],(n=v==null?void 0:v.classNames)==null?void 0:n[ce]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:T,"data-styled":!(v.jsx||v.unstyled||C),"data-mounted":X,"data-promise":!!v.promise,"data-swiped":zt,"data-removed":Xe,"data-visible":pe,"data-y-position":Ir,"data-x-position":sr,"data-index":_,"data-front":le,"data-swiping":Ae,"data-dismissible":fe,"data-type":ce,"data-invert":or,"data-swipe-out":ut,"data-swipe-direction":Pe,"data-expanded":!!(D||V&&X),style:{"--index":_,"--toasts-before":_,"--z-index":R.length-_,"--offset":`${Xe?gn:Fe.current}px`,"--initial-height":V?"auto":`${ge}px`,...I,...v.style},onDragEnd:()=>{Se(!1),ae(null),dt.current=null},onPointerDown:he=>{ft||!fe||(we.current=new Date,de(Fe.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(Se(!0),dt.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,Ee,Ce,Je;if(ut||!fe)return;dt.current=null;let wt=Number(((he=G.current)==null?void 0:he.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Te=Number(((Ee=G.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((Ce=we.current)==null?void 0:Ce.getTime()),Ze=J==="x"?wt:Te,at=Math.abs(Ze)/kt;if(Math.abs(Ze)>=FD||at>.11){de(Fe.current),(Je=v.onDismiss)==null||Je.call(v,v),De(J==="x"?wt>0?"right":"left":Te>0?"down":"up"),Ue(),it(!0),Rt(!1);return}Se(!1),ae(null)},onPointerMove:he=>{var Ee,Ce,Je,wt;if(!dt.current||!fe||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Te=he.clientY-dt.current.y,kt=he.clientX-dt.current.x,Ze=(Ce=t.swipeDirections)!=null?Ce:BD(K);!J&&(Math.abs(kt)>1||Math.abs(Te)>1)&&ae(Math.abs(kt)>Math.abs(Te)?"x":"y");let at={x:0,y:0};J==="y"?(Ze.includes("top")||Ze.includes("bottom"))&&(Ze.includes("top")&&Te<0||Ze.includes("bottom")&&Te>0)&&(at.y=Te):J==="x"&&(Ze.includes("left")||Ze.includes("right"))&&(Ze.includes("left")&&kt<0||Ze.includes("right")&&kt>0)&&(at.x=kt),(Math.abs(at.x)>0||Math.abs(at.y)>0)&&Rt(!0),(Je=G.current)==null||Je.style.setProperty("--swipe-amount-x",`${at.x}px`),(wt=G.current)==null||wt.style.setProperty("--swipe-amount-y",`${at.y}px`)}},te&&!v.jsx?Q.createElement("button",{"aria-label":Z,"data-disabled":ft,"data-close-button":!0,onClick:ft||!fe?()=>{}:()=>{var he;Ue(),(he=v.onDismiss)==null||he.call(v,v)},className:lr(B==null?void 0:B.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(o=F==null?void 0:F.close)!=null?o:CD):null,v.jsx||p.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:Q.createElement(Q.Fragment,null,ce||v.icon||v.promise?Q.createElement("div",{"data-icon":"",className:lr(B==null?void 0:B.icon,(i=v==null?void 0:v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||ht():null,v.type!=="loading"?v.icon||(F==null?void 0:F[ce])||yD(ce):null):null,Q.createElement("div",{"data-content":"",className:lr(B==null?void 0:B.content,(a=v==null?void 0:v.classNames)==null?void 0:a.content)},Q.createElement("div",{"data-title":"",className:lr(B==null?void 0:B.title,(l=v==null?void 0:v.classNames)==null?void 0:l.title)},typeof v.title=="function"?v.title():v.title),v.description?Q.createElement("div",{"data-description":"",className:lr(N,je,B==null?void 0:B.description,(u=v==null?void 0:v.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),p.isValidElement(v.cancel)?v.cancel:v.cancel&&pu(v.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:he=>{var Ee,Ce;pu(v.cancel)&&fe&&((Ce=(Ee=v.cancel).onClick)==null||Ce.call(Ee,he),Ue())},className:lr(B==null?void 0:B.cancelButton,(d=v==null?void 0:v.classNames)==null?void 0:d.cancelButton)},v.cancel.label):null,p.isValidElement(v.action)?v.action:v.action&&pu(v.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||P,onClick:he=>{var Ee,Ce;pu(v.action)&&((Ce=(Ee=v.action).onClick)==null||Ce.call(Ee,he),!he.defaultPrevented&&Ue())},className:lr(B==null?void 0:B.actionButton,(h=v==null?void 0:v.classNames)==null?void 0:h.actionButton)},v.action.label):null))};function N0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function zD(t,e){let n={};return[t,e].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?jD:OD;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var WD=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:v,visibleToasts:C=MD,toastOptions:y,dir:E=N0(),gap:x=VD,loadingIcon:w,icons:_,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:D}=t,[O,T]=Q.useState([]),S=Q.useMemo(()=>Array.from(new Set([r].concat(O.filter(U=>U.position).map(U=>U.position)))),[O,r]),[I,A]=Q.useState([]),[P,M]=Q.useState(!1),[N,L]=Q.useState(!1),[K,W]=Q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Q.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=Q.useRef(null),F=Q.useRef(!1),Z=Q.useCallback(U=>{T(J=>{var ae;return(ae=J.find(Pe=>Pe.id===U.id))!=null&&ae.delete||In.dismiss(U.id),J.filter(({id:Pe})=>Pe!==U.id)})},[]);return Q.useEffect(()=>In.subscribe(U=>{if(U.dismiss){T(J=>J.map(ae=>ae.id===U.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{Gb.flushSync(()=>{T(J=>{let ae=J.findIndex(Pe=>Pe.id===U.id);return ae!==-1?[...J.slice(0,ae),{...J[ae],...U},...J.slice(ae+1)]:[U,...J]})})})}),[]),Q.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let U=window.matchMedia("(prefers-color-scheme: dark)");try{U.addEventListener("change",({matches:J})=>{W(J?"dark":"light")})}catch{U.addListener(({matches:ae})=>{try{W(ae?"dark":"light")}catch(Pe){console.error(Pe)}})}},[d]),Q.useEffect(()=>{O.length<=1&&M(!1)},[O]),Q.useEffect(()=>{let U=J=>{var ae,Pe;s.every(De=>J[De]||J.code===De)&&(M(!0),(ae=q.current)==null||ae.focus()),J.code==="Escape"&&(document.activeElement===q.current||(Pe=q.current)!=null&&Pe.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[s]),Q.useEffect(()=>{if(q.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,F.current=!1)}},[q.current]),Q.createElement("section",{ref:e,"aria-label":`${R} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((U,J)=>{var ae;let[Pe,De]=U.split("-");return O.length?Q.createElement("ol",{key:U,dir:E==="auto"?N0():E,tabIndex:-1,ref:q,className:a,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Pe,"data-lifted":P&&O.length>1&&!o,"data-x-position":De,style:{"--front-toast-height":`${((ae=I[0])==null?void 0:ae.height)||0}px`,"--width":`${LD}px`,"--gap":`${x}px`,...v,...zD(l,u)},onBlur:X=>{F.current&&!X.currentTarget.contains(X.relatedTarget)&&(F.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||F.current||(F.current=!0,B.current=X.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{N||M(!1)},onDragEnd:()=>M(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},O.filter(X=>!X.position&&J===0||X.position===U).map((X,be)=>{var Xe,_e;return Q.createElement(UD,{key:X.id,icons:_,index:be,toast:X,defaultRichColors:h,duration:(Xe=y==null?void 0:y.duration)!=null?Xe:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:C,closeButton:(_e=y==null?void 0:y.closeButton)!=null?_e:i,interacting:N,position:U,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Z,toasts:O.filter(Ae=>Ae.position==X.position),heights:I.filter(Ae=>Ae.position==X.position),setHeights:A,expandByDefault:o,gap:x,loadingIcon:w,expanded:P,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const HD=({...t})=>{const{theme:e="system"}=vD();return f.jsx(WD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var qD=cg[" useId ".trim().toString()]||(()=>{}),KD=0;function Ys(t){const[e,n]=p.useState(qD());return rn(()=>{n(r=>r??String(KD++))},[t]),e?`radix-${e}`:""}const GD=["top","right","bottom","left"],oo=Math.min,$n=Math.max,bd=Math.round,mu=Math.floor,Fr=t=>({x:t,y:t}),QD={left:"right",right:"left",bottom:"top",top:"bottom"},YD={start:"end",end:"start"};function ym(t,e,n){return $n(t,oo(e,n))}function cs(t,e){return typeof t=="function"?t(e):t}function us(t){return t.split("-")[0]}function Sa(t){return t.split("-")[1]}function av(t){return t==="x"?"y":"x"}function lv(t){return t==="y"?"height":"width"}const XD=new Set(["top","bottom"]);function jr(t){return XD.has(us(t))?"y":"x"}function cv(t){return av(jr(t))}function JD(t,e,n){n===void 0&&(n=!1);const r=Sa(t),s=cv(t),o=lv(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=Sd(i)),[i,Sd(i)]}function ZD(t){const e=Sd(t);return[wm(t),e,wm(e)]}function wm(t){return t.replace(/start|end/g,e=>YD[e])}const P0=["left","right"],D0=["right","left"],e2=["top","bottom"],t2=["bottom","top"];function n2(t,e,n){switch(t){case"top":case"bottom":return n?e?D0:P0:e?P0:D0;case"left":case"right":return e?e2:t2;default:return[]}}function r2(t,e,n,r){const s=Sa(t);let o=n2(us(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(wm)))),o}function Sd(t){return t.replace(/left|right|bottom|top/g,e=>QD[e])}function s2(t){return{top:0,right:0,bottom:0,left:0,...t}}function FS(t){return typeof t!="number"?s2(t):{top:t,right:t,bottom:t,left:t}}function Cd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function M0(t,e,n){let{reference:r,floating:s}=t;const o=jr(e),i=cv(e),a=lv(i),l=us(e),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:d,y:r.y-s.height};break;case"bottom":v={x:d,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:h};break;case"left":v={x:r.x-s.width,y:h};break;default:v={x:r.x,y:r.y}}switch(Sa(e)){case"start":v[i]-=m*(n&&u?-1:1);break;case"end":v[i]+=m*(n&&u?-1:1);break}return v}const o2=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=M0(u,r,l),m=r,v={},C=0;for(let y=0;y<a.length;y++){const{name:E,fn:x}=a[y],{x:w,y:_,data:R,reset:D}=await x({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:t,floating:e}});d=w??d,h=_??h,v={...v,[E]:{...v[E],...R}},D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:h}=M0(u,m,l)),y=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:v}};async function ql(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:v=0}=cs(e,t),C=FS(v),E=a[m?h==="floating"?"reference":"floating":h],x=Cd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),w=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),R=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},D=Cd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:_,strategy:l}):w);return{top:(x.top-D.top+C.top)/R.y,bottom:(D.bottom-x.bottom+C.bottom)/R.y,left:(x.left-D.left+C.left)/R.x,right:(D.right-x.right+C.right)/R.x}}const i2=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=cs(t,e)||{};if(u==null)return{};const h=FS(d),m={x:n,y:r},v=cv(s),C=lv(v),y=await i.getDimensions(u),E=v==="y",x=E?"top":"left",w=E?"bottom":"right",_=E?"clientHeight":"clientWidth",R=o.reference[C]+o.reference[v]-m[v]-o.floating[C],D=m[v]-o.reference[v],O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let T=O?O[_]:0;(!T||!await(i.isElement==null?void 0:i.isElement(O)))&&(T=a.floating[_]||o.floating[C]);const S=R/2-D/2,I=T/2-y[C]/2-1,A=oo(h[x],I),P=oo(h[w],I),M=A,N=T-y[C]-P,L=T/2-y[C]/2+S,K=ym(M,L,N),W=!l.arrow&&Sa(s)!=null&&L!==K&&o.reference[C]/2-(L<M?A:P)-y[C]/2<0,q=W?L<M?L-M:L-N:0;return{[v]:m[v]+q,data:{[v]:K,centerOffset:L-K-q,...W&&{alignmentOffset:q}},reset:W}}}),a2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:y=!0,...E}=cs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=us(s),w=jr(a),_=us(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=m||(_||!y?[Sd(a)]:ZD(a)),O=C!=="none";!m&&O&&D.push(...r2(a,y,C,R));const T=[a,...D],S=await ql(e,E),I=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&I.push(S[x]),h){const L=JD(s,i,R);I.push(S[L[0]],S[L[1]])}if(A=[...A,{placement:s,overflows:I}],!I.every(L=>L<=0)){var P,M;const L=(((P=o.flip)==null?void 0:P.index)||0)+1,K=T[L];if(K&&(!(h==="alignment"?w!==jr(K):!1)||A.every(V=>jr(V.placement)===w?V.overflows[0]>0:!0)))return{data:{index:L,overflows:A},reset:{placement:K}};let W=(M=A.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(v){case"bestFit":{var N;const q=(N=A.filter(V=>{if(O){const B=jr(V.placement);return B===w||B==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(B=>B>0).reduce((B,F)=>B+F,0)]).sort((V,B)=>V[1]-B[1])[0])==null?void 0:N[0];q&&(W=q);break}case"initialPlacement":W=a;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function O0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j0(t){return GD.some(e=>t[e]>=0)}const l2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=cs(t,e);switch(r){case"referenceHidden":{const o=await ql(e,{...s,elementContext:"reference"}),i=O0(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:j0(i)}}}case"escaped":{const o=await ql(e,{...s,altBoundary:!0}),i=O0(o,n.floating);return{data:{escapedOffsets:i,escaped:j0(i)}}}default:return{}}}}},$S=new Set(["left","top"]);async function c2(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=us(n),a=Sa(n),l=jr(n)==="y",u=$S.has(i)?-1:1,d=o&&l?-1:1,h=cs(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:C}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof C=="number"&&(v=a==="end"?C*-1:C),l?{x:v*d,y:m*u}:{x:m*u,y:v*d}}const u2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,l=await c2(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},d2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:E=>{let{x,y:w}=E;return{x,y:w}}},...l}=cs(t,e),u={x:n,y:r},d=await ql(e,l),h=jr(us(s)),m=av(h);let v=u[m],C=u[h];if(o){const E=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=v+d[E],_=v-d[x];v=ym(w,v,_)}if(i){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=C+d[E],_=C-d[x];C=ym(w,C,_)}const y=a.fn({...e,[m]:v,[h]:C});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:o,[h]:i}}}}}},f2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=cs(t,e),d={x:n,y:r},h=jr(s),m=av(h);let v=d[m],C=d[h];const y=cs(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=m==="y"?"height":"width",R=o.reference[m]-o.floating[_]+E.mainAxis,D=o.reference[m]+o.reference[_]-E.mainAxis;v<R?v=R:v>D&&(v=D)}if(u){var x,w;const _=m==="y"?"width":"height",R=$S.has(us(s)),D=o.reference[h]-o.floating[_]+(R&&((x=i.offset)==null?void 0:x[h])||0)+(R?0:E.crossAxis),O=o.reference[h]+o.reference[_]+(R?0:((w=i.offset)==null?void 0:w[h])||0)-(R?E.crossAxis:0);C<D?C=D:C>O&&(C=O)}return{[m]:v,[h]:C}}}},h2=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:l=()=>{},...u}=cs(t,e),d=await ql(e,u),h=us(s),m=Sa(s),v=jr(s)==="y",{width:C,height:y}=o.floating;let E,x;h==="top"||h==="bottom"?(E=h,x=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,E=m==="end"?"top":"bottom");const w=y-d.top-d.bottom,_=C-d.left-d.right,R=oo(y-d[E],w),D=oo(C-d[x],_),O=!e.middlewareData.shift;let T=R,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),O&&!m){const A=$n(d.left,0),P=$n(d.right,0),M=$n(d.top,0),N=$n(d.bottom,0);v?S=C-2*(A!==0||P!==0?A+P:$n(d.left,d.right)):T=y-2*(M!==0||N!==0?M+N:$n(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:T});const I=await i.getDimensions(a.floating);return C!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Ca(t){return BS(t)?(t.nodeName||"").toLowerCase():"#document"}function Wn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hr(t){var e;return(e=(BS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BS(t){return pf()?t instanceof Node||t instanceof Wn(t).Node:!1}function _r(t){return pf()?t instanceof Element||t instanceof Wn(t).Element:!1}function Ur(t){return pf()?t instanceof HTMLElement||t instanceof Wn(t).HTMLElement:!1}function L0(t){return!pf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Wn(t).ShadowRoot}const p2=new Set(["inline","contents"]);function yc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Er(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!p2.has(s)}const m2=new Set(["table","td","th"]);function g2(t){return m2.has(Ca(t))}const v2=[":popover-open",":modal"];function mf(t){return v2.some(e=>{try{return t.matches(e)}catch{return!1}})}const y2=["transform","translate","scale","rotate","perspective"],w2=["transform","translate","scale","rotate","perspective","filter"],x2=["paint","layout","strict","content"];function uv(t){const e=dv(),n=_r(t)?Er(t):t;return y2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||w2.some(r=>(n.willChange||"").includes(r))||x2.some(r=>(n.contain||"").includes(r))}function _2(t){let e=io(t);for(;Ur(e)&&!ua(e);){if(uv(e))return e;if(mf(e))return null;e=io(e)}return null}function dv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const E2=new Set(["html","body","#document"]);function ua(t){return E2.has(Ca(t))}function Er(t){return Wn(t).getComputedStyle(t)}function gf(t){return _r(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(Ca(t)==="html")return t;const e=t.assignedSlot||t.parentNode||L0(t)&&t.host||Hr(t);return L0(e)?e.host:e}function US(t){const e=io(t);return ua(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ur(e)&&yc(e)?e:US(e)}function Kl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=US(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=Wn(s);if(o){const a=xm(i);return e.concat(i,i.visualViewport||[],yc(s)?s:[],a&&n?Kl(a):[])}return e.concat(s,Kl(s,[],n))}function xm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zS(t){const e=Er(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ur(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=bd(n)!==o||bd(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function fv(t){return _r(t)?t:t.contextElement}function Vi(t){const e=fv(t);if(!Ur(e))return Fr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=zS(e);let i=(o?bd(n.width):n.width)/r,a=(o?bd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const b2=Fr(0);function WS(t){const e=Wn(t);return!dv()||!e.visualViewport?b2:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S2(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Wn(t)?!1:e}function Go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=fv(t);let i=Fr(1);e&&(r?_r(r)&&(i=Vi(r)):i=Vi(t));const a=S2(o,n,r)?WS(o):Fr(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const m=Wn(o),v=r&&_r(r)?Wn(r):r;let C=m,y=xm(C);for(;y&&r&&v!==C;){const E=Vi(y),x=y.getBoundingClientRect(),w=Er(y),_=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*E.x,R=x.top+(y.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,h*=E.y,l+=_,u+=R,C=Wn(y),y=xm(C)}}return Cd({width:d,height:h,x:l,y:u})}function vf(t,e){const n=gf(t).scrollLeft;return e?e.left+n:Go(Hr(t)).left+n}function HS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-vf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function C2(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Hr(r),a=e?mf(e.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=Fr(1);const d=Fr(0),h=Ur(r);if((h||!h&&!o)&&((Ca(r)!=="body"||yc(i))&&(l=gf(r)),Ur(r))){const v=Go(r);u=Vi(r),d.x=v.x+r.clientLeft,d.y=v.y+r.clientTop}const m=i&&!h&&!o?HS(i,l):Fr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function T2(t){return Array.from(t.getClientRects())}function I2(t){const e=Hr(t),n=gf(t),r=t.ownerDocument.body,s=$n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=$n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+vf(t);const a=-n.scrollTop;return Er(r).direction==="rtl"&&(i+=$n(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const V0=25;function A2(t,e){const n=Wn(t),r=Hr(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=dv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=vf(r);if(u<=0){const d=r.ownerDocument,h=d.body,m=getComputedStyle(h),v=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,C=Math.abs(r.clientWidth-h.clientWidth-v);C<=V0&&(o-=C)}else u<=V0&&(o+=u);return{width:o,height:i,x:a,y:l}}const R2=new Set(["absolute","fixed"]);function k2(t,e){const n=Go(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Ur(t)?Vi(t):Fr(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function F0(t,e,n){let r;if(e==="viewport")r=A2(t,n);else if(e==="document")r=I2(Hr(t));else if(_r(e))r=k2(e,n);else{const s=WS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cd(r)}function qS(t,e){const n=io(t);return n===e||!_r(n)||ua(n)?!1:Er(n).position==="fixed"||qS(n,e)}function N2(t,e){const n=e.get(t);if(n)return n;let r=Kl(t,[],!1).filter(a=>_r(a)&&Ca(a)!=="body"),s=null;const o=Er(t).position==="fixed";let i=o?io(t):t;for(;_r(i)&&!ua(i);){const a=Er(i),l=uv(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&R2.has(s.position)||yc(i)&&!l&&qS(t,i))?r=r.filter(d=>d!==i):s=a,i=io(i)}return e.set(t,r),r}function P2(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?mf(e)?[]:N2(e,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const h=F0(e,d,s);return u.top=$n(h.top,u.top),u.right=oo(h.right,u.right),u.bottom=oo(h.bottom,u.bottom),u.left=$n(h.left,u.left),u},F0(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function D2(t){const{width:e,height:n}=zS(t);return{width:e,height:n}}function M2(t,e,n){const r=Ur(e),s=Hr(e),o=n==="fixed",i=Go(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Fr(0);function u(){l.x=vf(s)}if(r||!r&&!o)if((Ca(e)!=="body"||yc(s))&&(a=gf(e)),r){const v=Go(e,!0,o,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?HS(s,a):Fr(0),h=i.left+a.scrollLeft-l.x-d.x,m=i.top+a.scrollTop-l.y-d.y;return{x:h,y:m,width:i.width,height:i.height}}function qh(t){return Er(t).position==="static"}function $0(t,e){if(!Ur(t)||Er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Hr(t)===n&&(n=n.ownerDocument.body),n}function KS(t,e){const n=Wn(t);if(mf(t))return n;if(!Ur(t)){let s=io(t);for(;s&&!ua(s);){if(_r(s)&&!qh(s))return s;s=io(s)}return n}let r=$0(t,e);for(;r&&g2(r)&&qh(r);)r=$0(r,e);return r&&ua(r)&&qh(r)&&!uv(r)?n:r||_2(t)||n}const O2=async function(t){const e=this.getOffsetParent||KS,n=this.getDimensions,r=await n(t.floating);return{reference:M2(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function j2(t){return Er(t).direction==="rtl"}const L2={convertOffsetParentRelativeRectToViewportRelativeRect:C2,getDocumentElement:Hr,getClippingRect:P2,getOffsetParent:KS,getElementRects:O2,getClientRects:T2,getDimensions:D2,getScale:Vi,isElement:_r,isRTL:j2};function GS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function V2(t,e){let n=null,r;const s=Hr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:v}=u;if(a||e(),!m||!v)return;const C=mu(h),y=mu(s.clientWidth-(d+m)),E=mu(s.clientHeight-(h+v)),x=mu(d),_={rootMargin:-C+"px "+-y+"px "+-E+"px "+-x+"px",threshold:$n(0,oo(1,l))||1};let R=!0;function D(O){const T=O[0].intersectionRatio;if(T!==l){if(!R)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!GS(u,t.getBoundingClientRect())&&i(),R=!1}try{n=new IntersectionObserver(D,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,_)}n.observe(t)}return i(!0),o}function F2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=fv(t),d=s||o?[...u?Kl(u):[],...Kl(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=u&&a?V2(u,n):null;let m=-1,v=null;i&&(v=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=v)==null||_.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let C,y=l?Go(t):null;l&&E();function E(){const x=Go(t);y&&!GS(y,x)&&n(),y=x,C=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),h==null||h(),(x=v)==null||x.disconnect(),v=null,l&&cancelAnimationFrame(C)}}const $2=u2,B2=d2,U2=a2,z2=h2,W2=l2,B0=i2,H2=f2,q2=(t,e,n)=>{const r=new Map,s={platform:L2,...n},o={...s.platform,_c:r};return o2(t,e,{...s,platform:o})};var K2=typeof document<"u",G2=function(){},$u=K2?p.useLayoutEffect:G2;function Td(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Td(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Td(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function QS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function U0(t,e){const n=QS(t);return Math.round(e*n)/n}function Kh(t){const e=p.useRef(t);return $u(()=>{e.current=t}),e}function Q2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=p.useState(r);Td(m,r)||v(r);const[C,y]=p.useState(null),[E,x]=p.useState(null),w=p.useCallback(V=>{V!==O.current&&(O.current=V,y(V))},[]),_=p.useCallback(V=>{V!==T.current&&(T.current=V,x(V))},[]),R=o||C,D=i||E,O=p.useRef(null),T=p.useRef(null),S=p.useRef(d),I=l!=null,A=Kh(l),P=Kh(s),M=Kh(u),N=p.useCallback(()=>{if(!O.current||!T.current)return;const V={placement:e,strategy:n,middleware:m};P.current&&(V.platform=P.current),q2(O.current,T.current,V).then(B=>{const F={...B,isPositioned:M.current!==!1};L.current&&!Td(S.current,F)&&(S.current=F,Zn.flushSync(()=>{h(F)}))})},[m,e,n,P,M]);$u(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const L=p.useRef(!1);$u(()=>(L.current=!0,()=>{L.current=!1}),[]),$u(()=>{if(R&&(O.current=R),D&&(T.current=D),R&&D){if(A.current)return A.current(R,D,N);N()}},[R,D,N,A,I]);const K=p.useMemo(()=>({reference:O,floating:T,setReference:w,setFloating:_}),[w,_]),W=p.useMemo(()=>({reference:R,floating:D}),[R,D]),q=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!W.floating)return V;const B=U0(W.floating,d.x),F=U0(W.floating,d.y);return a?{...V,transform:"translate("+B+"px, "+F+"px)",...QS(W.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:F}},[n,a,W.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:N,refs:K,elements:W,floatingStyles:q}),[d,N,K,W,q])}const Y2=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?B0({element:r.current,padding:s}).fn(n):{}:r?B0({element:r,padding:s}).fn(n):{}}}},X2=(t,e)=>({...$2(t),options:[t,e]}),J2=(t,e)=>({...B2(t),options:[t,e]}),Z2=(t,e)=>({...H2(t),options:[t,e]}),eM=(t,e)=>({...U2(t),options:[t,e]}),tM=(t,e)=>({...z2(t),options:[t,e]}),nM=(t,e)=>({...W2(t),options:[t,e]}),rM=(t,e)=>({...Y2(t),options:[t,e]});var sM="Arrow",YS=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return f.jsx(Oe.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});YS.displayName=sM;var oM=YS;function XS(t){const[e,n]=p.useState(void 0);return rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hv="Popper",[JS,yf]=gs(hv),[iM,ZS]=JS(hv),eC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return f.jsx(iM,{scope:e,anchor:r,onAnchorChange:s,children:n})};eC.displayName=hv;var tC="PopperAnchor",nC=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=ZS(tC,n),i=p.useRef(null),a=rt(e,i),l=p.useRef(null);return p.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:f.jsx(Oe.div,{...s,ref:a})});nC.displayName=tC;var pv="PopperContent",[aM,lM]=JS(pv),rC=p.forwardRef((t,e)=>{var X,be,Xe,_e,Ae,Se;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:C,...y}=t,E=ZS(pv,n),[x,w]=p.useState(null),_=rt(e,ut=>w(ut)),[R,D]=p.useState(null),O=XS(R),T=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,I=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],M=P.length>0,N={padding:A,boundary:P.filter(uM),altBoundary:M},{refs:L,floatingStyles:K,placement:W,isPositioned:q,middlewareData:V}=Q2({strategy:"fixed",placement:I,whileElementsMounted:(...ut)=>F2(...ut,{animationFrame:v==="always"}),elements:{reference:E.anchor},middleware:[X2({mainAxis:s+S,alignmentAxis:i}),l&&J2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Z2():void 0,...N}),l&&eM({...N}),tM({...N,apply:({elements:ut,rects:it,availableWidth:zt,availableHeight:Rt})=>{const{width:gn,height:de}=it.reference,ge=ut.floating.style;ge.setProperty("--radix-popper-available-width",`${zt}px`),ge.setProperty("--radix-popper-available-height",`${Rt}px`),ge.setProperty("--radix-popper-anchor-width",`${gn}px`),ge.setProperty("--radix-popper-anchor-height",`${de}px`)}}),R&&rM({element:R,padding:a}),dM({arrowWidth:T,arrowHeight:S}),m&&nM({strategy:"referenceHidden",...N})]}),[B,F]=iC(W),Z=rr(C);rn(()=>{q&&(Z==null||Z())},[q,Z]);const U=(X=V.arrow)==null?void 0:X.x,J=(be=V.arrow)==null?void 0:be.y,ae=((Xe=V.arrow)==null?void 0:Xe.centerOffset)!==0,[Pe,De]=p.useState();return rn(()=>{x&&De(window.getComputedStyle(x).zIndex)},[x]),f.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(_e=V.transformOrigin)==null?void 0:_e.x,(Ae=V.transformOrigin)==null?void 0:Ae.y].join(" "),...((Se=V.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(aM,{scope:n,placedSide:B,onArrowChange:D,arrowX:U,arrowY:J,shouldHideArrow:ae,children:f.jsx(Oe.div,{"data-side":B,"data-align":F,...y,ref:_,style:{...y.style,animation:q?void 0:"none"}})})})});rC.displayName=pv;var sC="PopperArrow",cM={top:"bottom",right:"left",bottom:"top",left:"right"},oC=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=lM(sC,r),i=cM[o.placedSide];return f.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:f.jsx(oM,{...s,ref:n,style:{...s.style,display:"block"}})})});oC.displayName=sC;function uM(t){return t!==null}var dM=t=>({name:"transformOrigin",options:t,fn(e){var E,x,w;const{placement:n,rects:r,middlewareData:s}=e,i=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=i?0:t.arrowWidth,l=i?0:t.arrowHeight,[u,d]=iC(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,v=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let C="",y="";return u==="bottom"?(C=i?h:`${m}px`,y=`${-l}px`):u==="top"?(C=i?h:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(C=`${-l}px`,y=i?h:`${v}px`):u==="left"&&(C=`${r.floating.width+l}px`,y=i?h:`${v}px`),{data:{x:C,y}}}});function iC(t){const[e,n="center"]=t.split("-");return[e,n]}var fM=eC,aC=nC,lC=rC,cC=oC,[wf,G$]=gs("Tooltip",[yf]),mv=yf(),uC="TooltipProvider",hM=700,z0="tooltip.open",[pM,dC]=wf(uC),fC=t=>{const{__scopeTooltip:e,delayDuration:n=hM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,i=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(pM,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};fC.displayName=uC;var hC="Tooltip",[Q$,xf]=wf(hC),_m="TooltipTrigger",mM=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=xf(_m,n),o=dC(_m,n),i=mv(n),a=p.useRef(null),l=rt(e,a,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(aC,{asChild:!0,...i,children:f.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:xe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:xe(t.onBlur,s.onClose),onClick:xe(t.onClick,s.onClose)})})});mM.displayName=_m;var gM="TooltipPortal",[Y$,vM]=wf(gM,{forceMount:void 0}),da="TooltipContent",pC=p.forwardRef((t,e)=>{const n=vM(da,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=xf(da,t.__scopeTooltip);return f.jsx(po,{present:r||i.open,children:i.disableHoverableContent?f.jsx(mC,{side:s,...o,ref:e}):f.jsx(yM,{side:s,...o,ref:e})})}),yM=p.forwardRef((t,e)=>{const n=xf(da,t.__scopeTooltip),r=dC(da,t.__scopeTooltip),s=p.useRef(null),o=rt(e,s),[i,a]=p.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=p.useCallback(()=>{a(null),h(!1)},[h]),v=p.useCallback((C,y)=>{const E=C.currentTarget,x={x:C.clientX,y:C.clientY},w=bM(x,E.getBoundingClientRect()),_=SM(x,w),R=CM(y.getBoundingClientRect()),D=IM([..._,...R]);a(D),h(!0)},[h]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(l&&d){const C=E=>v(E,d),y=E=>v(E,l);return l.addEventListener("pointerleave",C),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",C),d.removeEventListener("pointerleave",y)}}},[l,d,v,m]),p.useEffect(()=>{if(i){const C=y=>{const E=y.target,x={x:y.clientX,y:y.clientY},w=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),_=!TM(x,i);w?m():_&&(m(),u())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[l,d,i,u,m]),f.jsx(mC,{...t,ref:o})}),[wM,xM]=wf(hC,{isInside:!1}),_M=PN("TooltipContent"),mC=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,l=xf(da,n),u=mv(n),{onClose:d}=l;return p.useEffect(()=>(document.addEventListener(z0,d),()=>document.removeEventListener(z0,d)),[d]),p.useEffect(()=>{if(l.trigger){const h=m=>{const v=m.target;v!=null&&v.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),f.jsx(gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(lC,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(_M,{children:r}),f.jsx(wM,{scope:n,isInside:!0,children:f.jsx(eP,{id:l.contentId,role:"tooltip",children:s||r})})]})})});pC.displayName=da;var gC="TooltipArrow",EM=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mv(n);return xM(gC,n).isInside?null:f.jsx(cC,{...s,...r,ref:e})});EM.displayName=gC;function bM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function TM(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],l=e[i],u=a.x,d=a.y,h=l.x,m=l.y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function IM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),AM(e)}function AM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var RM=fC,vC=pC;const kM=RM,NM=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(vC,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));NM.displayName=vC.displayName;var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ef=typeof window>"u"||"Deno"in globalThis;function dr(){}function PM(t,e){return typeof t=="function"?t(e):t}function DM(t){return typeof t=="number"&&t>=0&&t!==1/0}function MM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Em(t,e){return typeof t=="function"?t(e):t}function OM(t,e){return typeof t=="function"?t(e):t}function W0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==gv(i,e.options))return!1}else if(!Ql(e.queryKey,i))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function H0(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Gl(e.options.mutationKey)!==Gl(o))return!1}else if(!Ql(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function gv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gl)(t)}function Gl(t){return JSON.stringify(t,(e,n)=>bm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ql(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ql(t[n],e[n])):!1}function yC(t,e){if(t===e)return t;const n=q0(t)&&q0(e);if(n||bm(t)&&bm(e)){const r=n?t:Object.keys(t),s=r.length,o=n?e:Object.keys(e),i=o.length,a=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<i;d++){const h=n?d:o[d];(!n&&l.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=yC(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===i&&u===s?t:a}return e}function q0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function bm(t){if(!K0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!K0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function K0(t){return Object.prototype.toString.call(t)==="[object Object]"}function jM(t){return new Promise(e=>{setTimeout(e,t)})}function LM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?yC(t,e):e}function VM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function FM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vv=Symbol();function wC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Do,Ns,qi,I_,$M=(I_=class extends _f{constructor(){super();Qe(this,Do);Qe(this,Ns);Qe(this,qi);Me(this,qi,e=>{if(!Ef&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Ns)||this.setEventListener(z(this,qi))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ns))==null||e.call(this),Me(this,Ns,void 0))}setEventListener(e){var n;Me(this,qi,e),(n=z(this,Ns))==null||n.call(this),Me(this,Ns,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Do)!==e&&(Me(this,Do,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Do)=="boolean"?z(this,Do):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Do=new WeakMap,Ns=new WeakMap,qi=new WeakMap,I_),xC=new $M,Ki,Ps,Gi,A_,BM=(A_=class extends _f{constructor(){super();Qe(this,Ki,!0);Qe(this,Ps);Qe(this,Gi);Me(this,Gi,e=>{if(!Ef&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Ps)||this.setEventListener(z(this,Gi))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Ps))==null||e.call(this),Me(this,Ps,void 0))}setEventListener(e){var n;Me(this,Gi,e),(n=z(this,Ps))==null||n.call(this),Me(this,Ps,e(this.setOnline.bind(this)))}setOnline(e){z(this,Ki)!==e&&(Me(this,Ki,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Ki)}},Ki=new WeakMap,Ps=new WeakMap,Gi=new WeakMap,A_),Id=new BM;function UM(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function zM(t){return Math.min(1e3*2**t,3e4)}function _C(t){return(t??"online")==="online"?Id.isOnline():!0}var EC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function bC(t){let e=!1,n=0,r;const s=UM(),o=()=>s.status!=="pending",i=y=>{var E;o()||(m(new EC(y)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>xC.isFocused()&&(t.networkMode==="always"||Id.isOnline())&&t.canRun(),d=()=>_C(t.networkMode)&&t.canRun(),h=y=>{o()||(r==null||r(),s.resolve(y))},m=y=>{o()||(r==null||r(),s.reject(y))},v=()=>new Promise(y=>{var E;r=x=>{(o()||u())&&y(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;r=void 0,o()||(y=t.onContinue)==null||y.call(t)}),C=()=>{if(o())return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(h).catch(x=>{var O;if(o())return;const w=t.retry??(Ef?0:3),_=t.retryDelay??zM,R=typeof _=="function"?_(n,x):_,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!D){m(x);return}n++,(O=t.onFail)==null||O.call(t,n,x),jM(R).then(()=>u()?void 0:v()).then(()=>{e?m(x):C()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?C():v().then(C),s)}}var WM=t=>setTimeout(t,0);function HM(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=WM;const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var _n=HM(),Mo,R_,SC=(R_=class{constructor(){Qe(this,Mo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),DM(this.gcTime)&&Me(this,Mo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ef?1/0:5*60*1e3))}clearGcTimeout(){z(this,Mo)&&(clearTimeout(z(this,Mo)),Me(this,Mo,void 0))}},Mo=new WeakMap,R_),Qi,Yi,Gn,Oo,Wt,cc,jo,fr,Yr,k_,qM=(k_=class extends SC{constructor(n){super();Qe(this,fr);Qe(this,Qi);Qe(this,Yi);Qe(this,Gn);Qe(this,Oo);Qe(this,Wt);Qe(this,cc);Qe(this,jo);Me(this,jo,!1),Me(this,cc,n.defaultOptions),this.setOptions(n.options),this.observers=[],Me(this,Oo,n.client),Me(this,Gn,z(this,Oo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Me(this,Qi,GM(this.options)),this.state=n.state??z(this,Qi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Wt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,cc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Gn).remove(this)}setData(n,r){const s=LM(this.state.data,n,this.options);return ln(this,fr,Yr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){ln(this,fr,Yr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,o;const r=(s=z(this,Wt))==null?void 0:s.promise;return(o=z(this,Wt))==null||o.cancel(n),r?r.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Qi))}isActive(){return this.observers.some(n=>OM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Em(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!MM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Wt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Wt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Gn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Wt)&&(z(this,jo)?z(this,Wt).cancel({revert:!0}):z(this,Wt).cancelRetry()),this.scheduleGc()),z(this,Gn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,fr,Yr).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,h,m,v,C,y,E,x,w,_,R;if(this.state.fetchStatus!=="idle"&&((u=z(this,Wt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Wt))return z(this,Wt).continueRetry(),z(this,Wt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const D=this.observers.find(O=>O.options.queryFn);D&&this.setOptions(D.options)}const s=new AbortController,o=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(Me(this,jo,!0),s.signal)})},i=()=>{const D=wC(this.options,r),T=(()=>{const S={client:z(this,Oo),queryKey:this.queryKey,meta:this.meta};return o(S),S})();return Me(this,jo,!1),this.options.persister?this.options.persister(D,T,this):D(T)},l=(()=>{const D={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,Oo),state:this.state,fetchFn:i};return o(D),D})();(d=this.options.behavior)==null||d.onFetch(l,this),Me(this,Yi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&ln(this,fr,Yr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),Me(this,Wt,bC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onFail:(D,O)=>{ln(this,fr,Yr).call(this,{type:"failed",failureCount:D,error:O})},onPause:()=>{ln(this,fr,Yr).call(this,{type:"pause"})},onContinue:()=>{ln(this,fr,Yr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const D=await z(this,Wt).start();if(D===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(D),(C=(v=z(this,Gn).config).onSuccess)==null||C.call(v,D,this),(E=(y=z(this,Gn).config).onSettled)==null||E.call(y,D,this.state.error,this),D}catch(D){if(D instanceof EC){if(D.silent)return z(this,Wt).promise;if(D.revert){if(this.setState({...z(this,Yi),fetchStatus:"idle"}),this.state.data===void 0)throw D;return this.state.data}}throw ln(this,fr,Yr).call(this,{type:"error",error:D}),(w=(x=z(this,Gn).config).onError)==null||w.call(x,D,this),(R=(_=z(this,Gn).config).onSettled)==null||R.call(_,this.state.data,D,this),D}finally{this.scheduleGc()}}},Qi=new WeakMap,Yi=new WeakMap,Gn=new WeakMap,Oo=new WeakMap,Wt=new WeakMap,cc=new WeakMap,jo=new WeakMap,fr=new WeakSet,Yr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...KM(s.data,this.options),fetchMeta:n.meta??null};case"success":const o={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Me(this,Yi,n.manual?o:void 0),o;case"error":const i=n.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),_n.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,Gn).notify({query:this,type:"updated",action:n})})},k_);function KM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_C(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function GM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nr,N_,QM=(N_=class extends _f{constructor(e={}){super();Qe(this,Nr);this.config=e,Me(this,Nr,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??gv(s,n);let i=this.get(o);return i||(i=new qM({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){z(this,Nr).has(e.queryHash)||(z(this,Nr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,Nr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,Nr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,Nr).get(e)}getAll(){return[...z(this,Nr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>W0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>W0(e,r)):n}notify(e){_n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Nr=new WeakMap,N_),Pr,wn,Lo,Dr,bs,P_,YM=(P_=class extends SC{constructor(n){super();Qe(this,Dr);Qe(this,Pr);Qe(this,wn);Qe(this,Lo);this.mutationId=n.mutationId,Me(this,wn,n.mutationCache),Me(this,Pr,[]),this.state=n.state||XM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Pr).includes(n)||(z(this,Pr).push(n),this.clearGcTimeout(),z(this,wn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Me(this,Pr,z(this,Pr).filter(r=>r!==n)),this.scheduleGc(),z(this,wn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Pr).length||(this.state.status==="pending"?this.scheduleGc():z(this,wn).remove(this))}continue(){var n;return((n=z(this,Lo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,l,u,d,h,m,v,C,y,E,x,w,_,R,D,O,T,S,I;const r=()=>{ln(this,Dr,bs).call(this,{type:"continue"})};Me(this,Lo,bC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{ln(this,Dr,bs).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{ln(this,Dr,bs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,wn).canRun(this)}));const s=this.state.status==="pending",o=!z(this,Lo).canStart();try{if(s)r();else{ln(this,Dr,bs).call(this,{type:"pending",variables:n,isPaused:o}),await((a=(i=z(this,wn).config).onMutate)==null?void 0:a.call(i,n,this));const P=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));P!==this.state.context&&ln(this,Dr,bs).call(this,{type:"pending",context:P,variables:n,isPaused:o})}const A=await z(this,Lo).start();return await((h=(d=z(this,wn).config).onSuccess)==null?void 0:h.call(d,A,n,this.state.context,this)),await((v=(m=this.options).onSuccess)==null?void 0:v.call(m,A,n,this.state.context)),await((y=(C=z(this,wn).config).onSettled)==null?void 0:y.call(C,A,null,this.state.variables,this.state.context,this)),await((x=(E=this.options).onSettled)==null?void 0:x.call(E,A,null,n,this.state.context)),ln(this,Dr,bs).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(w=z(this,wn).config).onError)==null?void 0:_.call(w,A,n,this.state.context,this)),await((D=(R=this.options).onError)==null?void 0:D.call(R,A,n,this.state.context)),await((T=(O=z(this,wn).config).onSettled)==null?void 0:T.call(O,void 0,A,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,A,n,this.state.context)),A}finally{ln(this,Dr,bs).call(this,{type:"error",error:A})}}finally{z(this,wn).runNext(this)}}},Pr=new WeakMap,wn=new WeakMap,Lo=new WeakMap,Dr=new WeakSet,bs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_n.batch(()=>{z(this,Pr).forEach(s=>{s.onMutationUpdate(n)}),z(this,wn).notify({mutation:this,type:"updated",action:n})})},P_);function XM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zr,hr,uc,D_,JM=(D_=class extends _f{constructor(e={}){super();Qe(this,Zr);Qe(this,hr);Qe(this,uc);this.config=e,Me(this,Zr,new Set),Me(this,hr,new Map),Me(this,uc,0)}build(e,n,r){const s=new YM({mutationCache:this,mutationId:++Kc(this,uc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,Zr).add(e);const n=gu(e);if(typeof n=="string"){const r=z(this,hr).get(n);r?r.push(e):z(this,hr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Zr).delete(e)){const n=gu(e);if(typeof n=="string"){const r=z(this,hr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,hr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gu(e);if(typeof n=="string"){const r=z(this,hr).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=gu(e);if(typeof n=="string"){const s=(r=z(this,hr).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){_n.batch(()=>{z(this,Zr).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Zr).clear(),z(this,hr).clear()})}getAll(){return Array.from(z(this,Zr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>H0(n,r))}findAll(e={}){return this.getAll().filter(n=>H0(e,n))}notify(e){_n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(e.map(n=>n.continue().catch(dr))))}},Zr=new WeakMap,hr=new WeakMap,uc=new WeakMap,D_);function gu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function G0(t){return{onFetch:(e,n)=>{var d,h,m,v,C;const r=e.options,s=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,o=((v=e.state.data)==null?void 0:v.pages)||[],i=((C=e.state.data)==null?void 0:C.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const E=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=wC(e.options,e.fetchOptions),w=async(_,R,D)=>{if(y)return Promise.reject();if(R==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};return E(P),P})(),S=await x(T),{maxPages:I}=e.options,A=D?FM:VM;return{pages:A(_.pages,S,I),pageParams:A(_.pageParams,R,I)}};if(s&&o.length){const _=s==="backward",R=_?ZM:Q0,D={pages:o,pageParams:i},O=R(r,D);a=await w(D,O,_)}else{const _=t??o.length;do{const R=l===0?i[0]??r.initialPageParam:Q0(r,a);if(l>0&&R==null)break;a=await w(a,R),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Q0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Tt,Ds,Ms,Xi,Ji,Os,Zi,ea,M_,eO=(M_=class{constructor(t={}){Qe(this,Tt);Qe(this,Ds);Qe(this,Ms);Qe(this,Xi);Qe(this,Ji);Qe(this,Os);Qe(this,Zi);Qe(this,ea);Me(this,Tt,t.queryCache||new QM),Me(this,Ds,t.mutationCache||new JM),Me(this,Ms,t.defaultOptions||{}),Me(this,Xi,new Map),Me(this,Ji,new Map),Me(this,Os,0)}mount(){Kc(this,Os)._++,z(this,Os)===1&&(Me(this,Zi,xC.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Tt).onFocus())})),Me(this,ea,Id.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,Tt).onOnline())})))}unmount(){var t,e;Kc(this,Os)._--,z(this,Os)===0&&((t=z(this,Zi))==null||t.call(this),Me(this,Zi,void 0),(e=z(this,ea))==null||e.call(this),Me(this,ea,void 0))}isFetching(t){return z(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Ds).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Tt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,Tt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Em(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,Tt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,Tt).get(r.queryHash),o=s==null?void 0:s.state.data,i=PM(e,o);if(i!==void 0)return z(this,Tt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return _n.batch(()=>z(this,Tt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,Tt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,Tt);_n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,Tt);return _n.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=_n.batch(()=>z(this,Tt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(dr).catch(dr)}invalidateQueries(t,e={}){return _n.batch(()=>(z(this,Tt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=_n.batch(()=>z(this,Tt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(dr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(dr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,Tt).build(this,e);return n.isStaleByTime(Em(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dr).catch(dr)}fetchInfiniteQuery(t){return t.behavior=G0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dr).catch(dr)}ensureInfiniteQueryData(t){return t.behavior=G0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Id.isOnline()?z(this,Ds).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Tt)}getMutationCache(){return z(this,Ds)}getDefaultOptions(){return z(this,Ms)}setDefaultOptions(t){Me(this,Ms,t)}setQueryDefaults(t,e){z(this,Xi).set(Gl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Xi).values()],n={};return e.forEach(r=>{Ql(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Ji).set(Gl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ji).values()],n={};return e.forEach(r=>{Ql(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,Tt).clear(),z(this,Ds).clear()}},Tt=new WeakMap,Ds=new WeakMap,Ms=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Os=new WeakMap,Zi=new WeakMap,ea=new WeakMap,M_),tO=p.createContext(void 0),nO=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(tO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yl.apply(this,arguments)}var Vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vs||(Vs={}));const Y0="popstate";function rO(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=ri(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Sm("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:CC(o))}function r(s,o){yv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return oO(e,n,r,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sO(){return Math.random().toString(36).substr(2,8)}function X0(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n,r){return n===void 0&&(n=null),Yl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||r||sO()})}function CC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Vs.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(Yl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=Vs.Pop;let E=d(),x=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:x})}function m(E,x){a=Vs.Push;let w=Sm(y.location,E,x);n&&n(w,E),u=d()+1;let _=X0(w,u),R=y.createHref(w);try{i.pushState(_,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}o&&l&&l({action:a,location:y.location,delta:1})}function v(E,x){a=Vs.Replace;let w=Sm(y.location,E,x);n&&n(w,E),u=d();let _=X0(w,u),R=y.createHref(w);i.replaceState(_,"",R),o&&l&&l({action:a,location:y.location,delta:0})}function C(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:CC(E);return w=w.replace(/ $/,"%20"),Bt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return a},get location(){return t(s,i)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Y0,h),l=E,()=>{s.removeEventListener(Y0,h),l=null}},createHref(E){return e(s,E)},createURL:C,encodeLocation(E){let x=C(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(E){return i.go(E)}};return y}var J0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(J0||(J0={}));function iO(t,e,n){return n===void 0&&(n="/"),aO(t,e,n)}function aO(t,e,n,r){let s=typeof e=="string"?ri(e):e,o=AC(s.pathname||"/",n);if(o==null)return null;let i=TC(t);lO(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=xO(o);a=vO(i[l],u)}return a}function TC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=$o([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),TC(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:mO(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of IC(o.path))s(o,i,l)}),e}function IC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=IC(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cO=/^:[\w-]+$/,uO=3,dO=2,fO=1,hO=10,pO=-2,Z0=t=>t==="*";function mO(t,e){let n=t.split("/"),r=n.length;return n.some(Z0)&&(r+=pO),e&&(r+=dO),n.filter(s=>!Z0(s)).reduce((s,o)=>s+(cO.test(o)?uO:o===""?fO:hO),r)}function gO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vO(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=yO({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:$o([o,h.pathname]),pathnameBase:TO($o([o,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(o=$o([o,h.pathnameBase]))}return i}function yO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let y=a[h]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const C=a[h];return v&&!C?u[m]=void 0:u[m]=(C||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function wO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _O(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:EO(n,e):e,search:IO(r),hash:AO(s)}}function EO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function SO(t,e){let n=bO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function CO(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ri(t):(s=Yl({},t),Bt(!s.pathname||!s.pathname.includes("?"),Gh("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),Gh("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),Gh("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=_O(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const $o=t=>t.join("/").replace(/\/\/+/g,"/"),TO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RC=["post","put","patch","delete"];new Set(RC);const kO=["get",...RC];new Set(kO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}const wv=p.createContext(null),NO=p.createContext(null),bf=p.createContext(null),Sf=p.createContext(null),si=p.createContext({outlet:null,matches:[],isDataRoute:!1}),kC=p.createContext(null);function Cf(){return p.useContext(Sf)!=null}function xv(){return Cf()||Bt(!1),p.useContext(Sf).location}function NC(t){p.useContext(bf).static||p.useLayoutEffect(t)}function PO(){let{isDataRoute:t}=p.useContext(si);return t?qO():DO()}function DO(){Cf()||Bt(!1);let t=p.useContext(wv),{basename:e,future:n,navigator:r}=p.useContext(bf),{matches:s}=p.useContext(si),{pathname:o}=xv(),i=JSON.stringify(SO(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return NC(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=CO(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:$o([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,o,t])}function MO(){let{matches:t}=p.useContext(si),e=t[t.length-1];return e?e.params:{}}function OO(t,e){return jO(t,e)}function jO(t,e,n,r){Cf()||Bt(!1);let{navigator:s}=p.useContext(bf),{matches:o}=p.useContext(si),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=xv(),d;if(e){var h;let E=typeof e=="string"?ri(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||Bt(!1),d=E}else d=u;let m=d.pathname||"/",v=m;if(l!=="/"){let E=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=iO(t,{pathname:v}),y=BO(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:$o([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:$o([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&y?p.createElement(Sf.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vs.Pop}},y):y}function LO(){let t=HO(),e=RO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const VO=p.createElement(LO,null);class FO extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(si.Provider,{value:this.props.routeContext},p.createElement(kC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $O(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(wv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(si.Provider,{value:e},r)}function BO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Bt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:v}=n,C=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||C){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let v,C=!1,y=null,E=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||VO,l&&(u<0&&m===0?(KO("route-fallback"),C=!0,E=null):u===m&&(C=!0,E=h.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),w=()=>{let _;return v?_=y:C?_=E:h.route.Component?_=p.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,p.createElement($O,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(FO,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var PC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PC||{}),DC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DC||{});function UO(t){let e=p.useContext(wv);return e||Bt(!1),e}function zO(t){let e=p.useContext(NO);return e||Bt(!1),e}function WO(t){let e=p.useContext(si);return e||Bt(!1),e}function MC(t){let e=WO(),n=e.matches[e.matches.length-1];return n.route.id||Bt(!1),n.route.id}function HO(){var t;let e=p.useContext(kC),n=zO(),r=MC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qO(){let{router:t}=UO(PC.UseNavigateStable),e=MC(DC.UseNavigateStable),n=p.useRef(!1);return NC(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xl({fromRouteId:e},o)))},[t,e])}const ex={};function KO(t,e,n){ex[t]||(ex[t]=!0)}function GO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function sl(t){Bt(!1)}function QO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Vs.Pop,navigator:o,static:i=!1,future:a}=t;Cf()&&Bt(!1);let l=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:o,static:i,future:Xl({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=ri(r));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:C="default"}=r,y=p.useMemo(()=>{let E=AC(d,l);return E==null?null:{location:{pathname:E,search:h,hash:m,state:v,key:C},navigationType:s}},[l,d,h,m,v,C,s]);return y==null?null:p.createElement(bf.Provider,{value:u},p.createElement(Sf.Provider,{children:n,value:y}))}function YO(t){let{children:e,location:n}=t;return OO(Cm(e),n)}new Promise(()=>{});function Cm(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let o=[...e,s];if(r.type===p.Fragment){n.push.apply(n,Cm(r.props.children,o));return}r.type!==sl&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Cm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const XO="6";try{window.__reactRouterVersion=XO}catch{}const JO="startTransition",tx=cg[JO];function ZO(t){let{basename:e,children:n,future:r,window:s}=t,o=p.useRef();o.current==null&&(o.current=rO({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&tx?tx(()=>l(h)):l(h)},[l,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>GO(r),[r]),p.createElement(QO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var nx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nx||(nx={}));var rx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rx||(rx={}));const ej=hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ze=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?kN:"button";return f.jsx(i,{className:Re(ej({variant:e,size:n,className:t})),ref:o,...s})});ze.displayName="Button";const Rn=p.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Rn.displayName="Card";const Xs=p.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));Xs.displayName="CardHeader";const Js=p.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Js.displayName="CardTitle";const tj=p.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));tj.displayName="CardDescription";const kn=p.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));kn.displayName="CardContent";const nj=p.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));nj.displayName="CardFooter";const rj=hf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rs({className:t,variant:e,...n}){return f.jsx("div",{className:Re(rj({variant:e}),t),...n})}const sj=({booking:t,startDay:e,spanDays:n,weekOffset:r,hasOverlap:s,stackLevel:o=0,isFinalSegment:i=!1,isCheckInSegment:a=!1,isCheckOutSegment:l=!1,isLastDayOfMonth:u=!1,isFirstVisibleSegment:d=!1,className:h})=>{t.guestName==="Joffrey Swita"||t.guestName;const m=_=>{switch(_){case"confirmed":return"bg-booking-confirmed border-booking-confirmed text-white";case"pending":return"bg-booking-pending border-booking-pending text-white";case"cancelled":return"bg-booking-cancelled border-booking-cancelled text-white";default:return"bg-secondary border-border text-secondary-foreground"}},v=(_,R,D)=>{let O;if(R==="Airbnb")O="bg-[hsl(348_76%_60%)] border-[hsl(348_76%_60%)] text-white";else if(R==="Booking.com")O="bg-[hsl(213_78%_56%)] border-[hsl(213_78%_56%)] text-white";else if(R==="VRBO")O="bg-[hsl(45_90%_60%)] border-[hsl(45_90%_60%)] text-white";else if(R==="Direct")O="bg-booking-confirmed border-booking-confirmed text-white";else switch(_){case"confirmed":O="bg-booking-confirmed border-booking-confirmed text-white";break;case"pending":O="bg-booking-pending border-booking-pending text-white";break;case"cancelled":O="bg-booking-cancelled border-booking-cancelled text-white";break;default:O="bg-secondary border-border text-secondary-foreground"}return D?O:O+" border-dashed border-2"},C=_=>({Airbnb:"bg-[hsl(348_76%_60%)]","Booking.com":"bg-[hsl(213_78%_56%)]",VRBO:"bg-[hsl(45_90%_60%)]",Direct:"bg-booking-confirmed"})[_]||"bg-muted",y=30+o*40;let E,x;a&&l?n===1?(E=`calc(${e} * (100% / 7) + (100% / 7) * 0.6)`,x="calc((100% / 7) * 0.4)"):(E=`calc(${e} * (100% / 7) + (100% / 7) * 0.6)`,x=`calc(${n-1} * (100% / 7) + (100% / 7) * 0.4 - (100% / 7) * 0.6)`):a?(E=`calc(${e} * (100% / 7) + (100% / 7) * 0.6)`,x=`calc(${n} * (100% / 7) - (100% / 7) * 0.6)`):l&&!a?(E=`calc(${e} * (100% / 7))`,x="calc((100% / 7) * 0.4)"):(E=`calc(${e} * (100% / 7))`,x=`calc(${n} * (100% / 7))`);let w;return a&&l?w="polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%)":a?w="polygon(8px 0%, 100% 0%, 100% 100%, 0% 100%)":l||u?w="polygon(0% 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%)":w="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",f.jsxs("div",{className:Re("absolute z-10 shadow-booking transition-all duration-200 hover:shadow-hover hover:z-20","px-2 py-1 cursor-pointer",v(t.status,t.source,t.guestName&&!t.guestName.startsWith("Guest (")),h),style:{top:`${y}px`,height:"28px",left:E,width:x,clipPath:w},children:[d&&f.jsxs("div",{className:"flex items-center justify-between h-full text-xs",children:[f.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[f.jsx("div",{className:Re("w-2 h-2 rounded-full flex-shrink-0",C(t.source))}),f.jsx("span",{className:"font-medium truncate",children:t.guestName}),s&&f.jsx(SP,{className:"w-3 h-3 flex-shrink-0"}),(!t.guestName||t.guestName.startsWith("Guest ("))&&f.jsx(b0,{className:"w-3 h-3 flex-shrink-0 opacity-70"})]}),f.jsxs("div",{className:"flex items-center gap-1 text-xs opacity-90 flex-shrink-0",children:[f.jsx(Ed,{className:"w-3 h-3"}),f.jsx("span",{children:t.guests})]})]}),f.jsx("div",{className:"absolute bottom-full mb-2 left-0 right-0 bg-card border rounded-lg shadow-lg p-3 opacity-0 hover:opacity-100 transition-opacity duration-200 pointer-events-none z-30 min-w-[200px]",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm text-card-foreground",children:t.guestName}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(t.checkIn).toLocaleDateString()," - ",new Date(t.checkOut).toLocaleDateString()]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(rs,{variant:"outline",className:Re("text-xs",m(t.status)),children:t.status}),f.jsx(rs,{variant:"outline",className:"text-xs",children:t.source})]}),t.price&&f.jsxs("p",{className:"text-xs font-medium text-card-foreground",children:[t.currency," ",t.price]}),(t.phone||t.email)&&f.jsxs("div",{className:"space-y-1",children:[t.phone&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(ov,{className:"w-3 h-3"}),f.jsx("span",{children:t.phone})]}),t.email&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[f.jsx(sv,{className:"w-3 h-3"}),f.jsx("span",{className:"truncate",children:t.email})]})]}),t.cleaningRequired&&f.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[f.jsx("div",{className:Re("w-2 h-2 rounded-full",t.cleaningStatus==="completed"?"bg-booking-confirmed":t.cleaningStatus==="pending"?"bg-cleaning":"bg-muted")}),f.jsxs("span",{className:"text-muted-foreground",children:["Cleaning ",t.cleaningStatus||"required"]})]}),t.notes&&f.jsx("p",{className:"text-xs text-muted-foreground border-t pt-2",children:t.notes}),(!t.guestName||t.guestName.startsWith("Guest ("))&&f.jsxs("p",{className:"text-xs text-muted-foreground border-t pt-2 flex items-center gap-1",children:[f.jsx(b0,{className:"w-3 h-3"}),f.jsx("span",{children:"Guest name not available"})]})]})})]})},oj=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,o]=p.useState(null),i=async()=>{try{r(!0),console.log("Loading bookings from Firebase Cloud Function...");const a=await fetch("https://us-central1-property-manager-cf570.cloudfunctions.net/bookings?limit=100");if(!a.ok)throw new Error(`HTTP ${a.status}: ${a.statusText}`);const l=await a.json();if(console.log("API Response:",l),!l.reservations||!Array.isArray(l.reservations))throw new Error("Invalid API response format: missing reservations array");const d=l.reservations.filter((h,m,v)=>m===v.findIndex(C=>C.reservation_code===h.reservation_code)).filter(h=>h.status!=="cancelled").map(h=>{var m,v,C,y,E,x;return{id:h.reservation_code||Math.random().toString(36).substr(2,9),guestName:h.guest_name&&h.guest_name.trim()!==""?h.guest_name:`Guest (${((m=h.reservation_code)==null?void 0:m.slice(-8))||"Unknown"})`,checkIn:h.check_in_date,checkOut:h.check_out_date,guests:h.number_of_guests||1,source:((v=h.custom_channel)==null?void 0:v.name)||h.channel_type||"Direct",status:h.status==="accepted"?"confirmed":h.status,cleaningRequired:!0,cleaningStatus:"pending",price:(y=(C=h.rates)==null?void 0:C.rate)==null?void 0:y.amount,currency:((x=(E=h.rates)==null?void 0:E.rate)==null?void 0:x.currency)||"JPY",phone:h.guest_phone,email:h.guest_email,notes:h.remarks||h.channel_remarks}});e(d),o(null)}catch(a){console.error("Error loading bookings:",a),o(a instanceof Error?a.message:"Failed to load bookings")}finally{r(!1)}};return p.useEffect(()=>{i();const a=setInterval(()=>{console.log("Auto-refreshing bookings..."),i()},5*60*1e3);return()=>clearInterval(a)},[]),{bookings:t,loading:n,error:s,refetch:i}};var sx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ij=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},jC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;l||(v=64,i||(m=64)),r.push(n[d],n[h],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ij(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||h==null)throw new aj;const m=o<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const C=u<<6&192|h;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lj=function(t){const e=OC(t);return jC.encodeByteArray(e,!0)},Ad=function(t){return lj(t).replace(/\./g,"")},cj=function(t){try{return jC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=()=>uj().__FIREBASE_DEFAULTS__,fj=()=>{if(typeof process>"u"||typeof sx>"u")return;const t=sx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cj(t[1]);return e&&JSON.parse(e)},_v=()=>{try{return dj()||fj()||hj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pj=t=>{var e,n;return(n=(e=_v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mj=t=>{const e=pj(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LC=()=>{var t;return(t=_v())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ad(JSON.stringify(n)),Ad(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wj(){var t;const e=(t=_v())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xj(){return!wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _j(){try{return typeof indexedDB=="object"}catch{return!1}}function Ej(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="FirebaseError";class Ta extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bj,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,VC.prototype.create)}}class VC{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Sj(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Ta(s,a,r)}}function Sj(t,e){return t.replace(Cj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Cj=/\{\$([^}]+)}/g;function Tm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(ox(o)&&ox(i)){if(!Tm(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ox(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class Jl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Aj(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ij(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ij(t){return t===Co?void 0:t}function Aj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const kj={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Nj=qe.INFO,Pj={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},Dj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Pj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class FC{constructor(e){this.name=e,this._logLevel=Nj,this._logHandler=Dj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const Mj=(t,e)=>e.some(n=>t instanceof n);let ix,ax;function Oj(){return ix||(ix=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jj(){return ax||(ax=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $C=new WeakMap,Im=new WeakMap,BC=new WeakMap,Qh=new WeakMap,Ev=new WeakMap;function Lj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Zs(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&$C.set(n,t)}).catch(()=>{}),Ev.set(e,t),e}function Vj(t){if(Im.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});Im.set(t,e)}let Am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Fj(t){Am=t(Am)}function $j(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return BC.set(r,e.sort?e.sort():[e]),Zs(r)}:jj().includes(t)?function(...e){return t.apply(Yh(this),e),Zs($C.get(this))}:function(...e){return Zs(t.apply(Yh(this),e))}}function Bj(t){return typeof t=="function"?$j(t):(t instanceof IDBTransaction&&Vj(t),Mj(t,Oj())?new Proxy(t,Am):t)}function Zs(t){if(t instanceof IDBRequest)return Lj(t);if(Qh.has(t))return Qh.get(t);const e=Bj(t);return e!==t&&(Qh.set(t,e),Ev.set(e,t)),e}const Yh=t=>Ev.get(t);function Uj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Zs(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Zs(i.result),l.oldVersion,l.newVersion,Zs(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const zj=["get","getKey","getAll","getAllKeys","count"],Wj=["put","add","delete","clear"],Xh=new Map;function lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Wj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zj.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Xh.set(e,o),o}Fj(t=>({...t,get:(e,n,r)=>lx(e,n)||t.get(e,n,r),has:(e,n)=>!!lx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",cx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new FC("@firebase/app"),Kj="@firebase/app-compat",Gj="@firebase/analytics-compat",Qj="@firebase/analytics",Yj="@firebase/app-check-compat",Xj="@firebase/app-check",Jj="@firebase/auth",Zj="@firebase/auth-compat",eL="@firebase/database",tL="@firebase/data-connect",nL="@firebase/database-compat",rL="@firebase/functions",sL="@firebase/functions-compat",oL="@firebase/installations",iL="@firebase/installations-compat",aL="@firebase/messaging",lL="@firebase/messaging-compat",cL="@firebase/performance",uL="@firebase/performance-compat",dL="@firebase/remote-config",fL="@firebase/remote-config-compat",hL="@firebase/storage",pL="@firebase/storage-compat",mL="@firebase/firestore",gL="@firebase/vertexai-preview",vL="@firebase/firestore-compat",yL="firebase",wL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",xL={[Rm]:"fire-core",[Kj]:"fire-core-compat",[Qj]:"fire-analytics",[Gj]:"fire-analytics-compat",[Xj]:"fire-app-check",[Yj]:"fire-app-check-compat",[Jj]:"fire-auth",[Zj]:"fire-auth-compat",[eL]:"fire-rtdb",[tL]:"fire-data-connect",[nL]:"fire-rtdb-compat",[rL]:"fire-fn",[sL]:"fire-fn-compat",[oL]:"fire-iid",[iL]:"fire-iid-compat",[aL]:"fire-fcm",[lL]:"fire-fcm-compat",[cL]:"fire-perf",[uL]:"fire-perf-compat",[dL]:"fire-rc",[fL]:"fire-rc-compat",[hL]:"fire-gcs",[pL]:"fire-gcs-compat",[mL]:"fire-fst",[vL]:"fire-fst-compat",[gL]:"fire-vertex","fire-js":"fire-js",[yL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=new Map,_L=new Map,Nm=new Map;function ux(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kd(t){const e=t.name;if(Nm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of Rd.values())ux(n,t);for(const n of _L.values())ux(n,t);return!0}function EL(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new VC("app","Firebase",bL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=wL;function UC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw eo.create("bad-app-name",{appName:String(s)});if(n||(n=LC()),!n)throw eo.create("no-options");const o=Rd.get(s);if(o){if(Tm(n,o.options)&&Tm(r,o.config))return o;throw eo.create("duplicate-app",{appName:s})}const i=new Rj(s);for(const l of Nm.values())i.addComponent(l);const a=new SL(n,r,i);return Rd.set(s,a),a}function TL(t=km){const e=Rd.get(t);if(!e&&t===km&&LC())return UC();if(!e)throw eo.create("no-app",{appName:t});return e}function Fi(t,e,n){var r;let s=(r=xL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(a.join(" "));return}kd(new Jl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="firebase-heartbeat-database",AL=1,Zl="firebase-heartbeat-store";let Jh=null;function zC(){return Jh||(Jh=Uj(IL,AL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function RL(t){try{const n=(await zC()).transaction(Zl),r=await n.objectStore(Zl).get(WC(t));return await n.done,r}catch(e){if(e instanceof Ta)ds.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function dx(t,e){try{const r=(await zC()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,WC(t)),await r.done}catch(n){if(n instanceof Ta)ds.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function WC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=1024,NL=30*24*60*60*1e3;class PL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ML(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=NL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fx(),{heartbeatsToSend:r,unsentEntries:s}=DL(this._heartbeatsCache.heartbeats),o=Ad(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ds.warn(n),""}}}function fx(){return new Date().toISOString().substring(0,10)}function DL(t,e=kL){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),hx(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ML{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _j()?Ej().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hx(t){return Ad(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){kd(new Jl("platform-logger",e=>new Hj(e),"PRIVATE")),kd(new Jl("heartbeat",e=>new PL(e),"PRIVATE")),Fi(Rm,cx,t),Fi(Rm,cx,"esm2017"),Fi("fire-js","")}OL("");var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,HC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function I(){}I.prototype=S.prototype,T.D=S.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(A,P,M){for(var N=Array(arguments.length-2),L=2;L<arguments.length;L++)N[L-2]=arguments[L];return S.prototype[P].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,S,I){I||(I=0);var A=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)A[P]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(P=0;16>P;++P)A[P]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=T.g[0],I=T.g[1],P=T.g[2];var M=T.g[3],N=S+(M^I&(P^M))+A[0]+3614090360&4294967295;S=I+(N<<7&4294967295|N>>>25),N=M+(P^S&(I^P))+A[1]+3905402710&4294967295,M=S+(N<<12&4294967295|N>>>20),N=P+(I^M&(S^I))+A[2]+606105819&4294967295,P=M+(N<<17&4294967295|N>>>15),N=I+(S^P&(M^S))+A[3]+3250441966&4294967295,I=P+(N<<22&4294967295|N>>>10),N=S+(M^I&(P^M))+A[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=M+(P^S&(I^P))+A[5]+1200080426&4294967295,M=S+(N<<12&4294967295|N>>>20),N=P+(I^M&(S^I))+A[6]+2821735955&4294967295,P=M+(N<<17&4294967295|N>>>15),N=I+(S^P&(M^S))+A[7]+4249261313&4294967295,I=P+(N<<22&4294967295|N>>>10),N=S+(M^I&(P^M))+A[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=M+(P^S&(I^P))+A[9]+2336552879&4294967295,M=S+(N<<12&4294967295|N>>>20),N=P+(I^M&(S^I))+A[10]+4294925233&4294967295,P=M+(N<<17&4294967295|N>>>15),N=I+(S^P&(M^S))+A[11]+2304563134&4294967295,I=P+(N<<22&4294967295|N>>>10),N=S+(M^I&(P^M))+A[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=M+(P^S&(I^P))+A[13]+4254626195&4294967295,M=S+(N<<12&4294967295|N>>>20),N=P+(I^M&(S^I))+A[14]+2792965006&4294967295,P=M+(N<<17&4294967295|N>>>15),N=I+(S^P&(M^S))+A[15]+1236535329&4294967295,I=P+(N<<22&4294967295|N>>>10),N=S+(P^M&(I^P))+A[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=M+(I^P&(S^I))+A[6]+3225465664&4294967295,M=S+(N<<9&4294967295|N>>>23),N=P+(S^I&(M^S))+A[11]+643717713&4294967295,P=M+(N<<14&4294967295|N>>>18),N=I+(M^S&(P^M))+A[0]+3921069994&4294967295,I=P+(N<<20&4294967295|N>>>12),N=S+(P^M&(I^P))+A[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=M+(I^P&(S^I))+A[10]+38016083&4294967295,M=S+(N<<9&4294967295|N>>>23),N=P+(S^I&(M^S))+A[15]+3634488961&4294967295,P=M+(N<<14&4294967295|N>>>18),N=I+(M^S&(P^M))+A[4]+3889429448&4294967295,I=P+(N<<20&4294967295|N>>>12),N=S+(P^M&(I^P))+A[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=M+(I^P&(S^I))+A[14]+3275163606&4294967295,M=S+(N<<9&4294967295|N>>>23),N=P+(S^I&(M^S))+A[3]+4107603335&4294967295,P=M+(N<<14&4294967295|N>>>18),N=I+(M^S&(P^M))+A[8]+1163531501&4294967295,I=P+(N<<20&4294967295|N>>>12),N=S+(P^M&(I^P))+A[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=M+(I^P&(S^I))+A[2]+4243563512&4294967295,M=S+(N<<9&4294967295|N>>>23),N=P+(S^I&(M^S))+A[7]+1735328473&4294967295,P=M+(N<<14&4294967295|N>>>18),N=I+(M^S&(P^M))+A[12]+2368359562&4294967295,I=P+(N<<20&4294967295|N>>>12),N=S+(I^P^M)+A[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=M+(S^I^P)+A[8]+2272392833&4294967295,M=S+(N<<11&4294967295|N>>>21),N=P+(M^S^I)+A[11]+1839030562&4294967295,P=M+(N<<16&4294967295|N>>>16),N=I+(P^M^S)+A[14]+4259657740&4294967295,I=P+(N<<23&4294967295|N>>>9),N=S+(I^P^M)+A[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=M+(S^I^P)+A[4]+1272893353&4294967295,M=S+(N<<11&4294967295|N>>>21),N=P+(M^S^I)+A[7]+4139469664&4294967295,P=M+(N<<16&4294967295|N>>>16),N=I+(P^M^S)+A[10]+3200236656&4294967295,I=P+(N<<23&4294967295|N>>>9),N=S+(I^P^M)+A[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=M+(S^I^P)+A[0]+3936430074&4294967295,M=S+(N<<11&4294967295|N>>>21),N=P+(M^S^I)+A[3]+3572445317&4294967295,P=M+(N<<16&4294967295|N>>>16),N=I+(P^M^S)+A[6]+76029189&4294967295,I=P+(N<<23&4294967295|N>>>9),N=S+(I^P^M)+A[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=M+(S^I^P)+A[12]+3873151461&4294967295,M=S+(N<<11&4294967295|N>>>21),N=P+(M^S^I)+A[15]+530742520&4294967295,P=M+(N<<16&4294967295|N>>>16),N=I+(P^M^S)+A[2]+3299628645&4294967295,I=P+(N<<23&4294967295|N>>>9),N=S+(P^(I|~M))+A[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=M+(I^(S|~P))+A[7]+1126891415&4294967295,M=S+(N<<10&4294967295|N>>>22),N=P+(S^(M|~I))+A[14]+2878612391&4294967295,P=M+(N<<15&4294967295|N>>>17),N=I+(M^(P|~S))+A[5]+4237533241&4294967295,I=P+(N<<21&4294967295|N>>>11),N=S+(P^(I|~M))+A[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=M+(I^(S|~P))+A[3]+2399980690&4294967295,M=S+(N<<10&4294967295|N>>>22),N=P+(S^(M|~I))+A[10]+4293915773&4294967295,P=M+(N<<15&4294967295|N>>>17),N=I+(M^(P|~S))+A[1]+2240044497&4294967295,I=P+(N<<21&4294967295|N>>>11),N=S+(P^(I|~M))+A[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=M+(I^(S|~P))+A[15]+4264355552&4294967295,M=S+(N<<10&4294967295|N>>>22),N=P+(S^(M|~I))+A[6]+2734768916&4294967295,P=M+(N<<15&4294967295|N>>>17),N=I+(M^(P|~S))+A[13]+1309151649&4294967295,I=P+(N<<21&4294967295|N>>>11),N=S+(P^(I|~M))+A[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=M+(I^(S|~P))+A[11]+3174756917&4294967295,M=S+(N<<10&4294967295|N>>>22),N=P+(S^(M|~I))+A[2]+718787259&4294967295,P=M+(N<<15&4294967295|N>>>17),N=I+(M^(P|~S))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var I=S-this.blockSize,A=this.B,P=this.h,M=0;M<S;){if(P==0)for(;M<=I;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<S;)if(A[P++]=T.charCodeAt(M++),P==this.blockSize){s(this,A),P=0;break}}else for(;M<S;)if(A[P++]=T[M++],P==this.blockSize){s(this,A),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var I=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=I&255,I/=256;for(this.u(T),T=Array(16),S=I=0;4>S;++S)for(var A=0;32>A;A+=8)T[I++]=this.g[S]>>>A&255;return T};function o(T,S){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=S(T)}function i(T,S){this.h=S;for(var I=[],A=!0,P=T.length-1;0<=P;P--){var M=T[P]|0;A&&M==S||(I[P]=M,A=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?o(T,function(S){return new i([S|0],0>S?-1:0)}):new i([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return E(u(-T));for(var S=[],I=1,A=0;T>=I;A++)S[A]=T/I|0,I*=4294967296;return new i(S,0)}function d(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return E(d(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),A=h,P=0;P<T.length;P+=8){var M=Math.min(8,T.length-P),N=parseInt(T.substring(P,P+M),S);8>M?(M=u(Math.pow(S,M)),A=A.j(M).add(u(N))):(A=A.j(I),A=A.add(u(N)))}return A}var h=l(0),m=l(1),v=l(16777216);t=i.prototype,t.m=function(){if(y(this))return-E(this).m();for(var T=0,S=1,I=0;I<this.g.length;I++){var A=this.i(I);T+=(0<=A?A:4294967296+A)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(y(this))return"-"+E(this).toString(T);for(var S=u(Math.pow(T,6)),I=this,A="";;){var P=R(I,S).g;I=x(I,P.j(S));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=P,C(I))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function y(T){return T.h==-1}t.l=function(T){return T=x(this,T),y(T)?-1:C(T)?0:1};function E(T){for(var S=T.g.length,I=[],A=0;A<S;A++)I[A]=~T.g[A];return new i(I,~T.h).add(m)}t.abs=function(){return y(this)?E(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],A=0,P=0;P<=S;P++){var M=A+(this.i(P)&65535)+(T.i(P)&65535),N=(M>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);A=N>>>16,M&=65535,N&=65535,I[P]=N<<16|M}return new i(I,I[I.length-1]&-2147483648?-1:0)};function x(T,S){return T.add(E(S))}t.j=function(T){if(C(this)||C(T))return h;if(y(this))return y(T)?E(this).j(E(T)):E(E(this).j(T));if(y(T))return E(this.j(E(T)));if(0>this.l(v)&&0>T.l(v))return u(this.m()*T.m());for(var S=this.g.length+T.g.length,I=[],A=0;A<2*S;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<T.g.length;P++){var M=this.i(A)>>>16,N=this.i(A)&65535,L=T.i(P)>>>16,K=T.i(P)&65535;I[2*A+2*P]+=N*K,w(I,2*A+2*P),I[2*A+2*P+1]+=M*K,w(I,2*A+2*P+1),I[2*A+2*P+1]+=N*L,w(I,2*A+2*P+1),I[2*A+2*P+2]+=M*L,w(I,2*A+2*P+2)}for(A=0;A<S;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=S;A<2*S;A++)I[A]=0;return new i(I,0)};function w(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function _(T,S){this.g=T,this.h=S}function R(T,S){if(C(S))throw Error("division by zero");if(C(T))return new _(h,h);if(y(T))return S=R(E(T),S),new _(E(S.g),E(S.h));if(y(S))return S=R(T,E(S)),new _(E(S.g),S.h);if(30<T.g.length){if(y(T)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=S;0>=A.l(T);)I=D(I),A=D(A);var P=O(I,1),M=O(A,1);for(A=O(A,2),I=O(I,2);!C(A);){var N=M.add(A);0>=N.l(T)&&(P=P.add(I),M=N),A=O(A,1),I=O(I,1)}return S=x(T,P.j(S)),new _(P,S)}for(P=h;0<=T.l(S);){for(I=Math.max(1,Math.floor(T.m()/S.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=u(I),N=M.j(S);y(N)||0<N.l(T);)I-=A,M=u(I),N=M.j(S);C(M)&&(M=m),P=P.add(M),T=x(T,N)}return new _(P,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)&T.i(A);return new i(I,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)|T.i(A);return new i(I,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],A=0;A<S;A++)I[A]=this.i(A)^T.i(A);return new i(I,this.h^T.h)};function D(T){for(var S=T.g.length+1,I=[],A=0;A<S;A++)I[A]=T.i(A)<<1|T.i(A-1)>>>31;return new i(I,T.h)}function O(T,S){var I=S>>5;S%=32;for(var A=T.g.length-I,P=[],M=0;M<A;M++)P[M]=0<S?T.i(M+I)>>>S|T.i(M+I+1)<<32-S:T.i(M+I);return new i(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HC=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Bo=i}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qC,ol,KC,Bu,Pm,GC,QC,YC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,b){return c==Array.prototype||c==Object.prototype||(c[g]=b.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vu=="object"&&vu];for(var g=0;g<c.length;++g){var b=c[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var b=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var j=c[k];if(!(j in b))break e;b=b[j]}c=c[c.length-1],k=b[c],g=g(k),g!=k&&g!=null&&e(b,c,{configurable:!0,writable:!0,value:g})}}function o(c,g){c instanceof String&&(c+="");var b=0,k=!1,j={next:function(){if(!k&&b<c.length){var $=b++;return{value:g($,c[$]),done:!1}}return k=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(c){return c||function(){return o(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,b){return c.call.apply(c.bind,arguments)}function h(c,g,b){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,k),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function m(c,g,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function v(c,g){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function C(c,g){function b(){}b.prototype=g.prototype,c.aa=g.prototype,c.prototype=new b,c.prototype.constructor=c,c.Qb=function(k,j,$){for(var re=Array(arguments.length-2),st=2;st<arguments.length;st++)re[st-2]=arguments[st];return g.prototype[j].apply(k,re)}}function y(c){const g=c.length;if(0<g){const b=Array(g);for(let k=0;k<g;k++)b[k]=c[k];return b}return[]}function E(c,g){for(let b=1;b<arguments.length;b++){const k=arguments[b];if(l(k)){const j=c.length||0,$=k.length||0;c.length=j+$;for(let re=0;re<$;re++)c[j+re]=k[re]}else c.push(k)}}class x{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(c){return/^[\s\xa0]*$/.test(c)}function _(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var D=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(c,g,b){for(const k in c)g.call(b,c[k],k,c)}function T(c,g){for(const b in c)g.call(void 0,c[b],b,c)}function S(c){const g={};for(const b in c)g[b]=c[b];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,g){let b,k;for(let j=1;j<arguments.length;j++){k=arguments[j];for(b in k)c[b]=k[b];for(let $=0;$<I.length;$++)b=I[$],Object.prototype.hasOwnProperty.call(k,b)&&(c[b]=k[b])}}function P(c){var g=1;c=c.split(":");const b=[];for(;0<g&&c.length;)b.push(c.shift()),g--;return c.length&&b.push(c.join(":")),b}function M(c){a.setTimeout(()=>{throw c},0)}function N(){var c=B;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class L{constructor(){this.h=this.g=null}add(g,b){const k=K.get();k.set(g,b),this.h?this.h.next=k:this.g=k,this.h=k}}var K=new x(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,B=new L,F=()=>{const c=a.Promise.resolve(void 0);q=()=>{c.then(Z)}};var Z=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(b){M(b)}var g=K;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}V=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const b=()=>{};a.addEventListener("test",b,g),a.removeEventListener("test",b,g)}catch{}return c}();function Pe(c,g){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var b=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(D){e:{try{R(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else b=="mouseover"?g=c.fromElement:b=="mouseout"&&(g=c.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}C(Pe,J);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),be=0;function Xe(c,g,b,k,j){this.listener=c,this.proxy=null,this.src=g,this.type=b,this.capture=!!k,this.ha=j,this.key=++be,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,g,b,k,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var re=ut(c,g,k,j);return-1<re?(g=c[re],b||(g.fa=!1)):(g=new Xe(g,this.src,$,!!k,j),g.fa=b,c.push(g)),g};function Se(c,g){var b=g.type;if(b in c.g){var k=c.g[b],j=Array.prototype.indexOf.call(k,g,void 0),$;($=0<=j)&&Array.prototype.splice.call(k,j,1),$&&(_e(g),c.g[b].length==0&&(delete c.g[b],c.h--))}}function ut(c,g,b,k){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==g&&$.capture==!!b&&$.ha==k)return j}return-1}var it="closure_lm_"+(1e6*Math.random()|0),zt={};function Rt(c,g,b,k,j){if(Array.isArray(g)){for(var $=0;$<g.length;$++)Rt(c,g[$],b,k,j);return null}return b=pe(b),c&&c[X]?c.K(g,b,u(k)?!!k.capture:!1,j):gn(c,g,b,!1,k,j)}function gn(c,g,b,k,j,$){if(!g)throw Error("Invalid event type");var re=u(j)?!!j.capture:!!j,st=G(c);if(st||(c[it]=st=new Ae(c)),b=st.add(g,b,k,re,$),b.proxy)return b;if(k=de(),b.proxy=k,k.src=c,k.listener=b,c.addEventListener)ae||(j=re),j===void 0&&(j=!1),c.addEventListener(g.toString(),k,j);else if(c.attachEvent)c.attachEvent(ye(g.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function de(){function c(b){return g.call(c.src,c.listener,b)}const g=we;return c}function ge(c,g,b,k,j){if(Array.isArray(g))for(var $=0;$<g.length;$++)ge(c,g[$],b,k,j);else k=u(k)?!!k.capture:!!k,b=pe(b),c&&c[X]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],b=ut($,b,k,j),-1<b&&(_e($[b]),Array.prototype.splice.call($,b,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=G(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ut(g,b,k,j)),(b=-1<c?g[c]:null)&&ne(b))}function ne(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[X])Se(g.i,c);else{var b=c.type,k=c.proxy;g.removeEventListener?g.removeEventListener(b,k,c.capture):g.detachEvent?g.detachEvent(ye(b),k):g.addListener&&g.removeListener&&g.removeListener(k),(b=G(g))?(Se(b,c),b.h==0&&(b.src=null,g[it]=null)):_e(c)}}}function ye(c){return c in zt?zt[c]:zt[c]="on"+c}function we(c,g){if(c.da)c=!0;else{g=new Pe(g,this);var b=c.listener,k=c.ha||c.src;c.fa&&ne(c),c=b.call(k,g)}return c}function G(c){return c=c[it],c instanceof Ae?c:null}var le="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(c){return typeof c=="function"?c:(c[le]||(c[le]=function(g){return c.handleEvent(g)}),c[le])}function ce(){U.call(this),this.i=new Ae(this),this.M=this,this.F=null}C(ce,U),ce.prototype[X]=!0,ce.prototype.removeEventListener=function(c,g,b,k){ge(this,c,g,b,k)};function fe(c,g){var b,k=c.F;if(k)for(b=[];k;k=k.F)b.push(k);if(c=c.M,k=g.type||g,typeof g=="string")g=new J(g,c);else if(g instanceof J)g.target=g.target||c;else{var j=g;g=new J(k,c),A(g,j)}if(j=!0,b)for(var $=b.length-1;0<=$;$--){var re=g.g=b[$];j=se(re,k,!0,g)&&j}if(re=g.g=c,j=se(re,k,!0,g)&&j,j=se(re,k,!1,g)&&j,b)for($=0;$<b.length;$++)re=g.g=b[$],j=se(re,k,!1,g)&&j}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var b=c.g[g],k=0;k<b.length;k++)_e(b[k]);delete c.g[g],c.h--}}this.F=null},ce.prototype.K=function(c,g,b,k){return this.i.add(String(c),g,!1,b,k)},ce.prototype.L=function(c,g,b,k){return this.i.add(String(c),g,!0,b,k)};function se(c,g,b,k){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,$=0;$<g.length;++$){var re=g[$];if(re&&!re.da&&re.capture==b){var st=re.listener,Qt=re.ha||re.src;re.fa&&Se(c.i,re),j=st.call(Qt,k)!==!1&&j}}return j&&!k.defaultPrevented}function je(c,g,b){if(typeof c=="function")b&&(c=m(c,b));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function Ve(c){c.g=je(()=>{c.g=null,c.i&&(c.i=!1,Ve(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class te extends U{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ve(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ve(c){U.call(this),this.h=c,this.g={}}C(ve,U);var We=[];function Fe(c){O(c.g,function(g,b){this.g.hasOwnProperty(b)&&ne(g)},c),c.g={}}ve.prototype.N=function(){ve.aa.N.call(this),Fe(this)},ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var et=a.JSON.stringify,dt=a.JSON.parse,Ir=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function sr(){}sr.prototype.h=null;function Lt(c){return c.h||(c.h=c.i())}function Tn(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ft(){J.call(this,"d")}C(ft,J);function Ue(){J.call(this,"c")}C(Ue,J);var ht={},he=null;function Ee(){return he=he||new ce}ht.La="serverreachability";function Ce(c){J.call(this,ht.La,c)}C(Ce,J);function Je(c){const g=Ee();fe(g,new Ce(g))}ht.STAT_EVENT="statevent";function wt(c,g){J.call(this,ht.STAT_EVENT,c),this.stat=g}C(wt,J);function Te(c){const g=Ee();fe(g,new wt(g,c))}ht.Ma="timingevent";function kt(c,g){J.call(this,ht.Ma,c),this.size=g}C(kt,J);function Ze(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function at(){this.g=!0}at.prototype.xa=function(){this.g=!1};function qr(c,g,b,k,j,$){c.info(function(){if(c.g)if($)for(var re="",st=$.split("&"),Qt=0;Qt<st.length;Qt++){var Ge=st[Qt].split("=");if(1<Ge.length){var on=Ge[0];Ge=Ge[1];var an=on.split("_");re=2<=an.length&&an[1]=="type"?re+(on+"="+Ge+"&"):re+(on+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+k+") [attempt "+j+"]: "+g+`
`+b+`
`+re})}function yo(c,g,b,k,j,$,re){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+j+"]: "+g+`
`+b+`
`+$+" "+re})}function vn(c,g,b,k){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ma(c,b)+(k?" "+k:"")})}function wo(c,g){c.info(function(){return"TIMEOUT: "+g})}at.prototype.info=function(){};function Ma(c,g){if(!c.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(c=0;c<b.length;c++)if(Array.isArray(b[c])){var k=b[c];if(!(2>k.length)){var j=k[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return et(b)}catch{return g}}var Dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rh;function Mc(){}C(Mc,sr),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},rh=new Mc;function vs(c,g,b,k){this.j=c,this.i=g,this.l=b,this.R=k||1,this.U=new ve(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ey}function Ey(){this.i=null,this.g="",this.h=!1}var by={},sh={};function oh(c,g,b){c.L=1,c.v=Vc(Kr(g)),c.m=b,c.P=!0,Sy(c,null)}function Sy(c,g){c.F=Date.now(),Oc(c),c.A=Kr(c.v);var b=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),Vy(b.i,"t",k),c.C=0,b=c.j.J,c.h=new Ey,c.g=nw(c.j,b?g:null,!c.m),0<c.O&&(c.M=new te(m(c.Y,c,c.g),c.O)),g=c.U,b=c.g,k=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(We[0]=j.toString()),j=We);for(var $=0;$<j.length;$++){var re=Rt(b,j[$],k||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Je(),qr(c.i,c.u,c.A,c.l,c.R,c.m)}vs.prototype.ca=function(c){c=c.target;const g=this.M;g&&Gr(c)==3?g.j():this.Y(c)},vs.prototype.Y=function(c){try{if(c==this.g)e:{const an=Gr(this.g);var g=this.g.Ba();const ui=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||Hy(this.g)))){this.J||an!=4||g==7||(g==8||0>=ui?Je(3):Je(2)),ih(this);var b=this.g.Z();this.X=b;t:if(Cy(this)){var k=Hy(this.g);c="";var j=k.length,$=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),Oa(this);var re="";break t}this.h.i=new a.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(k[g],{stream:!($&&g==j-1)});k.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=b==200,yo(this.i,this.u,this.A,this.l,this.R,an,b),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Qt=this.g;if((st=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(st)){var Ge=st;break t}}Ge=null}if(b=Ge)vn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,b);else{this.o=!1,this.s=3,Te(12),xo(this),Oa(this);break e}}if(this.P){b=!0;let ir;for(;!this.J&&this.C<re.length;)if(ir=PA(this,re),ir==sh){an==4&&(this.s=4,Te(14),b=!1),vn(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==by){this.s=4,Te(15),vn(this.i,this.l,re,"[Invalid Chunk]"),b=!1;break}else vn(this.i,this.l,ir,null),ah(this,ir);if(Cy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||re.length!=0||this.h.h||(this.s=1,Te(16),b=!1),this.o=this.o&&b,!b)vn(this.i,this.l,re,"[Invalid Chunked Response]"),xo(this),Oa(this);else if(0<re.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),hh(on),on.M=!0,Te(11))}}else vn(this.i,this.l,re,null),ah(this,re);an==4&&xo(this),this.o&&!this.J&&(an==4?Jy(this.j,this):(this.o=!1,Oc(this)))}else QA(this.g),b==400&&0<re.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),xo(this),Oa(this)}}}catch{}finally{}};function Cy(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function PA(c,g){var b=c.C,k=g.indexOf(`
`,b);return k==-1?sh:(b=Number(g.substring(b,k)),isNaN(b)?by:(k+=1,k+b>g.length?sh:(g=g.slice(k,k+b),c.C=k+b,g)))}vs.prototype.cancel=function(){this.J=!0,xo(this)};function Oc(c){c.S=Date.now()+c.I,Ty(c,c.I)}function Ty(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ze(m(c.ba,c),g)}function ih(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vs.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(wo(this.i,this.A),this.L!=2&&(Je(),Te(17)),xo(this),this.s=2,Oa(this)):Ty(this,this.S-c)};function Oa(c){c.j.G==0||c.J||Jy(c.j,c)}function xo(c){ih(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fe(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ah(c,g){try{var b=c.j;if(b.G!=0&&(b.g==c||lh(b.h,c))){if(!c.K&&lh(b.h,c)&&b.G==3){try{var k=b.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var j=k;if(j[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<c.F)Wc(b),Uc(b);else break e;fh(b),Te(18)}}else b.za=j[1],0<b.za-b.T&&37500>j[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ze(m(b.Za,b),6e3));if(1>=Ry(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Eo(b,11)}else if((c.K||b.g==c)&&Wc(b),!w(g))for(j=b.Da.g.parse(g),g=0;g<j.length;g++){let Ge=j[g];if(b.T=Ge[0],Ge=Ge[1],b.G==2)if(Ge[0]=="c"){b.K=Ge[1],b.ia=Ge[2];const on=Ge[3];on!=null&&(b.la=on,b.j.info("VER="+b.la));const an=Ge[4];an!=null&&(b.Aa=an,b.j.info("SVER="+b.Aa));const ui=Ge[5];ui!=null&&typeof ui=="number"&&0<ui&&(k=1.5*ui,b.L=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const ir=c.g;if(ir){const qc=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qc){var $=k.h;$.g||qc.indexOf("spdy")==-1&&qc.indexOf("quic")==-1&&qc.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ch($,$.h),$.h=null))}if(k.D){const ph=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;ph&&(k.ya=ph,pt(k.I,k.D,ph))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-c.F,b.j.info("Handshake RTT: "+b.R+"ms")),k=b;var re=c;if(k.qa=tw(k,k.J?k.ia:null,k.W),re.K){ky(k.h,re);var st=re,Qt=k.L;Qt&&(st.I=Qt),st.B&&(ih(st),Oc(st)),k.g=re}else Yy(k);0<b.i.length&&zc(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Eo(b,7);else b.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Eo(b,7):dh(b):Ge[0]!="noop"&&b.l&&b.l.ta(Ge),b.v=0)}}Je(4)}catch{}}var DA=class{constructor(c,g){this.g=c,this.map=g}};function Iy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ay(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ry(c){return c.h?1:c.g?c.g.size:0}function lh(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ch(c,g){c.g?c.g.add(g):c.h=g}function ky(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Iy.prototype.cancel=function(){if(this.i=Ny(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ny(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const b of c.g.values())g=g.concat(b.D);return g}return y(c.i)}function MA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],b=c.length,k=0;k<b;k++)g.push(c[k]);return g}g=[],b=0;for(k in c)g[b++]=c[k];return g}function OA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var b=0;b<c;b++)g.push(b);return g}g=[],b=0;for(const k in c)g[b++]=k;return g}}}function Py(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var b=OA(c),k=MA(c),j=k.length,$=0;$<j;$++)g.call(void 0,k[$],b&&b[$],c)}var Dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jA(c,g){if(c){c=c.split("&");for(var b=0;b<c.length;b++){var k=c[b].indexOf("="),j=null;if(0<=k){var $=c[b].substring(0,k);j=c[b].substring(k+1)}else $=c[b];g($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _o(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _o){this.h=c.h,jc(this,c.j),this.o=c.o,this.g=c.g,Lc(this,c.s),this.l=c.l;var g=c.i,b=new Va;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),My(this,b),this.m=c.m}else c&&(g=String(c).match(Dy))?(this.h=!1,jc(this,g[1]||"",!0),this.o=ja(g[2]||""),this.g=ja(g[3]||"",!0),Lc(this,g[4]),this.l=ja(g[5]||"",!0),My(this,g[6]||"",!0),this.m=ja(g[7]||"")):(this.h=!1,this.i=new Va(null,this.h))}_o.prototype.toString=function(){var c=[],g=this.j;g&&c.push(La(g,Oy,!0),":");var b=this.g;return(b||g=="file")&&(c.push("//"),(g=this.o)&&c.push(La(g,Oy,!0),"@"),c.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&c.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&c.push("/"),c.push(La(b,b.charAt(0)=="/"?FA:VA,!0))),(b=this.i.toString())&&c.push("?",b),(b=this.m)&&c.push("#",La(b,BA)),c.join("")};function Kr(c){return new _o(c)}function jc(c,g,b){c.j=b?ja(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Lc(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function My(c,g,b){g instanceof Va?(c.i=g,UA(c.i,c.h)):(b||(g=La(g,$A)),c.i=new Va(g,c.h))}function pt(c,g,b){c.i.set(g,b)}function Vc(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ja(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function La(c,g,b){return typeof c=="string"?(c=encodeURI(c).replace(g,LA),b&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function LA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oy=/[#\/\?@]/g,VA=/[#\?:]/g,FA=/[#\?]/g,$A=/[#\?@]/g,BA=/#/g;function Va(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function ys(c){c.g||(c.g=new Map,c.h=0,c.i&&jA(c.i,function(g,b){c.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Va.prototype,t.add=function(c,g){ys(this),this.i=null,c=li(this,c);var b=this.g.get(c);return b||this.g.set(c,b=[]),b.push(g),this.h+=1,this};function jy(c,g){ys(c),g=li(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ly(c,g){return ys(c),g=li(c,g),c.g.has(g)}t.forEach=function(c,g){ys(this),this.g.forEach(function(b,k){b.forEach(function(j){c.call(g,j,k,this)},this)},this)},t.na=function(){ys(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let k=0;k<g.length;k++){const j=c[k];for(let $=0;$<j.length;$++)b.push(g[k])}return b},t.V=function(c){ys(this);let g=[];if(typeof c=="string")Ly(this,c)&&(g=g.concat(this.g.get(li(this,c))));else{c=Array.from(this.g.values());for(let b=0;b<c.length;b++)g=g.concat(c[b])}return g},t.set=function(c,g){return ys(this),this.i=null,c=li(this,c),Ly(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Vy(c,g,b){jy(c,g),0<b.length&&(c.i=null,c.g.set(li(c,g),y(b)),c.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var k=g[b];const $=encodeURIComponent(String(k)),re=this.V(k);for(k=0;k<re.length;k++){var j=$;re[k]!==""&&(j+="="+encodeURIComponent(String(re[k]))),c.push(j)}}return this.i=c.join("&")};function li(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function UA(c,g){g&&!c.j&&(ys(c),c.i=null,c.g.forEach(function(b,k){var j=k.toLowerCase();k!=j&&(jy(this,k),Vy(this,j,b))},c)),c.j=g}function zA(c,g){const b=new at;if(a.Image){const k=new Image;k.onload=v(ws,b,"TestLoadImage: loaded",!0,g,k),k.onerror=v(ws,b,"TestLoadImage: error",!1,g,k),k.onabort=v(ws,b,"TestLoadImage: abort",!1,g,k),k.ontimeout=v(ws,b,"TestLoadImage: timeout",!1,g,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else g(!1)}function WA(c,g){const b=new at,k=new AbortController,j=setTimeout(()=>{k.abort(),ws(b,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:k.signal}).then($=>{clearTimeout(j),$.ok?ws(b,"TestPingServer: ok",!0,g):ws(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),ws(b,"TestPingServer: error",!1,g)})}function ws(c,g,b,k,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),k(b)}catch{}}function HA(){this.g=new Ir}function qA(c,g,b){const k=b||"";try{Py(c,function(j,$){let re=j;u(j)&&(re=et(j)),g.push(k+$+"="+encodeURIComponent(re))})}catch(j){throw g.push(k+"type="+encodeURIComponent("_badmap")),j}}function Fc(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Fc,sr),Fc.prototype.g=function(){return new $c(this.l,this.j)},Fc.prototype.i=function(c){return function(){return c}}({});function $c(c,g){ce.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C($c,ce),t=$c.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Fa(this):$a(this),this.readyState==3&&Fy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fa(this))},t.Qa=function(c){this.g&&(this.response=c,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$a(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,c.push(b[0]+": "+b[1]),b=g.next();return c.join(`\r
`)};function $a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $y(c){let g="";return O(c,function(b,k){g+=k,g+=":",g+=b,g+=`\r
`}),g}function uh(c,g,b){e:{for(k in b){var k=!1;break e}k=!0}k||(b=$y(b),typeof c=="string"?b!=null&&encodeURIComponent(String(b)):pt(c,g,b))}function Ct(c){ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ct,ce);var KA=/^https?$/i,GA=["POST","PUT"];t=Ct.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rh.g(),this.v=this.o?Lt(this.o):Lt(rh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){By(this,$);return}if(c=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var j in k)b.set(j,k[j]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const $ of k.keys())b.set($,k.get($));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GA,g,void 0))||k||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of b)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wy(this),this.u=!0,this.g.send(c),this.u=!1}catch($){By(this,$)}};function By(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Uy(c),Bc(c)}function Uy(c){c.A||(c.A=!0,fe(c,"complete"),fe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,fe(this,"complete"),fe(this,"abort"),Bc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bc(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zy(this):this.bb())},t.bb=function(){zy(this)};function zy(c){if(c.h&&typeof i<"u"&&(!c.v[1]||Gr(c)!=4||c.Z()!=2)){if(c.u&&Gr(c)==4)je(c.Ea,0,c);else if(fe(c,"readystatechange"),Gr(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var k;if(k=re===0){var j=String(c.D).match(Dy)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),k=!KA.test(j?j.toLowerCase():"")}b=k}if(b)fe(c,"complete"),fe(c,"success");else{c.m=6;try{var $=2<Gr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Uy(c)}}finally{Bc(c)}}}}function Bc(c,g){if(c.g){Wy(c);const b=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||fe(c,"ready");try{b.onreadystatechange=k}catch{}}}function Wy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Gr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),dt(g)}};function Hy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function QA(c){const g={};c=(c.g&&2<=Gr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if(w(c[k]))continue;var b=P(c[k]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=g[j]||[];g[j]=$,$.push(b)}T(g,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(c,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[c]||g}function qy(c){this.Aa=0,this.i=[],this.j=new at,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ba("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ba("baseRetryDelayMs",5e3,c),this.cb=Ba("retryDelaySeedMs",1e4,c),this.Wa=Ba("forwardChannelMaxRetries",2,c),this.wa=Ba("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Iy(c&&c.concurrentRequestLimit),this.Da=new HA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qy.prototype,t.la=8,t.G=1,t.connect=function(c,g,b,k){Te(0),this.W=c,this.H=g||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.I=tw(this,null,this.W),zc(this)};function dh(c){if(Ky(c),c.G==3){var g=c.U++,b=Kr(c.I);if(pt(b,"SID",c.K),pt(b,"RID",g),pt(b,"TYPE","terminate"),Ua(c,b),g=new vs(c,c.j,g),g.L=2,g.v=Vc(Kr(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=g.v,b=!0),b||(g.g=nw(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Oc(g)}ew(c)}function Uc(c){c.g&&(hh(c),c.g.cancel(),c.g=null)}function Ky(c){Uc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zc(c){if(!Ay(c.h)&&!c.s){c.s=!0;var g=c.Ga;q||F(),V||(q(),V=!0),B.add(g,c),c.B=0}}function YA(c,g){return Ry(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ze(m(c.Ga,c,g),Zy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new vs(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),A($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Qy(this,j,g),b=Kr(this.I),pt(b,"RID",c),pt(b,"CVER",22),this.D&&pt(b,"X-HTTP-Session-Id",this.D),Ua(this,b),$&&(this.O?g="headers="+encodeURIComponent(String($y($)))+"&"+g:this.m&&uh(b,this.m,$)),ch(this.h,j),this.Ua&&pt(b,"TYPE","init"),this.P?(pt(b,"$req",g),pt(b,"SID","null"),j.T=!0,oh(j,b,null)):oh(j,b,g),this.G=2}}else this.G==3&&(c?Gy(this,c):this.i.length==0||Ay(this.h)||Gy(this))};function Gy(c,g){var b;g?b=g.l:b=c.U++;const k=Kr(c.I);pt(k,"SID",c.K),pt(k,"RID",b),pt(k,"AID",c.T),Ua(c,k),c.m&&c.o&&uh(k,c.m,c.o),b=new vs(c,c.j,b,c.B+1),c.m===null&&(b.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Qy(c,b,1e3),b.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ch(c.h,b),oh(b,k,g)}function Ua(c,g){c.H&&O(c.H,function(b,k){pt(g,k,b)}),c.l&&Py({},function(b,k){pt(g,k,b)})}function Qy(c,g,b){b=Math.min(c.i.length,b);var k=c.l?m(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const re=["count="+b];$==-1?0<b?($=j[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let st=!0;for(let Qt=0;Qt<b;Qt++){let Ge=j[Qt].g;const on=j[Qt].map;if(Ge-=$,0>Ge)$=Math.max(0,j[Qt].g-100),st=!1;else try{qA(on,re,"req"+Ge+"_")}catch{k&&k(on)}}if(st){k=re.join("&");break e}}}return c=c.i.splice(0,b),g.D=c,k}function Yy(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;q||F(),V||(q(),V=!0),B.add(g,c),c.v=0}}function fh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ze(m(c.Fa,c),Zy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ze(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Uc(this),Xy(this))};function hh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Xy(c){c.g=new vs(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Kr(c.qa);pt(g,"RID","rpc"),pt(g,"SID",c.K),pt(g,"AID",c.T),pt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(g,"TO",c.ja),pt(g,"TYPE","xmlhttp"),Ua(c,g),c.m&&c.o&&uh(g,c.m,c.o),c.L&&(c.g.I=c.L);var b=c.g;c=c.ia,b.L=1,b.v=Vc(Kr(g)),b.m=null,b.P=!0,Sy(b,c)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),fh(this),Te(19))};function Wc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Jy(c,g){var b=null;if(c.g==g){Wc(c),hh(c),c.g=null;var k=2}else if(lh(c.h,g))b=g.D,ky(c.h,g),k=1;else return;if(c.G!=0){if(g.o)if(k==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;k=Ee(),fe(k,new kt(k,b)),zc(c)}else Yy(c);else if(j=g.s,j==3||j==0&&0<g.X||!(k==1&&YA(c,g)||k==2&&fh(c)))switch(b&&0<b.length&&(g=c.h,g.i=g.i.concat(b)),j){case 1:Eo(c,5);break;case 4:Eo(c,10);break;case 3:Eo(c,6);break;default:Eo(c,2)}}}function Zy(c,g){let b=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(b*=2),b*g}function Eo(c,g){if(c.j.info("Error code "+g),g==2){var b=m(c.fb,c),k=c.Xa;const j=!k;k=new _o(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jc(k,"https"),Vc(k),j?zA(k.toString(),b):WA(k.toString(),b)}else Te(2);c.G=0,c.l&&c.l.sa(g),ew(c),Ky(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function ew(c){if(c.G=0,c.ka=[],c.l){const g=Ny(c.h);(g.length!=0||c.i.length!=0)&&(E(c.ka,g),E(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function tw(c,g,b){var k=b instanceof _o?Kr(b):new _o(b);if(k.g!="")g&&(k.g=g+"."+k.g),Lc(k,k.s);else{var j=a.location;k=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var $=new _o(null);k&&jc($,k),g&&($.g=g),j&&Lc($,j),b&&($.l=b),k=$}return b=c.D,g=c.ya,b&&g&&pt(k,b,g),pt(k,"VER",c.la),Ua(c,k),k}function nw(c,g,b){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ct(new Fc({eb:b})):new Ct(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rw(){}t=rw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Hc(){}Hc.prototype.g=function(c,g){return new Vn(c,g)};function Vn(c,g){ce.call(this),this.g=new qy(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!w(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ci(this)}C(Vn,ce),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){dh(this.g)},Vn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var b={};b.__data__=c,c=b}else this.u&&(b={},b.__data__=et(c),c=b);g.i.push(new DA(g.Ya++,c)),g.G==3&&zc(g)},Vn.prototype.N=function(){this.g.l=null,delete this.j,dh(this.g),delete this.g,Vn.aa.N.call(this)};function sw(c){ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const b in g){c=b;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}C(sw,ft);function ow(){Ue.call(this),this.status=1}C(ow,Ue);function ci(c){this.g=c}C(ci,rw),ci.prototype.ua=function(){fe(this.g,"a")},ci.prototype.ta=function(c){fe(this.g,new sw(c))},ci.prototype.sa=function(c){fe(this.g,new ow)},ci.prototype.ra=function(){fe(this.g,"b")},Hc.prototype.createWebChannel=Hc.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,YC=function(){return new Hc},QC=function(){return Ee()},GC=ht,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dc.NO_ERROR=0,Dc.TIMEOUT=8,Dc.HTTP_ERROR=6,Bu=Dc,_y.COMPLETE="complete",KC=_y,Tn.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",ce.prototype.listen=ce.prototype.K,ol=Tn,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,qC=Ct}).apply(typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{});const mx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new FC("@firebase/firestore");function Za(){return Qo.logLevel}function ue(t,...e){if(Qo.logLevel<=qe.DEBUG){const n=e.map(bv);Qo.debug(`Firestore (${Ia}): ${t}`,...n)}}function fs(t,...e){if(Qo.logLevel<=qe.ERROR){const n=e.map(bv);Qo.error(`Firestore (${Ia}): ${t}`,...n)}}function fa(t,...e){if(Qo.logLevel<=qe.WARN){const n=e.map(bv);Qo.warn(`Firestore (${Ia}): ${t}`,...n)}}function bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw fs(e),new Error(e)}function nt(t,e){t||Ie()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Ta{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VL{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ss,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ss)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new XC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new fn(e)}}class FL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $L{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){nt(this.o===void 0);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.R;return this.R=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new BL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function ha(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Ut(0,0))}static max(){return new ke(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ie(),r===void 0?r=e.length-n:r>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends ec{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const WL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ec{construct(e,n,r){return new Zt(e,n,r)}static isValidIdentifier(e){return WL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Zt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new oe(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new oe(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new oe(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(vt.fromString(e))}static fromName(e){return new me(vt.fromString(e).popFirst(5))}static empty(){return new me(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new vt(e.slice()))}}function HL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new ao(s,me.empty(),e)}function qL(t){return new ao(t.readTime,t.key,-1)}class ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ao(ke.min(),me.empty(),-1)}static max(){return new ao(ke.max(),me.empty(),-1)}}function KL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==GL)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{i[u]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new Y((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function YL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sv.oe=-1;function Tf(t){return t==null}function Nd(t){return t===0&&1/t==-1/0}function XL(t){return typeof t=="number"&&Number.isInteger(t)&&!Nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yu(this.root,e,this.comparator,!0)}}class yu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=s??Jt.EMPTY,this.right=o??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Jt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,r,s,o){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vx(this.data.getIterator())}getIteratorFrom(e){return new vx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class vx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new tn(Zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new e1("Invalid base64 string: "+o):o}}(e);return new sn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const JL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(nt(!!t),typeof t=="string"){let e=0;const n=JL.exec(t);if(nt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yo(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tv(t){const e=t.mapValue.fields.__previous_value__;return Cv(e)?Tv(e):e}function tc(t){const e=lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,s,o,i,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class nc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={mapValue:{}};function Xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:tV(t)?9007199254740991:eV(t)?10:11:Ie()}function zr(t,e){if(t===e)return!0;const n=Xo(t);if(n!==Xo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=lo(s.timestampValue),a=lo(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Yo(s.bytesValue).isEqual(Yo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Pt(s.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Pt(s.integerValue)===Pt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=Pt(s.doubleValue),a=Pt(o.doubleValue);return i===a?Nd(i)===Nd(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return ha(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(gx(i)!==gx(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!zr(i[l],a[l])))return!1;return!0}(t,e);default:return Ie()}}function rc(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function pa(t,e){if(t===e)return 0;const n=Xo(t),r=Xo(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=Pt(o.integerValue||o.doubleValue),l=Pt(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yx(t.timestampValue,e.timestampValue);case 4:return yx(tc(t),tc(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(o,i){const a=Yo(o),l=Yo(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),l=i.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ye(a[u],l[u]);if(d!==0)return d}return Ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=Ye(Pt(o.latitude),Pt(i.latitude));return a!==0?a:Ye(Pt(o.longitude),Pt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wx(t.arrayValue,e.arrayValue);case 10:return function(o,i){var a,l,u,d;const h=o.fields||{},m=i.fields||{},v=(a=h.value)===null||a===void 0?void 0:a.arrayValue,C=(l=m.value)===null||l===void 0?void 0:l.arrayValue,y=Ye(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:wx(v,C)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===wu.mapValue&&i===wu.mapValue)return 0;if(o===wu.mapValue)return 1;if(i===wu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=i.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=Ye(l[h],d[h]);if(m!==0)return m;const v=pa(a[l[h]],u[d[h]]);if(v!==0)return v}return Ye(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ie()}}function yx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=lo(t),r=lo(e),s=Ye(n.seconds,r.seconds);return s!==0?s:Ye(n.nanos,r.nanos)}function wx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=pa(n[s],r[s]);if(o)return o}return Ye(n.length,r.length)}function ma(t){return Dm(t)}function Dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return me.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Dm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${Dm(n.fields[i])}`;return s+"}"}(t.mapValue):Ie()}function xx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mm(t){return!!t&&"integerValue"in t}function Iv(t){return!!t&&"arrayValue"in t}function _x(t){return!!t&&"nullValue"in t}function Ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uu(t){return!!t&&"mapValue"in t}function eV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_l(n)}setAll(e){let n=Zt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=_l(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Nn(_l(this.value))}}function t1(t){const e=[];return oi(t.fields,(n,r)=>{const s=new Zt([n]);if(Uu(r)){const o=t1(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,ke.min(),ke.min(),ke.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new pn(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new pn(e,2,n,ke.min(),ke.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,ke.min(),ke.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function bx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=me.comparator(me.fromName(i.referenceValue),n.key):r=pa(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function nV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{}class jt extends n1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sV(e,n,r):n==="array-contains"?new aV(e,r):n==="in"?new lV(e,r):n==="not-in"?new cV(e,r):n==="array-contains-any"?new uV(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oV(e,r):new iV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pa(n,this.value)):n!==null&&Xo(this.value)===Xo(n)&&this.matchesComparison(pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends n1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Sr(e,n)}matches(e){return r1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function r1(t){return t.op==="and"}function s1(t){return rV(t)&&r1(t)}function rV(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function Om(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+ma(t.value);if(s1(t))return t.filters.map(e=>Om(e)).join(",");{const e=t.filters.map(n=>Om(n)).join(",");return`${t.op}(${e})`}}function o1(t,e){return t instanceof jt?function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&zr(r.value,s.value)}(t,e):t instanceof Sr?function(r,s){return s instanceof Sr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&o1(i,s.filters[a]),!0):!1}(t,e):void Ie()}function i1(t){return t instanceof jt?function(n){return`${n.field.canonicalString()} ${n.op} ${ma(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(i1).join(" ,")+"}"}(t):"Filter"}class sV extends jt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class oV extends jt{constructor(e,n){super(e,"in",n),this.keys=a1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iV extends jt{constructor(e,n){super(e,"not-in",n),this.keys=a1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function a1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>me.fromName(r.referenceValue))}class aV extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iv(n)&&rc(n.arrayValue,this.value)}}class lV extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class cV extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}}class uV extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.ue=null}}function Cx(t,e=null,n=[],r=[],s=null,o=null,i=null){return new dV(t,e,n,r,s,o,i)}function Av(t){const e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ma(r)).join(",")),e.ue=n}return e.ue}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sx(t.startAt,e.startAt)&&Sx(t.endAt,e.endAt)}function jm(t){return me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fV(t,e,n,r,s,o,i,a){return new _c(t,e,n,r,s,o,i,a)}function kv(t){return new _c(t)}function Tx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function l1(t){return t.collectionGroup!==null}function El(t){const e=Ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new tn(Zt.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Dd(o,r))}),n.has(Zt.keyField().canonicalString())||e.ce.push(new Dd(Zt.keyField(),r))}return e.ce}function $r(t){const e=Ne(t);return e.le||(e.le=hV(e,El(t))),e.le}function hV(t,e){if(t.limitType==="F")return Cx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Dd(s.field,o)});const n=t.endAt?new Pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pd(t.startAt.position,t.startAt.inclusive):null;return Cx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lm(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vm(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function If(t,e){return Rv($r(t),$r(e))&&t.limitType===e.limitType}function c1(t){return`${Av($r(t))}|lt:${t.limitType}`}function mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>i1(s)).join(", ")}]`),Tf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ma(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ma(s)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of El(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,l){const u=bx(i,a,l);return i.inclusive?u<=0:u<0}(r.startAt,El(r),s)||r.endAt&&!function(i,a,l){const u=bx(i,a,l);return i.inclusive?u>=0:u>0}(r.endAt,El(r),s))}(t,e)}function pV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function u1(t){return(e,n)=>{let r=!1;for(const s of El(t)){const o=mV(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function mV(t,e,n){const r=t.field.isKeyField()?me.comparator(e.key,n.key):function(o,i,a){const l=i.data.field(o),u=a.data.field(o);return l!==null&&u!==null?pa(l,u):Ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return ZC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=new St(me.comparator);function hs(){return gV}const d1=new St(me.comparator);function il(...t){let e=d1;for(const n of t)e=e.insert(n.key,n);return e}function f1(t){let e=d1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return bl()}function h1(){return bl()}function bl(){return new Aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const vV=new St(me.comparator),yV=new tn(me.comparator);function Be(...t){let e=yV;for(const n of t)e=e.add(n);return e}const wV=new tn(Ye);function xV(){return wV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function p1(t){return{integerValue:""+t}}function _V(t,e){return XL(e)?p1(e):Nv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function EV(t,e,n){return t instanceof sc?function(s,o){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Cv(o)&&(o=Tv(o)),o&&(i.fields.__previous_value__=o),{mapValue:i}}(n,e):t instanceof oc?g1(t,e):t instanceof ic?v1(t,e):function(s,o){const i=m1(s,o),a=Ix(i)+Ix(s.Pe);return Mm(i)&&Mm(s.Pe)?p1(a):Nv(s.serializer,a)}(t,e)}function bV(t,e,n){return t instanceof oc?g1(t,e):t instanceof ic?v1(t,e):n}function m1(t,e){return t instanceof Md?function(r){return Mm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sc extends Rf{}class oc extends Rf{constructor(e){super(),this.elements=e}}function g1(t,e){const n=y1(e);for(const r of t.elements)n.some(s=>zr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ic extends Rf{constructor(e){super(),this.elements=e}}function v1(t,e){let n=y1(e);for(const r of t.elements)n=n.filter(s=>!zr(s,r));return{arrayValue:{values:n}}}class Md extends Rf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ix(t){return Pt(t.integerValue||t.doubleValue)}function y1(t){return Iv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.field=e,this.transform=n}}function CV(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof oc&&s instanceof oc||r instanceof ic&&s instanceof ic?ha(r.elements,s.elements,zr):r instanceof Md&&s instanceof Md?zr(r.Pe,s.Pe):r instanceof sc&&s instanceof sc}(t.transform,e.transform)}class TV{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function w1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nf(t.key,jn.none()):new Ec(t.key,t.data,jn.none());{const n=t.data,r=Nn.empty();let s=new tn(Zt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new mo(t.key,r,new Un(s.toArray()),jn.none())}}function IV(t,e,n){t instanceof Ec?function(s,o,i){const a=s.value.clone(),l=Rx(s.fieldTransforms,o,i.transformResults);a.setAll(l),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mo?function(s,o,i){if(!zu(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=Rx(s.fieldTransforms,o,i.transformResults),l=o.data;l.setAll(x1(s)),l.setAll(a),o.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Sl(t,e,n,r){return t instanceof Ec?function(o,i,a,l){if(!zu(o.precondition,i))return a;const u=o.value.clone(),d=kx(o.fieldTransforms,l,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof mo?function(o,i,a,l){if(!zu(o.precondition,i))return a;const u=kx(o.fieldTransforms,l,i),d=i.data;return d.setAll(x1(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,i,a){return zu(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function AV(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=m1(r.transform,s||null);o!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,o))}return n||null}function Ax(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ha(r,s,(o,i)=>CV(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ec extends kf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mo extends kf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function x1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Rx(t,e,n){const r=new Map;nt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,bV(i,a,n[s]))}return r}function kx(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,EV(o,i,e))}return r}class Nf extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RV extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IV(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=h1();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=w1(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(n,r)=>Ax(n,r))&&ha(this.baseMutations,e.baseMutations,(n,r)=>Ax(n,r))}}class Pv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){nt(e.mutations.length===r.length);let s=function(){return vV}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Pv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NV=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,He;function DV(t){switch(t){default:return Ie();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function _1(t){if(t===void 0)return fs("GRPC error has no .code"),H.UNKNOWN;switch(t){case Mt.OK:return H.OK;case Mt.CANCELLED:return H.CANCELLED;case Mt.UNKNOWN:return H.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return H.INTERNAL;case Mt.UNAVAILABLE:return H.UNAVAILABLE;case Mt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Mt.NOT_FOUND:return H.NOT_FOUND;case Mt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Mt.ABORTED:return H.ABORTED;case Mt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Mt.DATA_LOSS:return H.DATA_LOSS;default:return Ie()}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new Bo([4294967295,4294967295],0);function Nx(t){const e=MV().encode(t),n=new HC;return n.update(e),new Uint8Array(n.digest())}function Px(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([s,o],0)]}class Dv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new al(`Invalid padding: ${n}`);if(r<0)throw new al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new al(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new al(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bo.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Bo.fromNumber(r)));return s.compare(OV)===1&&(s=new Bo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Nx(e),[r,s]=Px(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);if(!this.de(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Dv(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const n=Nx(e),[r,s]=Px(n);for(let o=0;o<this.hashCount;o++){const i=this.Ee(r,s,o);this.Ae(i)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pf(ke.min(),s,new St(Ye),hs(),Be())}}class bc{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class E1{constructor(e,n){this.targetId=e,this.me=n}}class b1{constructor(e,n,r=sn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Dx{constructor(){this.fe=0,this.ge=Ox(),this.pe=sn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),n=Be(),r=Be();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ie()}}),new bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ox()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jV{constructor(e){this.Le=e,this.Be=new Map,this.ke=hs(),this.qe=Mx(),this.Qe=new St(Ye)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(jm(o))if(r===0){const i=new me(o.path);this.Ue(n,i,pn.newNoDocument(i,ke.min()))}else nt(r===1);else{const i=this.Ye(n);if(i!==r){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=Yo(r).toUint8Array()}catch(l){if(l instanceof e1)return fa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Dv(i,s,o)}catch(l){return fa(l instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,i)=>{const a=this.Je(i);if(a){if(o.current&&jm(a.target)){const l=new me(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,pn.newNoDocument(l,e))}o.be&&(n.set(i,o.ve()),o.Ce())}});let r=Be();this.qe.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,i)=>i.setReadTime(e));const s=new Pf(e,n,this.Qe,this.ke,r);return this.ke=hs(),this.qe=Mx(),this.Qe=new St(Ye),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Dx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Ye),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Mx(){return new St(me.comparator)}function Ox(){return new St(me.comparator)}const LV={asc:"ASCENDING",desc:"DESCENDING"},VV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FV={and:"AND",or:"OR"};class $V{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function Od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BV(t,e){return Od(t,e.toTimestamp())}function Br(t){return nt(!!t),ke.fromTimestamp(function(n){const r=lo(n);return new Ut(r.seconds,r.nanos)}(t))}function Mv(t,e){return $m(t,e).canonicalString()}function $m(t,e){const n=function(s){return new vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C1(t){const e=vt.fromString(t);return nt(k1(e)),e}function Bm(t,e){return Mv(t.databaseId,e.path)}function Zh(t,e){const n=C1(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new me(I1(n))}function T1(t,e){return Mv(t.databaseId,e)}function UV(t){const e=C1(t);return e.length===4?vt.emptyPath():I1(e)}function Um(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function I1(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jx(t,e,n){return{name:Bm(t,e),fields:n.value.mapValue.fields}}function zV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(nt(d===void 0||typeof d=="string"),sn.fromBase64String(d||"")):(nt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),sn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(u){const d=u.code===void 0?H.UNKNOWN:_1(u.code);return new oe(d,u.message||"")}(i);n=new b1(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zh(t,r.document.name),o=Br(r.document.updateTime),i=r.document.createTime?Br(r.document.createTime):ke.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(s,o,i,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Wu(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zh(t,r.document),o=r.readTime?Br(r.readTime):ke.min(),i=pn.newNoDocument(s,o),a=r.removedTargetIds||[];n=new Wu([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zh(t,r.document),o=r.removedTargetIds||[];n=new Wu([],o,s,null)}else{if(!("filter"in e))return Ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new PV(s,o),a=r.targetId;n=new E1(a,i)}}return n}function WV(t,e){let n;if(e instanceof Ec)n={update:jx(t,e.key,e.value)};else if(e instanceof Nf)n={delete:Bm(t,e.key)};else if(e instanceof mo)n={update:jx(t,e.key,e.data),updateMask:ZV(e.fieldMask)};else{if(!(e instanceof RV))return Ie();n={verify:Bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof sc)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ic)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Md)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw Ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:BV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ie()}(t,e.precondition)),n}function HV(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(s,o){let i=s.updateTime?Br(s.updateTime):Br(o);return i.isEqual(ke.min())&&(i=Br(o)),new TV(i,s.transformResults||[])}(n,e))):[]}function qV(t,e){return{documents:[T1(t,e.path)]}}function KV(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=T1(t,s);const o=function(u){if(u.length!==0)return R1(Sr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:gi(m.field),direction:YV(m.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Fm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function GV(t){let e=UV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){nt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const m=A1(h);return m instanceof Sr&&s1(m)?m.getFilters():[m]}(n.where));let i=[];n.orderBy&&(i=function(h){return h.map(m=>function(C){return new Dd(vi(C.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Tf(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,v=h.values||[];return new Pd(v,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,v=h.values||[];return new Pd(v,m)}(n.endAt)),fV(e,s,i,o,a,"F",l,u)}function QV(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vi(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vi(n.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vi(n.unaryFilter.field);return jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vi(n.unaryFilter.field);return jt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(t):t.fieldFilter!==void 0?function(n){return jt.create(vi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(r=>A1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(t):Ie()}function YV(t){return LV[t]}function XV(t){return VV[t]}function JV(t){return FV[t]}function gi(t){return{fieldPath:t.canonicalString()}}function vi(t){return Zt.fromServerFormat(t.fieldPath)}function R1(t){return t instanceof jt?function(n){if(n.op==="=="){if(Ex(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NAN"}};if(_x(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ex(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NAN"}};if(_x(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(n.field),op:XV(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const r=n.getFilters().map(s=>R1(s));return r.length===1?r[0]:{compositeFilter:{op:JV(n.op),filters:r}}}(t):Ie()}function ZV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,s,o=ke.min(),i=ke.min(),a=sn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.ct=e}}function t4(t){const e=GV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.un=new r4}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(ao.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class r4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tn(vt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ga(0)}static kn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.changes=new Aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Sl(r.mutation,s,Un.empty(),Ut.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const s=Ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=il();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=hs();const i=bl(),a=function(){return bl()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof mo)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Sl(d.mutation,u,d.mutation.getFieldMask(),Ut.now())):i.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new o4(d,(h=i.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bl();let s=new St((i,a)=>i-a),o=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Un.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Be()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=h1();d.forEach(m=>{if(!o.has(m)){const v=w1(n.get(m),r.get(m));v!==null&&h.set(m,v),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,h))}return Y.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):l1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):Y.resolve(Ro());let a=-1,l=o;return i.next(u=>Y.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?Y.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Be())).next(d=>({batchId:a,changes:f1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(r=>{let s=il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=il();return this.indexManager.getCollectionParents(e,o).next(a=>Y.forEach(a,l=>{const u=function(h,m){return new _c(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{i=i.insert(h,m)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((l,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,pn.newInvalidDocument(d)))});let a=il();return i.forEach((l,u)=>{const d=o.get(l);d!==void 0&&Sl(d.mutation,u,Un.empty(),Ut.now()),Af(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:t4(s.bundledQuery),readTime:Br(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.overlays=new St(me.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return Y.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=Ro(),o=n.length+1,i=new me(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new St((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ro(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ro(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return Y.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new NV(n,r));let o=this.Ir.get(n);o===void 0&&(o=Be(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Tr=new tn(Ht.Er),this.dr=new tn(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new me(new vt([])),r=new Ht(n,e),s=new Ht(n,e+1),o=[];return this.dr.forEachInRange([r,s],i=>{this.Vr(i),o.push(i.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new me(new vt([])),r=new Ht(n,e),s=new Ht(n,e+1);let o=Be();return this.dr.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new Ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return me.comparator(e.key,n.key)||Ye(e.wr,n.wr)}static Ar(e,n){return Ye(e.wr,n.wr)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Ht.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new kV(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.br=this.br.add(new Ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(i)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),s=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],i=>{const a=this.Dr(i.wr);o.push(a)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ye);return n.forEach(s=>{const o=new Ht(s,0),i=new Ht(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,i],a=>{r=r.add(a.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;me.isDocumentKey(o)||(o=o.child(""));const i=new Ht(new me(o),0);let a=new tn(Ye);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},i),Y.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){nt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,s=>{const o=new Ht(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ht(n,0),s=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.Mr=e,this.docs=function(){return new St(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():pn.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=hs();const i=n.path,a=new me(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||KL(qL(d),r)<=0||(s.has(d.key)||Af(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ie()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f4(this)}getSize(e){return Y.resolve(this.size)}}class f4 extends s4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.persistence=e,this.Nr=new Aa(n=>Av(n),Rv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ov,this.targetCount=0,this.kr=ga.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Y.waitFor(o).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sv(0),this.Kr=!1,this.Kr=!0,this.$r=new c4,this.referenceDelegate=e(this),this.Ur=new h4(this),this.indexManager=new n4,this.remoteDocumentCache=function(s){return new d4(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new e4(n),this.Gr=new a4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new l4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new u4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new m4(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class m4 extends QL{constructor(e){super(),this.currentSequenceNumber=e}}class jv{constructor(e){this.persistence=e,this.Jr=new Ov,this.Yr=null}static Zr(e){return new jv(e)}get Xr(){if(this.Yr)return this.Yr;throw Ie()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const s=me.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Be(),s=Be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Lv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xj()?8:YL(yj())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new g4;return this.Xi(e,n,i).next(a=>{if(o.result=a,this.zi)return this.es(e,n,i,a.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Za()<=qe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Za()<=qe.DEBUG&&ue("QueryEngine","Query:",mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Za()<=qe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):Y.resolve())}Yi(e,n){if(Tx(n))return Y.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vm(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=Be(...o);return this.Ji.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,i,l.readTime)?this.Yi(e,Vm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return Tx(n)||s.isEqual(ke.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const i=this.ts(n,o);return this.ns(n,i,r,s)?Y.resolve(null):(Za()<=qe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mi(n)),this.rs(e,i,n,HL(s,-1)).next(a=>a))})}ts(e,n){let r=new tn(u1(e));return n.forEach((s,o)=>{Af(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return Za()<=qe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",mi(n)),this.Ji.getDocumentsMatchingQuery(e,n,ao.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new St(Ye),this._s=new Aa(o=>Av(o),Rv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function w4(t,e,n,r){return new y4(t,e,n,r)}async function N1(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=Be();for(const u of s){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:i,addedBatchIds:a}))})})}function x4(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,m=h.keys();let v=Y.resolve();return m.forEach(C=>{v=v.next(()=>d.getEntry(l,C)).next(y=>{const E=u.docVersions.get(C);nt(E!==null),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function P1(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function _4(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(sn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(h,v),function(y,E,x){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,v,d)&&a.push(n.Ur.updateTargetData(o,v))});let l=hs(),u=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(E4(o,i,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ke.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Y.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=s,o))}function E4(t,e,n){let r=Be(),s=Be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=hs();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:i,Is:s}})}function b4(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function S4(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,Y.resolve(s)):n.Ur.allocateTargetId(r).next(i=>(s=new Fs(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function zm(t,e,n){const r=Ne(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!xc(i))throw i;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Lx(t,e,n){const r=Ne(t);let s=ke.min(),o=Be();return r.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,d){const h=Ne(l),m=h._s.get(d);return m!==void 0?Y.resolve(h.os.get(m)):h.Ur.getTargetData(u,d)}(r,i,$r(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(i,e,n?s:ke.min(),n?o:Be())).next(a=>(C4(r,pV(e),a),{documents:a,Ts:o})))}function C4(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Vx{constructor(){this.activeTargetIds=xV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T4{constructor(){this.so=new Vx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu=null;function ep(){return xu===null?xu=function(){return 268435456+Math.round(2147483648*Math.random())}():xu++,"0x"+xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class k4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,i){const a=ep(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,i),this.No(n,l,u,s).then(d=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw fa("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,o,i,a){return this.Mo(n,r,s,o,i)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,i)=>n[i]=o),s&&s.headers.forEach((o,i)=>n[i]=o)}xo(n,r){const s=A4[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=ep();return new Promise((i,a)=>{const l=new qC;l.setWithCredentials(!0),l.listenOnce(KC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bu.NO_ERROR:const d=l.getResponseJson();ue(dn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),i(d);break;case Bu.TIMEOUT:ue(dn,`RPC '${e}' ${o} timed out`),a(new oe(H.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const h=l.getStatus();if(ue(dn,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const C=function(E){const x=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(x)>=0?x:H.UNKNOWN}(v.status);a(new oe(C,v.message))}else a(new oe(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(H.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ue(dn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);ue(dn,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=ep(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=YC(),a=QC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ue(dn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);let m=!1,v=!1;const C=new R4({Io:E=>{v?ue(dn,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(ue(dn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),ue(dn,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},To:()=>h.close()}),y=(E,x,w)=>{E.listen(x,_=>{try{w(_)}catch(R){setTimeout(()=>{throw R},0)}})};return y(h,ol.EventType.OPEN,()=>{v||(ue(dn,`RPC '${e}' stream ${s} transport opened.`),C.yo())}),y(h,ol.EventType.CLOSE,()=>{v||(v=!0,ue(dn,`RPC '${e}' stream ${s} transport closed`),C.So())}),y(h,ol.EventType.ERROR,E=>{v||(v=!0,fa(dn,`RPC '${e}' stream ${s} transport errored:`,E),C.So(new oe(H.UNAVAILABLE,"The operation could not be completed")))}),y(h,ol.EventType.MESSAGE,E=>{var x;if(!v){const w=E.data[0];nt(!!w);const _=w,R=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(R){ue(dn,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let O=function(I){const A=Mt[I];if(A!==void 0)return _1(A)}(D),T=R.message;O===void 0&&(O=H.INTERNAL,T="Unknown error status: "+D+" with message "+R.message),v=!0,C.So(new oe(O,T)),h.close()}else ue(dn,`RPC '${e}' stream ${s} received:`,w),C.bo(w)}}),y(a,GC.STAT_EVENT,E=>{E.stat===Pm.PROXY?ue(dn,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Pm.NOPROXY&&ue(dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new $V(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,s,o,i,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new D1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new oe(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N4 extends M1{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=zV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?ke.min():i.readTime?Br(i.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(o,i){let a;const l=i.target;if(a=jm(l)?{documents:qV(o,l)}:{query:KV(o,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=S1(o,i.resumeToken);const u=Fm(o,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(ke.min())>0){a.readTime=Od(o,i.snapshotVersion.toTimestamp());const u=Fm(o,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=QV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.a_(n)}}class P4 extends M1{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=HV(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Um(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new oe(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Mo(e,$m(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(H.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Lo(e,$m(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new oe(H.UNKNOWN,i.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class M4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fs(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(i=>{r.enqueueAndForget(async()=>{ii(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.L_.add(4),await Sc(u),u.q_.set("Unknown"),u.L_.delete(4),await Mf(u)}(this))})}),this.q_=new M4(r,s)}}async function Mf(t){if(ii(t))for(const e of t.B_)await e(!0)}async function Sc(t){for(const e of t.B_)await e(!1)}function O1(t,e){const n=Ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Bv(n)?$v(n):Ra(n).r_()&&Fv(n,e))}function Vv(t,e){const n=Ne(t),r=Ra(n);n.N_.delete(e),r.r_()&&j1(n,e),n.N_.size===0&&(r.r_()?r.o_():ii(n)&&n.q_.set("Unknown"))}function Fv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ra(t).A_(e)}function j1(t,e){t.Q_.xe(e),Ra(t).R_(e)}function $v(t){t.Q_=new jV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ra(t).start(),t.q_.v_()}function Bv(t){return ii(t)&&!Ra(t).n_()&&t.N_.size>0}function ii(t){return Ne(t).L_.size===0}function L1(t){t.Q_=void 0}async function j4(t){t.q_.set("Online")}async function L4(t){t.N_.forEach((e,n)=>{Fv(t,e)})}async function V4(t,e){L1(t),Bv(t)?(t.q_.M_(e),$v(t)):t.q_.set("Unknown")}async function F4(t,e,n){if(t.q_.set("Online"),e instanceof b1&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jd(t,r)}else if(e instanceof Wu?t.Q_.Ke(e):e instanceof E1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await P1(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Q_.rt(i);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(sn.EMPTY_BYTE_STRING,d.snapshotVersion)),j1(o,l);const h=new Fs(d.target,l,u,d.sequenceNumber);Fv(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await jd(t,r)}}async function jd(t,e,n){if(!xc(e))throw e;t.L_.add(1),await Sc(t),t.q_.set("Offline"),n||(n=()=>P1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Mf(t)})}function V1(t,e){return e().catch(n=>jd(t,n,e))}async function Of(t){const e=Ne(t),n=co(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$4(e);)try{const s=await b4(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,B4(e,s)}catch(s){await jd(e,s)}F1(e)&&$1(e)}function $4(t){return ii(t)&&t.O_.length<10}function B4(t,e){t.O_.push(e);const n=co(t);n.r_()&&n.V_&&n.m_(e.mutations)}function F1(t){return ii(t)&&!co(t).n_()&&t.O_.length>0}function $1(t){co(t).start()}async function U4(t){co(t).p_()}async function z4(t){const e=co(t);for(const n of t.O_)e.m_(n.mutations)}async function W4(t,e,n){const r=t.O_.shift(),s=Pv.from(r,e,n);await V1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Of(t)}async function H4(t,e){e&&co(t).V_&&await async function(r,s){if(function(i){return DV(i)&&i!==H.ABORTED}(s.code)){const o=r.O_.shift();co(r).s_(),await V1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Of(r)}}(t,e),F1(t)&&$1(t)}async function $x(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=ii(n);n.L_.add(3),await Sc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Mf(n)}async function q4(t,e){const n=Ne(t);e?(n.L_.delete(2),await Mf(n)):e||(n.L_.add(2),await Sc(n),n.q_.set("Unknown"))}function Ra(t){return t.K_||(t.K_=function(n,r,s){const o=Ne(n);return o.w_(),new N4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:j4.bind(null,t),Ro:L4.bind(null,t),mo:V4.bind(null,t),d_:F4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Bv(t)?$v(t):t.q_.set("Unknown")):(await t.K_.stop(),L1(t))})),t.K_}function co(t){return t.U_||(t.U_=function(n,r,s){const o=Ne(n);return o.w_(),new P4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:U4.bind(null,t),mo:H4.bind(null,t),f_:z4.bind(null,t),g_:W4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Of(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new Uv(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(t,e){if(fs("AsyncQueue",`${e}: ${t}`),xc(t))return new oe(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=il(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new $i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.W_=new St(me.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ie():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class va{constructor(e,n,r,s,o,i,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new va(e,n,$i.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class G4{constructor(){this.queries=Ux(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ne(n),o=s.queries;s.queries=Ux(),o.forEach((i,a)=>{for(const l of a.j_)l.onError(r)})})(this,new oe(H.ABORTED,"Firestore shutting down"))}}function Ux(){return new Aa(t=>c1(t),If)}async function B1(t,e){const n=Ne(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new K4,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=zv(i,`Initialization of query '${mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Wv(n)}async function U1(t,e){const n=Ne(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.j_.indexOf(e);i>=0&&(o.j_.splice(i,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Q4(t,e){const n=Ne(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.j_)a.X_(s)&&(r=!0);i.z_=s}}r&&Wv(n)}function Y4(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function Wv(t){t.Y_.forEach(e=>{e.next()})}var Wm,zx;(zx=Wm||(Wm={})).ea="default",zx.Cache="cache";class z1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.key=e}}class H1{constructor(e){this.key=e}}class X4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=u1(e),this.Ra=new $i(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Bx,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),v=Af(this.query,h)?h:null,C=!!m&&this.mutatedKeys.has(m.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;m&&v?m.data.isEqual(v.data)?C!==y&&(r.track({type:3,doc:v}),E=!0):this.ga(m,v)||(r.track({type:2,doc:v}),E=!0,(l&&this.Aa(v,l)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),E=!0):m&&!v&&(r.track({type:1,doc:m}),E=!0,(l||u)&&(a=!0)),E&&(v?(i=i.add(v),o=y?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:i,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort((d,h)=>function(v,C){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return y(v)-y(C)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,i.length!==0||u?{snapshot:new va(this.query,e.Ra,o,i,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Bx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new H1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new W1(r))}),n}ba(e){this.Ta=e.Ts,this.da=Be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return va.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class J4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Z4{constructor(e){this.key=e,this.va=!1}}class eF{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new Aa(a=>c1(a),If),this.Ma=new Map,this.xa=new Set,this.Oa=new St(me.comparator),this.Na=new Map,this.La=new Ov,this.Ba={},this.ka=new Map,this.qa=ga.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tF(t,e,n=!0){const r=X1(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await q1(r,e,n,!0),s}async function nF(t,e){const n=X1(t);await q1(n,e,!0,!1)}async function q1(t,e,n,r){const s=await S4(t.localStore,$r(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await rF(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&O1(t.remoteStore,s),a}async function rF(t,e,n,r,s){t.Ka=(h,m,v)=>async function(y,E,x,w){let _=E.view.ma(x);_.ns&&(_=await Lx(y.localStore,E.query,!1).then(({documents:T})=>E.view.ma(T,_)));const R=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(_,y.isPrimaryClient,R,D);return Hx(y,E.targetId,O.wa),O.snapshot}(t,h,m,v);const o=await Lx(t.localStore,e,!0),i=new X4(e,o.Ts),a=i.ma(o.documents),l=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,l);Hx(t,n,u.wa);const d=new J4(e,n,i);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function sF(t,e,n){const r=Ne(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(i=>!If(i,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await zm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vv(r.remoteStore,s.targetId),Hm(r,s.targetId)}).catch(wc)):(Hm(r,s.targetId),await zm(r.localStore,s.targetId,!0))}async function oF(t,e){const n=Ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vv(n.remoteStore,r.targetId))}async function iF(t,e,n){const r=hF(t);try{const s=await function(i,a){const l=Ne(i),u=Ut.now(),d=a.reduce((v,C)=>v.add(C.key),Be());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=hs(),y=Be();return l.cs.getEntries(v,d).next(E=>{C=E,C.forEach((x,w)=>{w.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,C)).next(E=>{h=E;const x=[];for(const w of a){const _=AV(w,h.get(w.key).overlayedDocument);_!=null&&x.push(new mo(w.key,_,t1(_.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,x,a)}).next(E=>{m=E;const x=E.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(v,E.batchId,x)})}).then(()=>({batchId:m.batchId,changes:f1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,l){let u=i.Ba[i.currentUser.toKey()];u||(u=new St(Ye)),u=u.insert(a,l),i.Ba[i.currentUser.toKey()]=u}(r,s.batchId,n),await Cc(r,s.changes),await Of(r.remoteStore)}catch(s){const o=zv(s,"Failed to persist write");n.reject(o)}}async function K1(t,e){const n=Ne(t);try{const r=await _4(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Na.get(o);i&&(nt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.va=!0:s.modifiedDocuments.size>0?nt(i.va):s.removedDocuments.size>0&&(nt(i.va),i.va=!1))}),await Cc(n,r,e)}catch(r){await wc(r)}}function Wx(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,i)=>{const a=i.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const l=Ne(i);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const m of h.j_)m.Z_(a)&&(u=!0)}),u&&Wv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aF(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let i=new St(me.comparator);i=i.insert(o,pn.newNoDocument(o,ke.min()));const a=Be().add(o),l=new Pf(ke.min(),new Map,new St(Ye),i,a);await K1(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Hv(r)}else await zm(r.localStore,e,!1).then(()=>Hm(r,e,n)).catch(wc)}async function lF(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await x4(n.localStore,e);Q1(n,r,null),G1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,s)}catch(s){await wc(s)}}async function cF(t,e,n){const r=Ne(t);try{const s=await function(i,a){const l=Ne(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(nt(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Q1(r,e,n),G1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,s)}catch(s){await wc(s)}}function G1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Q1(t,e,n){const r=Ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Hm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Y1(t,r)})}function Y1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Vv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Hv(t))}function Hx(t,e,n){for(const r of n)r instanceof W1?(t.La.addReference(r.key,e),uF(t,r)):r instanceof H1?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Y1(t,r.key)):Ie()}function uF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),Hv(t))}function Hv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new me(vt.fromString(e)),r=t.qa.next();t.Na.set(r,new Z4(n)),t.Oa=t.Oa.insert(n,r),O1(t.remoteStore,new Fs($r(kv(n.path)),r,"TargetPurposeLimboResolution",Sv.oe))}}async function Cc(t,e,n){const r=Ne(t),s=[],o=[],i=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{i.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=Lv.Wi(l.targetId,u);o.push(h)}}))}),await Promise.all(i),r.Ca.d_(s),await async function(l,u){const d=Ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Y.forEach(u,m=>Y.forEach(m.$i,v=>d.persistence.referenceDelegate.addReference(h,m.targetId,v)).next(()=>Y.forEach(m.Ui,v=>d.persistence.referenceDelegate.removeReference(h,m.targetId,v)))))}catch(h){if(!xc(h))throw h;ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const v=d.os.get(m),C=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(C);d.os=d.os.insert(m,y)}}}(r.localStore,o))}async function dF(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await N1(n.localStore,e);n.currentUser=e,function(o,i){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new oe(H.CANCELLED,i))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.hs)}}function fF(t,e){const n=Ne(t),r=n.Na.get(e);if(r&&r.va)return Be().add(r.key);{let s=Be();const o=n.Ma.get(e);if(!o)return s;for(const i of o){const a=n.Fa.get(i);s=s.unionWith(a.view.Va)}return s}}function X1(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aF.bind(null,e),e.Ca.d_=Q4.bind(null,e.eventManager),e.Ca.$a=Y4.bind(null,e.eventManager),e}function hF(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cF.bind(null,e),e}class Ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return w4(this.persistence,new v4,e.initialUser,this.serializer)}Ga(e){return new p4(jv.Zr,this.serializer)}Wa(e){return new T4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ld.provider={build:()=>new Ld};class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dF.bind(null,this.syncEngine),await q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G4}()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=function(o){return new k4(o)}(e.databaseInfo);return function(o,i,a,l){return new D4(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new O4(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Wx(this.syncEngine,n,0),function(){return Fx.D()?new Fx:new I4}())}createSyncEngine(e,n){return function(s,o,i,a,l,u,d){const h=new eF(s,o,i,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ne(s);ue("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Sc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=JC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{ue("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ue("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function np(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await N1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mF(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$x(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>$x(e.remoteStore,s)),t._onlineComponents=e}async function mF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await np(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await np(t,new Ld)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await np(t,new Ld);return t._offlineComponents}async function Z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await qx(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await qx(t,new qm))),t._onlineComponents}function gF(t){return Z1(t).then(e=>e.syncEngine)}async function eT(t){const e=await Z1(t),n=e.eventManager;return n.onListen=tF.bind(null,e.syncEngine),n.onUnlisten=sF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oF.bind(null,e.syncEngine),n}function vF(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,u){const d=new J1({next:m=>{d.Za(),i.enqueueAndForget(()=>U1(o,h));const v=m.docs.has(a);!v&&m.fromCache?u.reject(new oe(H.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&l&&l.source==="server"?u.reject(new oe(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new z1(kv(a.path),d,{includeMetadataChanges:!0,_a:!0});return B1(o,h)}(await eT(t),t.asyncQueue,e,n,r)),r.promise}function yF(t,e,n={}){const r=new ss;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,l,u){const d=new J1({next:m=>{d.Za(),i.enqueueAndForget(()=>U1(o,h)),m.fromCache&&l.source==="server"?u.reject(new oe(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new z1(a,d,{includeMetadataChanges:!0,_a:!0});return B1(o,h)}(await eT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t,e,n){if(!n)throw new oe(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wF(t,e,n,r){if(e===!0&&r===!0)throw new oe(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gx(t){if(!me.isDocumentKey(t))throw new oe(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qx(t){if(me.isDocumentKey(t))throw new oe(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ie()}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new oe(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new oe(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jL;switch(r.type){case"firstParty":return new $L(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Kx.get(n);r&&(ue("ComponentProvider","Removing Datastore"),Kx.delete(n),r.terminate())}(this),Promise.resolve()}}function xF(t,e,n,r={}){var s;const o=(t=Wr(t,Lf))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=vj(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new LL(new XC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class Ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class to extends ka{constructor(e,n,r){super(e,n,kv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new me(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function rp(t,e,...n){if(t=br(t),nT("collection","path",e),t instanceof Lf){const r=vt.fromString(e,...n);return Qx(r),new to(t,null,r)}{if(!(t instanceof Ln||t instanceof to))throw new oe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return Qx(r),new to(t.firestore,null,r)}}function ko(t,e,...n){if(t=br(t),arguments.length===1&&(e=JC.newId()),nT("doc","path",e),t instanceof Lf){const r=vt.fromString(e,...n);return Gx(r),new Ln(t,null,new me(r))}{if(!(t instanceof Ln||t instanceof to))throw new oe(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return Gx(r),new Ln(t.firestore,t instanceof to?t.converter:null,new me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new D1(this,"async_queue_retry"),this.Vu=()=>{const r=tp();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ss;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xc(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(r);throw fs("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Uv.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Ie()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ai extends Lf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Xx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xx(e),this._firestoreClient=void 0,await e}}}function _F(t,e){const n=typeof t=="object"?t:TL(),r=typeof t=="string"?t:"(default)",s=EL(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=mj("firestore");o&&xF(s,...o)}return s}function Vf(t){if(t._terminated)throw new oe(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EF(t),t._firestoreClient}function EF(t){var e,n,r;const s=t._freezeSettings(),o=function(a,l,u,d){return new ZL(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tT(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(sn.fromBase64String(e))}catch(n){throw new oe(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ya(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=/^__.*__$/;class SF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ec(e,this.data,n,this.fieldTransforms)}}class rT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class Gv{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sT(this.Cu)&&bF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class CF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}Qu(e,n,r,s=!1){return new Gv({Cu:e,methodName:n,qu:r,path:Zt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new CF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oT(t,e,n,r,s,o={}){const i=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);Yv("Data must be an object, but it was:",i,r);const a=lT(r,i);let l,u;if(o.merge)l=new Un(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const m=Km(e,h,n);if(!i.contains(m))throw new oe(H.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);uT(d,m)||d.push(m)}l=new Un(d),u=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=i.fieldTransforms;return new SF(new Nn(a),l,u)}class Bf extends Ff{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}class Qv extends Ff{_toFieldTransform(e){return new SV(e.path,new sc)}isEqual(e){return e instanceof Qv}}function iT(t,e,n,r){const s=t.Qu(1,e,n);Yv("Data must be an object, but it was:",s,r);const o=[],i=Nn.empty();oi(r,(l,u)=>{const d=Xv(e,l,n);u=br(u);const h=s.Nu(d);if(u instanceof Bf)o.push(d);else{const m=Ic(u,h);m!=null&&(o.push(d),i.set(d,m))}});const a=new Un(o);return new rT(i,a,s.fieldTransforms)}function aT(t,e,n,r,s,o){const i=t.Qu(1,e,n),a=[Km(e,r,n)],l=[s];if(o.length%2!=0)throw new oe(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Km(e,o[m])),l.push(o[m+1]);const u=[],d=Nn.empty();for(let m=a.length-1;m>=0;--m)if(!uT(u,a[m])){const v=a[m];let C=l[m];C=br(C);const y=i.Nu(v);if(C instanceof Bf)u.push(v);else{const E=Ic(C,y);E!=null&&(u.push(v),d.set(v,E))}}const h=new Un(u);return new rT(d,h,i.fieldTransforms)}function TF(t,e,n,r=!1){return Ic(n,t.Qu(r?4:3,e))}function Ic(t,e){if(cT(t=br(t)))return Yv("Unsupported field value:",e,t),lT(t,e);if(t instanceof Ff)return function(r,s){if(!sT(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let l=Ic(a,s.Lu(i));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=br(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _V(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ut.fromDate(r);return{timestampValue:Od(s.serializer,o)}}if(r instanceof Ut){const o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Od(s.serializer,o)}}if(r instanceof qv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:S1(s.serializer,r._byteString)};if(r instanceof Ln){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Bu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Kv)return function(i,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Nv(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${jf(r)}`)}(t,e)}function lT(t,e){const n={};return ZC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(t,(r,s)=>{const o=Ic(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function cT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof qv||t instanceof ya||t instanceof Ln||t instanceof Ff||t instanceof Kv)}function Yv(t,e,n){if(!cT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=jf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Km(t,e,n){if((e=br(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return Xv(t,e);throw Vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const IF=new RegExp("[~\\*/\\[\\]]");function Xv(t,e,n){if(e.search(IF)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vd(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new oe(H.INVALID_ARGUMENT,a+t+l)}function uT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AF extends dT{data(){return super.data()}}function Jv(t,e){return typeof e=="string"?Xv(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}class kF extends Zv{}function NF(t,e,...n){let r=[];e instanceof Zv&&r.push(e),r=r.concat(n),function(o){const i=o.filter(l=>l instanceof ey).length,a=o.filter(l=>l instanceof Uf).length;if(i>1||i>0&&a>0)throw new oe(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Uf extends kF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uf(e,n,r)}_apply(e){const n=this._parse(e);return fT(e._query,n),new ka(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=$f(e.firestore);return function(o,i,a,l,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Zx(h,d);const v=[];for(const C of h)v.push(Jx(l,o,C));m={arrayValue:{values:v}}}else m=Jx(l,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Zx(h,d),m=TF(a,i,h,d==="in"||d==="not-in");return jt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function PF(t,e,n){const r=e,s=Jv("where",t);return Uf._create(s,r,n)}class ey extends Zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ey(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const a=o.getFlattenedFilters();for(const l of a)fT(i,l),i=Lm(i,l)}(e._query,n),new ka(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jx(t,e,n){if(typeof(n=br(n))=="string"){if(n==="")throw new oe(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&n.indexOf("/")!==-1)throw new oe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!me.isDocumentKey(r))throw new oe(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xx(t,new me(r))}if(n instanceof Ln)return xx(t,n._key);throw new oe(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function Zx(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fT(t,e){const n=function(s,o){for(const i of s)for(const a of i.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DF{convertValue(e,n="none"){switch(Xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(i=>Pt(i.doubleValue));return new Kv(o)}convertGeoPoint(e){return new qv(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=lo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);nt(k1(r));const s=new nc(r.get(1),r.get(3)),o=new me(r.popFirst(5));return s.isEqual(n)||fs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pT extends dT{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hu extends pT{data(e={}){return super.data(e)}}class MF{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ll(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hu(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const l=new Hu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Hu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ll(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),d=i.indexOf(a.doc.key)),{type:OF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(t){t=Wr(t,Ln);const e=Wr(t.firestore,ai);return vF(Vf(e),t._key).then(n=>FF(e,t,n))}class mT extends DF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function e_(t){t=Wr(t,ka);const e=Wr(t.firestore,ai),n=Vf(e),r=new mT(e);return RF(t._query),yF(n,t._query).then(s=>new MF(e,r,t,s))}function Gm(t,e,n,...r){t=Wr(t,Ln);const s=Wr(t.firestore,ai),o=$f(s);let i;return i=typeof(e=br(e))=="string"||e instanceof Tc?aT(o,"updateDoc",t._key,e,n,r):iT(o,"updateDoc",t._key,e),zf(s,[i.toMutation(t._key,jn.exists(!0))])}function LF(t){return zf(Wr(t.firestore,ai),[new Nf(t._key,jn.none())])}function VF(t,e){const n=Wr(t.firestore,ai),r=ko(t),s=hT(t.converter,e);return zf(n,[oT($f(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function zf(t,e){return function(r,s){const o=new ss;return r.asyncQueue.enqueueAndForget(async()=>iF(await gF(r),s,o)),o.promise}(Vf(t),e)}function FF(t,e,n){const r=n.docs.get(e._key),s=new mT(t);return new pT(t,s,e._key,r,new ll(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$f(e)}set(e,n,r){this._verifyNotCommitted();const s=sp(e,this._firestore),o=hT(s.converter,n,r),i=oT(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(i.toMutation(s._key,jn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const o=sp(e,this._firestore);let i;return i=typeof(n=br(n))=="string"||n instanceof Tc?aT(this._dataReader,"WriteBatch.update",o._key,n,r,s):iT(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(i.toMutation(o._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=sp(e,this._firestore);return this._mutations=this._mutations.concat(new Nf(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sp(t,e){if((t=br(t)).firestore!==e)throw new oe(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ki(){return new Qv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){return Vf(t=Wr(t,ai)),new $F(t,e=>zf(t,e))}(function(e,n=!0){(function(s){Ia=s})(CL),kd(new Jl("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new ai(new VL(r.getProvider("auth-internal")),new UL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(u.options.projectId,d)}(i,s),i);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fi(mx,"4.7.3",e),Fi(mx,"4.7.3","esm2017")})();var UF="firebase",zF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(UF,zF,"app");const WF={apiKey:"AIzaSyDAO0MRKXCq9DHO-EZkUcpEf3m18oH4bE8",authDomain:"property-manager-cf570.firebaseapp.com",projectId:"property-manager-cf570",storageBucket:"property-manager-cf570.firebasestorage.app",messagingSenderId:"392212452825",appId:"1:392212452825:web:1fa2672a6a3a86f8d735c8",measurementId:"G-12CN857J40"},HF=UC(WF),kr=_F(HF),At={async getAll(t){return(await e_(rp(kr,t))).docs.map(n=>({id:n.id,...n.data()}))},async getWhere(t,e,n,r){const s=NF(rp(kr,t),PF(e,n,r));return(await e_(s)).docs.map(i=>({id:i.id,...i.data()}))},async getById(t,e){const n=ko(kr,t,e),r=await jF(n);return r.exists()?{id:r.id,...r.data()}:null},async add(t,e){return(await VF(rp(kr,t),{...e,createdAt:ki(),updatedAt:ki()})).id},async update(t,e,n){const r=ko(kr,t,e);await Gm(r,{...n,updatedAt:ki()})},async delete(t,e){const n=ko(kr,t,e);await LF(n)},async set(t,e,n){const r=ko(kr,t,e);await Gm(r,{...n,updatedAt:ki()})}},cl={async getAllActive(){return At.getWhere("cleaners","isActive","==",!0)},async create(t){return At.add("cleaners",{...t,isActive:!0,role:t.role||"cleaner"})},async update(t,e){return At.update("cleaners",t,e)},async softDelete(t){return At.update("cleaners",t,{isActive:!1})}},ks={async getAll(){return At.getAll("cleaning-assignments")},async getByDate(t){return At.getWhere("cleaning-assignments","currentCleaningDate","==",t)},async createOrUpdate(t){const e=`${t.originalBookingDate}_${t.bookingId}`,n=ko(kr,"cleaning-assignments",e);await Gm(n,{...t,updatedAt:ki()})},async updateCleaner(t,e,n,r){const o=(await At.getWhere("cleaning-assignments","bookingId","==",e)).find(i=>i.currentCleaningDate===t||i.originalBookingDate===t);o&&await At.update("cleaning-assignments",o.id,{cleanerId:n,cleanerName:r})},async delete(t){const e=await At.getWhere("cleaning-assignments","currentCleaningDate","==",t);e.length>0&&await At.delete("cleaning-assignments",e[0].id)},async syncFromBookings(t){const e=BF(kr),n=await this.getAll();new Map(n.map(r=>r.id));for(const r of t)if(r.cleaningRequired){const s=`${r.checkOut}_${r.id}`,o={originalBookingDate:r.checkOut,currentCleaningDate:r.checkOut,bookingId:r.id,guestName:r.guestName,cleanerId:null,cleanerName:null,bookingDateChanged:!1},i=ko(kr,"cleaning-assignments",s);e.set(i,{...o,updatedAt:ki()})}await e.commit()}},t_={async getByCleanerAndMonth(t,e){return(await At.getWhere("cleaner_availability","cleanerId","==",t)).find(s=>s.month===e)||null},async updateAvailability(t,e,n){const r=await this.getByCleanerAndMonth(t,e);r?await At.update("cleaner_availability",r.id,{availableDates:n}):await At.add("cleaner_availability",{cleanerId:t,month:e,availableDates:n})}},_u={async getAll(){return At.getAll("availability_links")},async getByLink(t){return(await At.getWhere("availability_links","uniqueLink","==",t)).find(n=>n.isActive)||null},async create(t){return At.add("availability_links",{...t,isActive:!0})},async deactivate(t){return At.update("availability_links",t,{isActive:!1})}},Wf=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,o]=p.useState([]),[i,a]=p.useState({}),[l,u]=p.useState(!0),[d,h]=p.useState(null),m=async()=>{try{u(!0);const I=(await cl.getAllActive()).filter(A=>(A.role||"cleaner")!=="admin");e(I),h(null)}catch(S){console.error("Error loading cleaners:",S),h(S instanceof Error?S.message:"Failed to load cleaners")}finally{u(!1)}},v=async()=>{try{const I=(await ks.getAll()).map(A=>({id:A.id,date:A.currentCleaningDate,bookingId:A.bookingId,cleanerId:A.cleanerId,status:A.cleanerId?"assigned":"unassigned",assignedAt:A.updatedAt,completedAt:null}));r(I)}catch(S){console.error("Error loading assignments:",S),r([])}},C=async()=>{o([])},y=async S=>{try{const I=t.find(P=>P.id===S.cleanerId),A=(I==null?void 0:I.name)||"";if(!I)throw new Error("Cleaner not found");console.log("Assigning cleaner:",{date:S.date,cleanerId:S.cleanerId,cleanerName:A,bookingId:S.bookingId}),await ks.updateCleaner(S.date,S.bookingId,S.cleanerId,A),await v()}catch(I){throw console.error("Error assigning cleaner:",I),I}},E=async(S,I)=>{try{if(!n.find(P=>P.id===S))throw new Error("Assignment not found");r(P=>P.map(M=>M.id===S?{...M,status:I,completedAt:I==="completed"?new Date().toISOString():M.completedAt}:M))}catch(A){throw console.error("Error updating assignment status:",A),A}},x=async S=>{try{console.log("Unassigning cleaner for assignment ID:",S);let I=n.find(A=>A.id===S);if(I||(I=n.find(A=>A.date===S)),!I)throw console.error("Assignment not found in assignments array:",n),console.error("Looking for assignmentId:",S),new Error("Assignment not found");console.log("Found assignment:",I),await ks.unassignCleaner(I.date,I.bookingId),r(A=>A.map(P=>P.id===S||P.date===S?{...P,cleanerId:null,status:"unassigned"}:P)),await v()}catch(I){throw console.error("Error unassigning cleaner:",I),I}},w=S=>n.filter(I=>I.date===S),_=S=>t.filter(I=>I.isActive),R=async S=>{try{await cl.create(S),await m()}catch(I){throw console.error("Error creating cleaner:",I),I}},D=async(S,I)=>{try{await cl.update(S,I),await m()}catch(A){throw console.error("Error updating cleaner:",A),A}},O=async S=>{try{await cl.softDelete(S),await m()}catch(I){throw console.error("Error deleting cleaner:",I),I}},T=async()=>{await Promise.all([m(),v(),C()])};return p.useEffect(()=>{T()},[]),{cleaners:t,assignments:n,tasks:s,availabilityMap:i,loading:l,error:d,loadCleaners:m,loadAssignments:v,loadTasks:C,assignCleaner:y,updateAssignmentStatus:E,unassignCleaner:x,getAssignmentsForDate:w,getAvailableCleaners:_,createCleaner:R,updateCleaner:D,deleteCleaner:O,refetch:T}},gT=()=>{const[t,e]=p.useState([]),[n,r]=p.useState(!0),[s,o]=p.useState(null),i=async()=>{try{r(!0),o(null);const m=await ks.getAll();e(m||[])}catch(m){o(m instanceof Error?m.message:"An error occurred")}finally{r(!1)}},a=async m=>{try{await ks.createOrUpdate(m),await i()}catch(v){o(v instanceof Error?v.message:"An error occurred")}},l=async(m,v,C)=>{try{const y=t.find(E=>E.currentCleaningDate===m);if(!y)throw new Error("Assignment not found for this date");await ks.updateCleaner(m,y.bookingId,v,C),await i()}catch(y){o(y instanceof Error?y.message:"An error occurred")}},u=async m=>{try{await ks.delete(m),await i()}catch(v){o(v instanceof Error?v.message:"An error occurred")}},d=async m=>{try{await ks.syncFromBookings(m),await i()}catch(v){o(v instanceof Error?v.message:"An error occurred")}},h=m=>{e(v=>v.map(C=>C.currentCleaningDate===m.currentCleaningDate&&C.bookingId===m.bookingId?{...C,...m}:C))};return p.useEffect(()=>{i()},[]),{cleaningAssignments:t,loading:n,error:s,refetch:i,createOrUpdateAssignment:a,updateCleanerAssignment:l,deleteAssignment:u,syncAssignments:d,updateAssignmentOptimistically:h}};var op="focusScope.autoFocusOnMount",ip="focusScope.autoFocusOnUnmount",n_={bubbles:!1,cancelable:!0},qF="FocusScope",ty=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,l]=p.useState(null),u=rr(s),d=rr(o),h=p.useRef(null),m=rt(e,y=>l(y)),v=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(_){if(v.paused||!a)return;const R=_.target;a.contains(R)?h.current=R:Ss(h.current,{select:!0})},E=function(_){if(v.paused||!a)return;const R=_.relatedTarget;R!==null&&(a.contains(R)||Ss(h.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const D of _)D.removedNodes.length>0&&Ss(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,v.paused]),p.useEffect(()=>{if(a){s_.add(v);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(op,n_);a.addEventListener(op,u),a.dispatchEvent(x),x.defaultPrevented||(KF(JF(vT(a)),{select:!0}),document.activeElement===y&&Ss(a))}return()=>{a.removeEventListener(op,u),setTimeout(()=>{const x=new CustomEvent(ip,n_);a.addEventListener(ip,d),a.dispatchEvent(x),x.defaultPrevented||Ss(y??document.body,{select:!0}),a.removeEventListener(ip,d),s_.remove(v)},0)}}},[a,u,d,v]);const C=p.useCallback(y=>{if(!n&&!r||v.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(E&&x){const w=y.currentTarget,[_,R]=GF(w);_&&R?!y.shiftKey&&x===R?(y.preventDefault(),n&&Ss(_,{select:!0})):y.shiftKey&&x===_&&(y.preventDefault(),n&&Ss(R,{select:!0})):x===w&&y.preventDefault()}},[n,r,v.paused]);return f.jsx(Oe.div,{tabIndex:-1,...i,ref:m,onKeyDown:C})});ty.displayName=qF;function KF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ss(r,{select:e}),document.activeElement!==n)return}function GF(t){const e=vT(t),n=r_(e,t),r=r_(e.reverse(),t);return[n,r]}function vT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function r_(t,e){for(const n of t)if(!QF(n,{upTo:e}))return n}function QF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function YF(t){return t instanceof HTMLInputElement&&"select"in t}function Ss(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&YF(t)&&e&&t.select()}}var s_=XF();function XF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=o_(t,e),t.unshift(e)},remove(e){var n;t=o_(t,e),(n=t[0])==null||n.resume()}}}function o_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function JF(t){return t.filter(e=>e.tagName!=="A")}var ap=0;function yT(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??i_()),document.body.insertAdjacentElement("beforeend",t[1]??i_()),ap++,()=>{ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ap--}},[])}function i_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Or=function(){return Or=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Or.apply(this,arguments)};function wT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZF(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var qu="right-scroll-bar-position",Ku="width-before-scroll-bar",e3="with-scroll-bars-hidden",t3="--removed-body-scroll-bar-size";function lp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function n3(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var r3=typeof window<"u"?p.useLayoutEffect:p.useEffect,a_=new WeakMap;function s3(t,e){var n=n3(null,function(r){return t.forEach(function(s){return lp(s,r)})});return r3(function(){var r=a_.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||lp(a,null)}),o.forEach(function(a){s.has(a)||lp(a,i)})}a_.set(n,t)},[t]),n}function o3(t){return t}function i3(t,e){e===void 0&&(e=o3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function a3(t){t===void 0&&(t={});var e=i3(null);return e.options=Or({async:!0,ssr:!1},t),e}var xT=function(t){var e=t.sideCar,n=wT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Or({},n))};xT.isSideCarExport=!0;function l3(t,e){return t.useMedium(e),xT}var _T=a3(),cp=function(){},Hf=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:cp,onWheelCapture:cp,onTouchMoveCapture:cp}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,v=t.noRelative,C=t.noIsolation,y=t.inert,E=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,_=t.gapMode,R=wT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,O=s3([n,e]),T=Or(Or({},R),s);return p.createElement(p.Fragment,null,d&&p.createElement(D,{sideCar:_T,removeScrollBar:u,shards:h,noRelative:v,noIsolation:C,inert:y,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:_}),i?p.cloneElement(p.Children.only(a),Or(Or({},T),{ref:O})):p.createElement(w,Or({},T,{className:l,ref:O}),a))});Hf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hf.classNames={fullWidth:Ku,zeroRight:qu};var c3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function u3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=c3();return e&&t.setAttribute("nonce",e),t}function d3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function f3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h3=function(){var t=0,e=null;return{add:function(n){t==0&&(e=u3())&&(d3(e,n),f3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},p3=function(){var t=h3();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},ET=function(){var t=p3(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},m3={left:0,top:0,right:0,gap:0},up=function(t){return parseInt(t||"",10)||0},g3=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[up(n),up(r),up(s)]},v3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m3;var e=g3(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},y3=ET(),Bi="data-scroll-locked",w3=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(e3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Bi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ku,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bi,`] {
    `).concat(t3,": ").concat(a,`px;
  }
`)},l_=function(){var t=parseInt(document.body.getAttribute(Bi)||"0",10);return isFinite(t)?t:0},x3=function(){p.useEffect(function(){return document.body.setAttribute(Bi,(l_()+1).toString()),function(){var t=l_()-1;t<=0?document.body.removeAttribute(Bi):document.body.setAttribute(Bi,t.toString())}},[])},_3=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;x3();var o=p.useMemo(function(){return v3(s)},[s]);return p.createElement(y3,{styles:w3(o,!e,s,n?"":"!important")})},Qm=!1;if(typeof window<"u")try{var Eu=Object.defineProperty({},"passive",{get:function(){return Qm=!0,!0}});window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{Qm=!1}var fi=Qm?{passive:!1}:!1,E3=function(t){return t.tagName==="TEXTAREA"},bT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!E3(t)&&n[e]==="visible")},b3=function(t){return bT(t,"overflowY")},S3=function(t){return bT(t,"overflowX")},c_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ST(t,r);if(s){var o=CT(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},C3=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},T3=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},ST=function(t,e){return t==="v"?b3(e):S3(e)},CT=function(t,e){return t==="v"?C3(e):T3(e)},I3=function(t,e){return t==="h"&&e==="rtl"?-1:1},A3=function(t,e,n,r,s){var o=I3(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,l=e.contains(a),u=!1,d=i>0,h=0,m=0;do{if(!a)break;var v=CT(t,a),C=v[0],y=v[1],E=v[2],x=y-E-o*C;(C||x)&&ST(t,a)&&(h+=x,m+=C);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},bu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},u_=function(t){return[t.deltaX,t.deltaY]},d_=function(t){return t&&"current"in t?t.current:t},R3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},k3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},N3=0,hi=[];function P3(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(N3++)[0],o=p.useState(ET)[0],i=p.useRef(t);p.useEffect(function(){i.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=ZF([t.lockRef.current],(t.shards||[]).map(d_),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=bu(y),w=n.current,_="deltaX"in y?y.deltaX:w[0]-x[0],R="deltaY"in y?y.deltaY:w[1]-x[1],D,O=y.target,T=Math.abs(_)>Math.abs(R)?"h":"v";if("touches"in y&&T==="h"&&O.type==="range")return!1;var S=c_(T,O);if(!S)return!0;if(S?D=T:(D=T==="v"?"h":"v",S=c_(T,O)),!S)return!1;if(!r.current&&"changedTouches"in y&&(_||R)&&(r.current=D),!D)return!0;var I=r.current||D;return A3(I,E,y,I==="h"?_:R)},[]),l=p.useCallback(function(y){var E=y;if(!(!hi.length||hi[hi.length-1]!==o)){var x="deltaY"in E?u_(E):bu(E),w=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&R3(D.delta,x)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var _=(i.current.shards||[]).map(d_).filter(Boolean).filter(function(D){return D.contains(E.target)}),R=_.length>0?a(E,_[0]):!i.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),u=p.useCallback(function(y,E,x,w){var _={name:y,delta:E,target:x,should:w,shadowParent:D3(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(R){return R!==_})},1)},[]),d=p.useCallback(function(y){n.current=bu(y),r.current=void 0},[]),h=p.useCallback(function(y){u(y.type,u_(y),y.target,a(y,t.lockRef.current))},[]),m=p.useCallback(function(y){u(y.type,bu(y),y.target,a(y,t.lockRef.current))},[]);p.useEffect(function(){return hi.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,fi),document.addEventListener("touchmove",l,fi),document.addEventListener("touchstart",d,fi),function(){hi=hi.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,fi),document.removeEventListener("touchmove",l,fi),document.removeEventListener("touchstart",d,fi)}},[]);var v=t.removeScrollBar,C=t.inert;return p.createElement(p.Fragment,null,C?p.createElement(o,{styles:k3(s)}):null,v?p.createElement(_3,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function D3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const M3=l3(_T,P3);var ny=p.forwardRef(function(t,e){return p.createElement(Hf,Or({},t,{ref:e,sideCar:M3}))});ny.classNames=Hf.classNames;var O3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pi=new WeakMap,Su=new WeakMap,Cu={},dp=0,TT=function(t){return t&&(t.host||TT(t.parentNode))},j3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=TT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},L3=function(t,e,n,r){var s=j3(e,Array.isArray(t)?t:[t]);Cu[n]||(Cu[n]=new WeakMap);var o=Cu[n],i=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var v=m.getAttribute(r),C=v!==null&&v!=="false",y=(pi.get(m)||0)+1,E=(o.get(m)||0)+1;pi.set(m,y),o.set(m,E),i.push(m),y===1&&C&&Su.set(m,!0),E===1&&m.setAttribute(n,"true"),C||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(e),a.clear(),dp++,function(){i.forEach(function(h){var m=pi.get(h)-1,v=o.get(h)-1;pi.set(h,m),o.set(h,v),m||(Su.has(h)||h.removeAttribute(r),Su.delete(h)),v||h.removeAttribute(n)}),dp--,dp||(pi=new WeakMap,pi=new WeakMap,Su=new WeakMap,Cu={})}},IT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=O3(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),L3(r,s,n,"aria-hidden")):function(){return null}},qf="Dialog",[AT,r6]=gs(qf),[V3,Tr]=AT(qf),RT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=p.useRef(null),l=p.useRef(null),[u,d]=Ko({prop:r,defaultProp:s??!1,onChange:o,caller:qf});return f.jsx(V3,{scope:e,triggerRef:a,contentRef:l,contentId:Ys(),titleId:Ys(),descriptionId:Ys(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};RT.displayName=qf;var kT="DialogTrigger",NT=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tr(kT,n),o=rt(e,s.triggerRef);return f.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oy(s.open),...r,ref:o,onClick:xe(t.onClick,s.onOpenToggle)})});NT.displayName=kT;var ry="DialogPortal",[F3,PT]=AT(ry,{forceMount:void 0}),DT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=Tr(ry,e);return f.jsx(F3,{scope:e,forceMount:n,children:p.Children.map(r,i=>f.jsx(po,{present:n||o.open,children:f.jsx(uf,{asChild:!0,container:s,children:i})}))})};DT.displayName=ry;var Fd="DialogOverlay",MT=p.forwardRef((t,e)=>{const n=PT(Fd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Tr(Fd,t.__scopeDialog);return o.modal?f.jsx(po,{present:r||o.open,children:f.jsx(B3,{...s,ref:e})}):null});MT.displayName=Fd;var $3=la("DialogOverlay.RemoveScroll"),B3=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tr(Fd,n);return f.jsx(ny,{as:$3,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(Oe.div,{"data-state":oy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Jo="DialogContent",OT=p.forwardRef((t,e)=>{const n=PT(Jo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=Tr(Jo,t.__scopeDialog);return f.jsx(po,{present:r||o.open,children:o.modal?f.jsx(U3,{...s,ref:e}):f.jsx(z3,{...s,ref:e})})});OT.displayName=Jo;var U3=p.forwardRef((t,e)=>{const n=Tr(Jo,t.__scopeDialog),r=p.useRef(null),s=rt(e,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return IT(o)},[]),f.jsx(jT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,o=>o.preventDefault())})}),z3=p.forwardRef((t,e)=>{const n=Tr(Jo,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return f.jsx(jT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),jT=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=Tr(Jo,n),l=p.useRef(null),u=rt(e,l);return yT(),f.jsxs(f.Fragment,{children:[f.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:f.jsx(gc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":oy(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(W3,{titleId:a.titleId}),f.jsx(q3,{contentRef:l,descriptionId:a.descriptionId})]})]})}),sy="DialogTitle",LT=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tr(sy,n);return f.jsx(Oe.h2,{id:s.titleId,...r,ref:e})});LT.displayName=sy;var VT="DialogDescription",FT=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tr(VT,n);return f.jsx(Oe.p,{id:s.descriptionId,...r,ref:e})});FT.displayName=VT;var $T="DialogClose",BT=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Tr($T,n);return f.jsx(Oe.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>s.onOpenChange(!1))})});BT.displayName=$T;function oy(t){return t?"open":"closed"}var UT="DialogTitleWarning",[s6,zT]=AN(UT,{contentName:Jo,titleName:sy,docsSlug:"dialog"}),W3=({titleId:t})=>{const e=zT(UT),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},H3="DialogDescriptionWarning",q3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zT(H3).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},K3=RT,G3=NT,Q3=DT,WT=MT,HT=OT,qT=LT,KT=FT,Y3=BT;const Cl=K3,Gu=G3,X3=Q3,GT=p.forwardRef(({className:t,...e},n)=>f.jsx(WT,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));GT.displayName=WT.displayName;const Ui=p.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(X3,{children:[f.jsx(GT,{}),f.jsxs(HT,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(Y3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(AS,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ui.displayName=HT.displayName;const zi=({className:t,...e})=>f.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zi.displayName="DialogHeader";const Wi=p.forwardRef(({className:t,...e},n)=>f.jsx(qT,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));Wi.displayName=qT.displayName;const iy=p.forwardRef(({className:t,...e},n)=>f.jsx(KT,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));iy.displayName=KT.displayName;const J3=({assignment:t,cleaner:e,booking:n,isOpen:r,onClose:s,onUnassign:o,displayBooking:i})=>{const[a,l]=p.useState(!1),{updateCleanerAssignment:u}=gT(),d=async()=>{l(!0);try{console.log("Unassigning cleaner for assignment:",t),await u(t.date,null,null),o(),s()}catch(C){console.error("Failed to unassign cleaner:",C)}finally{l(!1)}},h=C=>{if(!C)return"Not specified";const y=Math.floor(C/60),E=C%60;return y>0?`${y}h ${E}m`:`${E}m`},m=C=>{switch(C){case"assigned":return"bg-blue-100 text-blue-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=i||n;return f.jsx(Cl,{open:r,onOpenChange:s,children:f.jsxs(Ui,{className:"max-w-md",children:[f.jsxs(zi,{children:[f.jsxs(Wi,{className:"flex items-center gap-2",children:[f.jsx(_d,{className:"h-5 w-5"}),"Cleaning Assignment"]}),f.jsxs(iy,{children:["Details for the cleaning assignment on ",new Date(t.date).toLocaleDateString()]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[f.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx(_d,{className:"h-4 w-4"}),"Assigned Cleaner"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"font-medium",children:e.name}),e.phone&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(ov,{className:"h-3 w-3"}),e.phone]}),e.email&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(sv,{className:"h-3 w-3"}),e.email]}),e.flatRate&&f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"font-medium",children:"Rate:"})," ¥",e.flatRate,"/job"]}),e.specialties&&e.specialties.length>0&&f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Specialties:"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:e.specialties.map(C=>f.jsx(rs,{variant:"outline",className:"text-xs",children:C},C))})]})]})]}),f.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[f.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx(ca,{className:"h-4 w-4"}),"Property Details"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"font-medium",children:v.guestName}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Check-in: ",new Date(v.checkIn).toLocaleDateString()]}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[v.guests," guest",v.guests!==1?"s":""]}),v.notes&&f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"font-medium",children:"Notes:"})," ",v.notes]})]})]}),f.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[f.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx(CP,{className:"h-4 w-4"}),"Assignment Details"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Status:"}),f.jsx(rs,{className:m(t.status),children:t.status})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Estimated Duration:"}),f.jsx("span",{className:"text-sm",children:h(t.estimatedDuration)})]}),t.actualDuration&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Actual Duration:"}),f.jsx("span",{className:"text-sm",children:h(t.actualDuration)})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Assigned:"}),f.jsx("span",{className:"text-sm",children:new Date(t.assignedAt).toLocaleDateString()})]}),t.completedAt&&f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm",children:"Completed:"}),f.jsx("span",{className:"text-sm",children:new Date(t.completedAt).toLocaleDateString()})]}),t.notes&&f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium mb-1",children:[f.jsx(TP,{className:"h-3 w-3"}),"Assignment Notes:"]}),f.jsx("div",{className:"text-sm bg-background p-2 rounded border",children:t.notes})]})]})]}),f.jsxs("div",{className:"flex gap-2 pt-4",children:[f.jsxs(ze,{variant:"destructive",onClick:d,disabled:a,className:"flex-1",children:[f.jsx(NP,{className:"h-4 w-4 mr-2"}),a?"Unassigning...":"Unassign Cleaner"]}),f.jsx(ze,{variant:"outline",onClick:s,className:"flex-1",children:"Close"})]})]})]})})},Kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Na(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function ay(t){return"nodeType"in t}function Cn(t){var e,n;return t?Na(t)?t:ay(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function ly(t){const{Document:e}=Cn(t);return t instanceof e}function Ac(t){return Na(t)?!1:t instanceof Cn(t).HTMLElement}function QT(t){return t instanceof Cn(t).SVGElement}function Pa(t){return t?Na(t)?t.document:ay(t)?ly(t)?t:Ac(t)||QT(t)?t.ownerDocument:document:document:document}const ps=Kf?p.useLayoutEffect:p.useEffect;function Gf(t){const e=p.useRef(t);return ps(()=>{e.current=t}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function Z3(){const t=p.useRef(null),e=p.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=p.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ac(t,e){e===void 0&&(e=[t]);const n=p.useRef(t);return ps(()=>{n.current!==t&&(n.current=t)},e),n}function Rc(t,e){const n=p.useRef();return p.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function $d(t){const e=Gf(t),n=p.useRef(null),r=p.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function Bd(t){const e=p.useRef();return p.useEffect(()=>{e.current=t},[t]),e.current}let fp={};function Qf(t,e){return p.useMemo(()=>{if(e)return e;const n=fp[t]==null?0:fp[t]+1;return fp[t]=n,t+"-"+n},[t,e])}function YT(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const a=Object.entries(i);for(const[l,u]of a){const d=o[l];d!=null&&(o[l]=d+t*u)}return o},{...e})}}const Hi=YT(1),Ud=YT(-1);function e5(t){return"clientX"in t&&"clientY"in t}function cy(t){if(!t)return!1;const{KeyboardEvent:e}=Cn(t.target);return e&&t instanceof e}function t5(t){if(!t)return!1;const{TouchEvent:e}=Cn(t.target);return e&&t instanceof e}function zd(t){if(t5(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return e5(t)?{x:t.clientX,y:t.clientY}:null}const wa=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[wa.Translate.toString(t),wa.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),f_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function n5(t){return t.matches(f_)?t:t.querySelector(f_)}const r5={display:"none"};function s5(t){let{id:e,value:n}=t;return Q.createElement("div",{id:e,style:r5},n)}function o5(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Q.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function i5(){const[t,e]=p.useState("");return{announce:p.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const XT=p.createContext(null);function a5(t){const e=p.useContext(XT);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function l5(){const[t]=p.useState(()=>new Set),e=p.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[p.useCallback(r=>{let{type:s,event:o}=r;t.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[t]),e]}const c5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},u5={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function d5(t){let{announcements:e=u5,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=c5}=t;const{announce:o,announcement:i}=i5(),a=Qf("DndLiveRegion"),[l,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),a5(p.useMemo(()=>({onDragStart(h){let{active:m}=h;o(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:v}=h;e.onDragMove&&o(e.onDragMove({active:m,over:v}))},onDragOver(h){let{active:m,over:v}=h;o(e.onDragOver({active:m,over:v}))},onDragEnd(h){let{active:m,over:v}=h;o(e.onDragEnd({active:m,over:v}))},onDragCancel(h){let{active:m,over:v}=h;o(e.onDragCancel({active:m,over:v}))}}),[o,e])),!l)return null;const d=Q.createElement(Q.Fragment,null,Q.createElement(s5,{id:r,value:s.draggable}),Q.createElement(o5,{id:a,announcement:i}));return n?Zn.createPortal(d,n):d}var Ft;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ft||(Ft={}));function Wd(){}function f5(t,e){return p.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function h5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Cr=Object.freeze({x:0,y:0});function p5(t,e){const n=zd(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function m5(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function g5(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function v5(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=s-r,a=o-n;if(r<s&&n<o){const l=e.width*e.height,u=t.width*t.height,d=i*a,h=d/(l+u-d);return Number(h.toFixed(4))}return 0}const y5=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:i}=o,a=n.get(i);if(a){const l=v5(a,e);l>0&&s.push({id:i,data:{droppableContainer:o,value:l}})}}return s.sort(m5)};function w5(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function JT(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Cr}function x5(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+t*a.y,bottom:i.bottom+t*a.y,left:i.left+t*a.x,right:i.right+t*a.x}),{...n})}}const _5=x5(1);function ZT(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function E5(t,e,n){const r=ZT(e);if(!r)return t;const{scaleX:s,scaleY:o,x:i,y:a}=r,l=t.left-i-(1-s)*parseFloat(n),u=t.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?t.width/s:t.width,h=o?t.height/o:t.height;return{width:d,height:h,top:u,right:l+d,bottom:u+h,left:l}}const b5={ignoreTransform:!1};function kc(t,e){e===void 0&&(e=b5);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=Cn(t).getComputedStyle(t);u&&(n=E5(n,u,d))}const{top:r,left:s,width:o,height:i,bottom:a,right:l}=n;return{top:r,left:s,width:o,height:i,bottom:a,right:l}}function h_(t){return kc(t,{ignoreTransform:!0})}function S5(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function C5(t,e){return e===void 0&&(e=Cn(t).getComputedStyle(t)),e.position==="fixed"}function T5(t,e){e===void 0&&(e=Cn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function uy(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(ly(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ac(s)||QT(s)||n.includes(s))return n;const o=Cn(t).getComputedStyle(s);return s!==t&&T5(s,o)&&n.push(s),C5(s,o)?n:r(s.parentNode)}return t?r(t):n}function eI(t){const[e]=uy(t,1);return e??null}function hp(t){return!Kf||!t?null:Na(t)?t:ay(t)?ly(t)||t===Pa(t).scrollingElement?window:Ac(t)?t:null:null}function tI(t){return Na(t)?t.scrollX:t.scrollLeft}function nI(t){return Na(t)?t.scrollY:t.scrollTop}function Ym(t){return{x:tI(t),y:nI(t)}}var Kt;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Kt||(Kt={}));function rI(t){return!Kf||!t?!1:t===document.scrollingElement}function sI(t){const e={x:0,y:0},n=rI(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:r,minScroll:e}}const I5={x:.2,y:.2};function A5(t,e,n,r,s){let{top:o,left:i,right:a,bottom:l}=n;r===void 0&&(r=10),s===void 0&&(s=I5);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=sI(t),v={x:0,y:0},C={x:0,y:0},y={height:e.height*s.y,width:e.width*s.x};return!u&&o<=e.top+y.height?(v.y=Kt.Backward,C.y=r*Math.abs((e.top+y.height-o)/y.height)):!d&&l>=e.bottom-y.height&&(v.y=Kt.Forward,C.y=r*Math.abs((e.bottom-y.height-l)/y.height)),!m&&a>=e.right-y.width?(v.x=Kt.Forward,C.x=r*Math.abs((e.right-y.width-a)/y.width)):!h&&i<=e.left+y.width&&(v.x=Kt.Backward,C.x=r*Math.abs((e.left+y.width-i)/y.width)),{direction:v,speed:C}}function R5(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function oI(t){return t.reduce((e,n)=>Hi(e,Ym(n)),Cr)}function k5(t){return t.reduce((e,n)=>e+tI(n),0)}function N5(t){return t.reduce((e,n)=>e+nI(n),0)}function iI(t,e){if(e===void 0&&(e=kc),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);eI(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const P5=[["x",["left","right"],k5],["y",["top","bottom"],N5]];class dy{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=uy(n),s=oI(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,a]of P5)for(const l of i)Object.defineProperty(this,l,{get:()=>{const u=a(r),d=s[o]-u;return this.rect[l]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Tl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function D5(t){const{EventTarget:e}=Cn(t);return t instanceof e?t:Pa(t)}function pp(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Qn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Qn||(Qn={}));function p_(t){t.preventDefault()}function M5(t){t.stopPropagation()}var ot;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ot||(ot={}));const aI={start:[ot.Space,ot.Enter],cancel:[ot.Esc],end:[ot.Space,ot.Enter,ot.Tab]},O5=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ot.Right:return{...n,x:n.x+25};case ot.Left:return{...n,x:n.x-25};case ot.Down:return{...n,y:n.y+25};case ot.Up:return{...n,y:n.y-25}}};class lI{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Tl(Pa(n)),this.windowListeners=new Tl(Cn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Qn.Resize,this.handleCancel),this.windowListeners.add(Qn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Qn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&iI(r),n(Cr)}handleKeyDown(e){if(cy(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=aI,coordinateGetter:i=O5,scrollBehavior:a="smooth"}=s,{code:l}=e;if(o.end.includes(l)){this.handleEnd(e);return}if(o.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Cr;this.referenceCoordinates||(this.referenceCoordinates=d);const h=i(e,{active:n,context:r.current,currentCoordinates:d});if(h){const m=Ud(h,d),v={x:0,y:0},{scrollableAncestors:C}=r.current;for(const y of C){const E=e.code,{isTop:x,isRight:w,isLeft:_,isBottom:R,maxScroll:D,minScroll:O}=sI(y),T=R5(y),S={x:Math.min(E===ot.Right?T.right-T.width/2:T.right,Math.max(E===ot.Right?T.left:T.left+T.width/2,h.x)),y:Math.min(E===ot.Down?T.bottom-T.height/2:T.bottom,Math.max(E===ot.Down?T.top:T.top+T.height/2,h.y))},I=E===ot.Right&&!w||E===ot.Left&&!_,A=E===ot.Down&&!R||E===ot.Up&&!x;if(I&&S.x!==h.x){const P=y.scrollLeft+m.x,M=E===ot.Right&&P<=D.x||E===ot.Left&&P>=O.x;if(M&&!m.y){y.scrollTo({left:P,behavior:a});return}M?v.x=y.scrollLeft-P:v.x=E===ot.Right?y.scrollLeft-D.x:y.scrollLeft-O.x,v.x&&y.scrollBy({left:-v.x,behavior:a});break}else if(A&&S.y!==h.y){const P=y.scrollTop+m.y,M=E===ot.Down&&P<=D.y||E===ot.Up&&P>=O.y;if(M&&!m.x){y.scrollTo({top:P,behavior:a});return}M?v.y=y.scrollTop-P:v.y=E===ot.Down?y.scrollTop-D.y:y.scrollTop-O.y,v.y&&y.scrollBy({top:-v.y,behavior:a});break}}this.handleMove(e,Hi(Ud(h,this.referenceCoordinates),v))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}lI.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=aI,onActivation:s}=e,{active:o}=n;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const a=o.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function m_(t){return!!(t&&"distance"in t)}function g_(t){return!!(t&&"delay"in t)}class fy{constructor(e,n,r){var s;r===void 0&&(r=D5(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:i}=o;this.props=e,this.events=n,this.document=Pa(i),this.documentListeners=new Tl(this.document),this.listeners=new Tl(r),this.windowListeners=new Tl(Cn(i)),this.initialCoordinates=(s=zd(o))!=null?s:Cr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Qn.Resize,this.handleCancel),this.windowListeners.add(Qn.DragStart,p_),this.windowListeners.add(Qn.VisibilityChange,this.handleCancel),this.windowListeners.add(Qn.ContextMenu,p_),this.documentListeners.add(Qn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(g_(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(m_(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Qn.Click,M5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Qn.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const l=(n=zd(e))!=null?n:Cr,u=Ud(s,l);if(!r&&a){if(m_(a)){if(a.tolerance!=null&&pp(u,a.tolerance))return this.handleCancel();if(pp(u,a.distance))return this.handleStart()}if(g_(a)&&pp(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),i(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ot.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const j5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hy extends fy{constructor(e){const{event:n}=e,r=Pa(n.target);super(e,j5,r)}}hy.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const L5={move:{name:"mousemove"},end:{name:"mouseup"}};var Xm;(function(t){t[t.RightClick=2]="RightClick"})(Xm||(Xm={}));class V5 extends fy{constructor(e){super(e,L5,Pa(e.event.target))}}V5.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===Xm.RightClick?!1:(r==null||r({event:n}),!0)}}];const mp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class F5 extends fy{constructor(e){super(e,mp)}static setup(){return window.addEventListener(mp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(mp.move.name,e)};function e(){}}}F5.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Il;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Il||(Il={}));var Hd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Hd||(Hd={}));function $5(t){let{acceleration:e,activator:n=Il.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:a=Hd.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=t;const v=U5({delta:h,disabled:!o}),[C,y]=Z3(),E=p.useRef({x:0,y:0}),x=p.useRef({x:0,y:0}),w=p.useMemo(()=>{switch(n){case Il.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Il.DraggableRect:return s}},[n,s,l]),_=p.useRef(null),R=p.useCallback(()=>{const O=_.current;if(!O)return;const T=E.current.x*x.current.x,S=E.current.y*x.current.y;O.scrollBy(T,S)},[]),D=p.useMemo(()=>a===Hd.TreeOrder?[...u].reverse():u,[a,u]);p.useEffect(()=>{if(!o||!u.length||!w){y();return}for(const O of D){if((r==null?void 0:r(O))===!1)continue;const T=u.indexOf(O),S=d[T];if(!S)continue;const{direction:I,speed:A}=A5(O,S,w,e,m);for(const P of["x","y"])v[P][I[P]]||(A[P]=0,I[P]=0);if(A.x>0||A.y>0){y(),_.current=O,C(R,i),E.current=A,x.current=I;return}}E.current={x:0,y:0},x.current={x:0,y:0},y()},[e,R,r,y,o,i,JSON.stringify(w),JSON.stringify(v),C,u,D,d,JSON.stringify(m)])}const B5={x:{[Kt.Backward]:!1,[Kt.Forward]:!1},y:{[Kt.Backward]:!1,[Kt.Forward]:!1}};function U5(t){let{delta:e,disabled:n}=t;const r=Bd(e);return Rc(s=>{if(n||!r||!s)return B5;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Kt.Backward]:s.x[Kt.Backward]||o.x===-1,[Kt.Forward]:s.x[Kt.Forward]||o.x===1},y:{[Kt.Backward]:s.y[Kt.Backward]||o.y===-1,[Kt.Forward]:s.y[Kt.Forward]||o.y===1}}},[n,e,r])}function z5(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Rc(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function W5(t,e){return p.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,r)}));return[...n,...o]},[]),[t,e])}var lc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(lc||(lc={}));var Jm;(function(t){t.Optimized="optimized"})(Jm||(Jm={}));const v_=new Map;function H5(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,i]=p.useState(null),{frequency:a,measure:l,strategy:u}=s,d=p.useRef(t),h=E(),m=ac(h),v=p.useCallback(function(x){x===void 0&&(x=[]),!m.current&&i(w=>w===null?x:w.concat(x.filter(_=>!w.includes(_))))},[m]),C=p.useRef(null),y=Rc(x=>{if(h&&!n)return v_;if(!x||x===v_||d.current!==t||o!=null){const w=new Map;for(let _ of t){if(!_)continue;if(o&&o.length>0&&!o.includes(_.id)&&_.rect.current){w.set(_.id,_.rect.current);continue}const R=_.node.current,D=R?new dy(l(R),R):null;_.rect.current=D,D&&w.set(_.id,D)}return w}return x},[t,o,n,h,l]);return p.useEffect(()=>{d.current=t},[t]),p.useEffect(()=>{h||v()},[n,h]),p.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),p.useEffect(()=>{h||typeof a!="number"||C.current!==null||(C.current=setTimeout(()=>{v(),C.current=null},a))},[a,h,v,...r]),{droppableRects:y,measureDroppableContainers:v,measuringScheduled:o!=null};function E(){switch(u){case lc.Always:return!1;case lc.BeforeDragging:return n;default:return!n}}}function py(t,e){return Rc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function q5(t,e){return py(t,e)}function K5(t){let{callback:e,disabled:n}=t;const r=Gf(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Yf(t){let{callback:e,disabled:n}=t;const r=Gf(e),s=p.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return p.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function G5(t){return new dy(kc(t),t)}function y_(t,e,n){e===void 0&&(e=G5);const[r,s]=p.useState(null);function o(){s(l=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=l??n)!=null?u:null}const d=e(t);return JSON.stringify(l)===JSON.stringify(d)?l:d})}const i=K5({callback(l){if(t)for(const u of l){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(t)){o();break}}}}),a=Yf({callback:o});return ps(()=>{o(),t?(a==null||a.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[t]),r}function Q5(t){const e=py(t);return JT(t,e)}const w_=[];function Y5(t){const e=p.useRef(t),n=Rc(r=>t?r&&r!==w_&&t&&e.current&&t.parentNode===e.current.parentNode?r:uy(t):w_,[t]);return p.useEffect(()=>{e.current=t},[t]),n}function X5(t){const[e,n]=p.useState(null),r=p.useRef(t),s=p.useCallback(o=>{const i=hp(o.target);i&&n(a=>a?(a.set(i,Ym(i)),new Map(a)):null)},[]);return p.useEffect(()=>{const o=r.current;if(t!==o){i(o);const a=t.map(l=>{const u=hp(l);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,Ym(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{i(t),i(o)};function i(a){a.forEach(l=>{const u=hp(l);u==null||u.removeEventListener("scroll",s)})}},[s,t]),p.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>Hi(o,i),Cr):oI(t):Cr,[t,e])}function x_(t,e){e===void 0&&(e=[]);const n=p.useRef(null);return p.useEffect(()=>{n.current=null},e),p.useEffect(()=>{const r=t!==Cr;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Ud(t,n.current):Cr}function J5(t){p.useEffect(()=>{if(!Kf)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function Z5(t,e){return p.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,e)},n},{}),[t,e])}function cI(t){return p.useMemo(()=>t?S5(t):null,[t])}const __=[];function e9(t,e){e===void 0&&(e=kc);const[n]=t,r=cI(n?Cn(n):null),[s,o]=p.useState(__);function i(){o(()=>t.length?t.map(l=>rI(l)?r:new dy(e(l),l)):__)}const a=Yf({callback:i});return ps(()=>{a==null||a.disconnect(),i(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),s}function uI(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ac(e)?e:t}function t9(t){let{measure:e}=t;const[n,r]=p.useState(null),s=p.useCallback(u=>{for(const{target:d}of u)if(Ac(d)){r(h=>{const m=e(d);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),o=Yf({callback:s}),i=p.useCallback(u=>{const d=uI(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?e(d):null)},[e,o]),[a,l]=$d(i);return p.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const n9=[{sensor:hy,options:{}},{sensor:lI,options:{}}],r9={current:{}},Qu={draggable:{measure:h_},droppable:{measure:h_,strategy:lc.WhileDragging,frequency:Jm.Optimized},dragOverlay:{measure:kc}};class Al extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const s9={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Al,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Qu,measureDroppableContainers:Wd,windowRect:null,measuringScheduled:!1},dI={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wd,draggableNodes:new Map,over:null,measureDroppableContainers:Wd},Nc=p.createContext(dI),fI=p.createContext(s9);function o9(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Al}}}function i9(t,e){switch(e.type){case Ft.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ft.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ft.DragEnd:case Ft.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ft.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new Al(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case Ft.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const i=new Al(t.droppable.containers);return i.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:i}}}case Ft.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Al(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function a9(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=p.useContext(Nc),o=Bd(r),i=Bd(n==null?void 0:n.id);return p.useEffect(()=>{if(!e&&!r&&o&&i!=null){if(!cy(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[l.current,u.current]){if(!d)continue;const h=n5(d);if(h){h.focus();break}}})}},[r,e,s,i,o]),null}function hI(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function l9(t){return p.useMemo(()=>({draggable:{...Qu.draggable,...t==null?void 0:t.draggable},droppable:{...Qu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Qu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function c9(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=p.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;ps(()=>{if(!i&&!a||!e){o.current=!1;return}if(o.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=JT(d,r);if(i||(h.x=0),a||(h.y=0),o.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=eI(u);m&&m.scrollBy({top:h.y,left:h.x})}},[e,i,a,r,n])}const Xf=p.createContext({...Cr,scaleX:1,scaleY:1});var Is;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Is||(Is={}));const u9=p.memo(function(e){var n,r,s,o;let{id:i,accessibility:a,autoScroll:l=!0,children:u,sensors:d=n9,collisionDetection:h=y5,measuring:m,modifiers:v,...C}=e;const y=p.useReducer(i9,void 0,o9),[E,x]=y,[w,_]=l5(),[R,D]=p.useState(Is.Uninitialized),O=R===Is.Initialized,{draggable:{active:T,nodes:S,translate:I},droppable:{containers:A}}=E,P=T!=null?S.get(T):null,M=p.useRef({initial:null,translated:null}),N=p.useMemo(()=>{var ft;return T!=null?{id:T,data:(ft=P==null?void 0:P.data)!=null?ft:r9,rect:M}:null},[T,P]),L=p.useRef(null),[K,W]=p.useState(null),[q,V]=p.useState(null),B=ac(C,Object.values(C)),F=Qf("DndDescribedBy",i),Z=p.useMemo(()=>A.getEnabled(),[A]),U=l9(m),{droppableRects:J,measureDroppableContainers:ae,measuringScheduled:Pe}=H5(Z,{dragging:O,dependencies:[I.x,I.y],config:U.droppable}),De=z5(S,T),X=p.useMemo(()=>q?zd(q):null,[q]),be=or(),Xe=q5(De,U.draggable.measure);c9({activeNode:T!=null?S.get(T):null,config:be.layoutShiftCompensation,initialRect:Xe,measure:U.draggable.measure});const _e=y_(De,U.draggable.measure,Xe),Ae=y_(De?De.parentElement:null),Se=p.useRef({activatorEvent:null,active:null,activeNode:De,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ut=A.getNodeFor((n=Se.current.over)==null?void 0:n.id),it=t9({measure:U.dragOverlay.measure}),zt=(r=it.nodeRef.current)!=null?r:De,Rt=O?(s=it.rect)!=null?s:_e:null,gn=!!(it.nodeRef.current&&it.rect),de=Q5(gn?null:_e),ge=cI(zt?Cn(zt):null),ne=Y5(O?ut??De:null),ye=e9(ne),we=hI(v,{transform:{x:I.x-de.x,y:I.y-de.y,scaleX:1,scaleY:1},activatorEvent:q,active:N,activeNodeRect:_e,containerNodeRect:Ae,draggingNodeRect:Rt,over:Se.current.over,overlayNodeRect:it.rect,scrollableAncestors:ne,scrollableAncestorRects:ye,windowRect:ge}),G=X?Hi(X,I):null,le=X5(ne),pe=x_(le),ce=x_(le,[_e]),fe=Hi(we,pe),se=Rt?_5(Rt,we):null,je=N&&se?h({active:N,collisionRect:se,droppableRects:J,droppableContainers:Z,pointerCoordinates:G}):null,Ve=g5(je,"id"),[te,ve]=p.useState(null),We=gn?we:Hi(we,ce),Fe=w5(We,(o=te==null?void 0:te.rect)!=null?o:null,_e),et=p.useRef(null),dt=p.useCallback((ft,Ue)=>{let{sensor:ht,options:he}=Ue;if(L.current==null)return;const Ee=S.get(L.current);if(!Ee)return;const Ce=ft.nativeEvent,Je=new ht({active:L.current,activeNode:Ee,event:Ce,options:he,context:Se,onAbort(Te){if(!S.get(Te))return;const{onDragAbort:Ze}=B.current,at={id:Te};Ze==null||Ze(at),w({type:"onDragAbort",event:at})},onPending(Te,kt,Ze,at){if(!S.get(Te))return;const{onDragPending:yo}=B.current,vn={id:Te,constraint:kt,initialCoordinates:Ze,offset:at};yo==null||yo(vn),w({type:"onDragPending",event:vn})},onStart(Te){const kt=L.current;if(kt==null)return;const Ze=S.get(kt);if(!Ze)return;const{onDragStart:at}=B.current,qr={activatorEvent:Ce,active:{id:kt,data:Ze.data,rect:M}};Zn.unstable_batchedUpdates(()=>{at==null||at(qr),D(Is.Initializing),x({type:Ft.DragStart,initialCoordinates:Te,active:kt}),w({type:"onDragStart",event:qr}),W(et.current),V(Ce)})},onMove(Te){x({type:Ft.DragMove,coordinates:Te})},onEnd:wt(Ft.DragEnd),onCancel:wt(Ft.DragCancel)});et.current=Je;function wt(Te){return async function(){const{active:Ze,collisions:at,over:qr,scrollAdjustedTranslate:yo}=Se.current;let vn=null;if(Ze&&yo){const{cancelDrop:wo}=B.current;vn={activatorEvent:Ce,active:Ze,collisions:at,delta:yo,over:qr},Te===Ft.DragEnd&&typeof wo=="function"&&await Promise.resolve(wo(vn))&&(Te=Ft.DragCancel)}L.current=null,Zn.unstable_batchedUpdates(()=>{x({type:Te}),D(Is.Uninitialized),ve(null),W(null),V(null),et.current=null;const wo=Te===Ft.DragEnd?"onDragEnd":"onDragCancel";if(vn){const Ma=B.current[wo];Ma==null||Ma(vn),w({type:wo,event:vn})}})}}},[S]),Ir=p.useCallback((ft,Ue)=>(ht,he)=>{const Ee=ht.nativeEvent,Ce=S.get(he);if(L.current!==null||!Ce||Ee.dndKit||Ee.defaultPrevented)return;const Je={active:Ce};ft(ht,Ue.options,Je)===!0&&(Ee.dndKit={capturedBy:Ue.sensor},L.current=he,dt(ht,Ue))},[S,dt]),sr=W5(d,Ir);J5(d),ps(()=>{_e&&R===Is.Initializing&&D(Is.Initialized)},[_e,R]),p.useEffect(()=>{const{onDragMove:ft}=B.current,{active:Ue,activatorEvent:ht,collisions:he,over:Ee}=Se.current;if(!Ue||!ht)return;const Ce={active:Ue,activatorEvent:ht,collisions:he,delta:{x:fe.x,y:fe.y},over:Ee};Zn.unstable_batchedUpdates(()=>{ft==null||ft(Ce),w({type:"onDragMove",event:Ce})})},[fe.x,fe.y]),p.useEffect(()=>{const{active:ft,activatorEvent:Ue,collisions:ht,droppableContainers:he,scrollAdjustedTranslate:Ee}=Se.current;if(!ft||L.current==null||!Ue||!Ee)return;const{onDragOver:Ce}=B.current,Je=he.get(Ve),wt=Je&&Je.rect.current?{id:Je.id,rect:Je.rect.current,data:Je.data,disabled:Je.disabled}:null,Te={active:ft,activatorEvent:Ue,collisions:ht,delta:{x:Ee.x,y:Ee.y},over:wt};Zn.unstable_batchedUpdates(()=>{ve(wt),Ce==null||Ce(Te),w({type:"onDragOver",event:Te})})},[Ve]),ps(()=>{Se.current={activatorEvent:q,active:N,activeNode:De,collisionRect:se,collisions:je,droppableRects:J,draggableNodes:S,draggingNode:zt,draggingNodeRect:Rt,droppableContainers:A,over:te,scrollableAncestors:ne,scrollAdjustedTranslate:fe},M.current={initial:Rt,translated:se}},[N,De,je,se,S,zt,Rt,J,A,te,ne,fe]),$5({...be,delta:I,draggingRect:se,pointerCoordinates:G,scrollableAncestors:ne,scrollableAncestorRects:ye});const Lt=p.useMemo(()=>({active:N,activeNode:De,activeNodeRect:_e,activatorEvent:q,collisions:je,containerNodeRect:Ae,dragOverlay:it,draggableNodes:S,droppableContainers:A,droppableRects:J,over:te,measureDroppableContainers:ae,scrollableAncestors:ne,scrollableAncestorRects:ye,measuringConfiguration:U,measuringScheduled:Pe,windowRect:ge}),[N,De,_e,q,je,Ae,it,S,A,J,te,ae,ne,ye,U,Pe,ge]),Tn=p.useMemo(()=>({activatorEvent:q,activators:sr,active:N,activeNodeRect:_e,ariaDescribedById:{draggable:F},dispatch:x,draggableNodes:S,over:te,measureDroppableContainers:ae}),[q,sr,N,_e,x,F,S,te,ae]);return Q.createElement(XT.Provider,{value:_},Q.createElement(Nc.Provider,{value:Tn},Q.createElement(fI.Provider,{value:Lt},Q.createElement(Xf.Provider,{value:Fe},u)),Q.createElement(a9,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Q.createElement(d5,{...a,hiddenTextDescribedById:F}));function or(){const ft=(K==null?void 0:K.autoScrollEnabled)===!1,Ue=typeof l=="object"?l.enabled===!1:l===!1,ht=O&&!ft&&!Ue;return typeof l=="object"?{...l,enabled:ht}:{enabled:ht}}}),d9=p.createContext(null),E_="button",f9="Draggable";function h9(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=Qf(f9),{activators:i,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=p.useContext(Nc),{role:v=E_,roleDescription:C="draggable",tabIndex:y=0}=s??{},E=(l==null?void 0:l.id)===e,x=p.useContext(E?Xf:d9),[w,_]=$d(),[R,D]=$d(),O=Z5(i,e),T=ac(n);ps(()=>(h.set(e,{id:e,key:o,node:w,activatorNode:R,data:T}),()=>{const I=h.get(e);I&&I.key===o&&h.delete(e)}),[h,e]);const S=p.useMemo(()=>({role:v,tabIndex:y,"aria-disabled":r,"aria-pressed":E&&v===E_?!0:void 0,"aria-roledescription":C,"aria-describedby":d.draggable}),[r,v,y,E,C,d.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:S,isDragging:E,listeners:r?void 0:O,node:w,over:m,setNodeRef:_,setActivatorNodeRef:D,transform:x}}function p9(){return p.useContext(fI)}const m9="Droppable",g9={timeout:25};function v9(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=Qf(m9),{active:i,dispatch:a,over:l,measureDroppableContainers:u}=p.useContext(Nc),d=p.useRef({disabled:n}),h=p.useRef(!1),m=p.useRef(null),v=p.useRef(null),{disabled:C,updateMeasurementsFor:y,timeout:E}={...g9,...s},x=ac(y??r),w=p.useCallback(()=>{if(!h.current){h.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),v.current=null},E)},[E]),_=Yf({callback:w,disabled:C||!i}),R=p.useCallback((S,I)=>{_&&(I&&(_.unobserve(I),h.current=!1),S&&_.observe(S))},[_]),[D,O]=$d(R),T=ac(e);return p.useEffect(()=>{!_||!D.current||(_.disconnect(),h.current=!1,_.observe(D.current))},[D,_]),p.useEffect(()=>(a({type:Ft.RegisterDroppable,element:{id:r,key:o,disabled:n,node:D,rect:m,data:T}}),()=>a({type:Ft.UnregisterDroppable,key:o,id:r})),[r]),p.useEffect(()=>{n!==d.current.disabled&&(a({type:Ft.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,a]),{active:i,rect:m,isOver:(l==null?void 0:l.id)===r,node:D,over:l,setNodeRef:O}}function y9(t){let{animation:e,children:n}=t;const[r,s]=p.useState(null),[o,i]=p.useState(null),a=Bd(n);return!n&&!r&&a&&s(a),ps(()=>{if(!o)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){s(null);return}Promise.resolve(e(u,o)).then(()=>{s(null)})},[e,r,o]),Q.createElement(Q.Fragment,null,n,r?p.cloneElement(r,{ref:i}):null)}const w9={x:0,y:0,scaleX:1,scaleY:1};function x9(t){let{children:e}=t;return Q.createElement(Nc.Provider,{value:dI},Q.createElement(Xf.Provider,{value:w9},e))}const _9={position:"fixed",touchAction:"none"},E9=t=>cy(t)?"transform 250ms ease":void 0,b9=p.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:s,children:o,className:i,rect:a,style:l,transform:u,transition:d=E9}=t;if(!a)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={..._9,width:a.width,height:a.height,top:a.top,left:a.left,transform:wa.Transform.toString(h),transformOrigin:s&&r?p5(r,a):void 0,transition:typeof d=="function"?d(r):d,...l};return Q.createElement(n,{className:i,style:m,ref:e},o)}),S9=t=>e=>{let{active:n,dragOverlay:r}=e;const s={},{styles:o,className:i}=t;if(o!=null&&o.active)for(const[a,l]of Object.entries(o.active))l!==void 0&&(s[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(o!=null&&o.dragOverlay)for(const[a,l]of Object.entries(o.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[l,u]of Object.entries(s))n.node.style.setProperty(l,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},C9=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:wa.Transform.toString(e)},{transform:wa.Transform.toString(n)}]},T9={duration:250,easing:"ease",keyframes:C9,sideEffects:S9({styles:{active:{opacity:"0"}}})};function I9(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=t;return Gf((o,i)=>{if(e===null)return;const a=n.get(o);if(!a)return;const l=a.node.current;if(!l)return;const u=uI(i);if(!u)return;const{transform:d}=Cn(i).getComputedStyle(i),h=ZT(d);if(!h)return;const m=typeof e=="function"?e:A9(e);return iI(l,s.draggable.measure),m({active:{id:o,data:a.data,node:l,rect:s.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function A9(t){const{duration:e,easing:n,sideEffects:r,keyframes:s}={...T9,...t};return o=>{let{active:i,dragOverlay:a,transform:l,...u}=o;if(!e)return;const d={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},h={scaleX:l.scaleX!==1?i.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?i.rect.height*l.scaleY/a.rect.height:1},m={x:l.x-d.x,y:l.y-d.y,...h},v=s({...u,active:i,dragOverlay:a,transform:{initial:l,final:m}}),[C]=v,y=v[v.length-1];if(JSON.stringify(C)===JSON.stringify(y))return;const E=r==null?void 0:r({active:i,dragOverlay:a,...u}),x=a.node.animate(v,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{E==null||E(),w()}})}}let b_=0;function R9(t){return p.useMemo(()=>{if(t!=null)return b_++,b_},[t])}const k9=Q.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:s,transition:o,modifiers:i,wrapperElement:a="div",className:l,zIndex:u=999}=t;const{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:v,draggableNodes:C,droppableContainers:y,dragOverlay:E,over:x,measuringConfiguration:w,scrollableAncestors:_,scrollableAncestorRects:R,windowRect:D}=p9(),O=p.useContext(Xf),T=R9(h==null?void 0:h.id),S=hI(i,{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:v,draggingNodeRect:E.rect,over:x,overlayNodeRect:E.rect,scrollableAncestors:_,scrollableAncestorRects:R,transform:O,windowRect:D}),I=py(m),A=I9({config:r,draggableNodes:C,droppableContainers:y,measuringConfiguration:w}),P=I?E.setRef:void 0;return Q.createElement(x9,null,Q.createElement(y9,{animation:A},h&&T?Q.createElement(b9,{key:T,id:h.id,ref:P,as:a,activatorEvent:d,adjustScale:e,className:l,transition:o,rect:I,style:{zIndex:u,...s},transform:S},n):null))});function S_(t,[e,n]){return Math.min(n,Math.max(e,t))}var N9=p.createContext(void 0);function my(t){const e=p.useContext(N9);return t||e||"ltr"}function pI(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var P9=[" ","Enter","ArrowUp","ArrowDown"],D9=[" ","Enter"],Zo="Select",[Jf,Zf,M9]=ev(Zo),[Da,o6]=gs(Zo,[M9,yf]),eh=yf(),[O9,go]=Da(Zo),[j9,L9]=Da(Zo),mI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:m,required:v,form:C}=t,y=eh(e),[E,x]=p.useState(null),[w,_]=p.useState(null),[R,D]=p.useState(!1),O=my(u),[T,S]=Ko({prop:r,defaultProp:s??!1,onChange:o,caller:Zo}),[I,A]=Ko({prop:i,defaultProp:a,onChange:l,caller:Zo}),P=p.useRef(null),M=E?C||!!E.closest("form"):!0,[N,L]=p.useState(new Set),K=Array.from(N).map(W=>W.props.value).join(";");return f.jsx(fM,{...y,children:f.jsxs(O9,{required:v,scope:e,trigger:E,onTriggerChange:x,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:Ys(),value:I,onValueChange:A,open:T,onOpenChange:S,dir:O,triggerPointerDownPosRef:P,disabled:m,children:[f.jsx(Jf.Provider,{scope:e,children:f.jsx(j9,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(W=>{L(q=>new Set(q).add(W))},[]),onNativeOptionRemove:p.useCallback(W=>{L(q=>{const V=new Set(q);return V.delete(W),V})},[]),children:n})}),M?f.jsxs(FI,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:W=>A(W.target.value),disabled:m,form:C,children:[I===void 0?f.jsx("option",{value:""}):null,Array.from(N)]},K):null]})})};mI.displayName=Zo;var gI="SelectTrigger",vI=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=eh(n),i=go(gI,n),a=i.disabled||r,l=rt(e,i.onTriggerChange),u=Zf(n),d=p.useRef("touch"),[h,m,v]=BI(y=>{const E=u().filter(_=>!_.disabled),x=E.find(_=>_.value===i.value),w=UI(E,y,x);w!==void 0&&i.onValueChange(w.value)}),C=y=>{a||(i.onOpenChange(!0),v()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(aC,{asChild:!0,...o,children:f.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":$I(i.value)?"":void 0,...s,ref:l,onClick:xe(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&C(y)}),onPointerDown:xe(s.onPointerDown,y=>{d.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(C(y),y.preventDefault())}),onKeyDown:xe(s.onKeyDown,y=>{const E=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(E&&y.key===" ")&&P9.includes(y.key)&&(C(),y.preventDefault())})})})});vI.displayName=gI;var yI="SelectValue",wI=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,l=go(yI,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,h=rt(e,l.onValueNodeChange);return rn(()=>{u(d)},[u,d]),f.jsx(Oe.span,{...a,ref:h,style:{pointerEvents:"none"},children:$I(l.value)?f.jsx(f.Fragment,{children:i}):o})});wI.displayName=yI;var V9="SelectIcon",xI=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});xI.displayName=V9;var F9="SelectPortal",_I=t=>f.jsx(uf,{asChild:!0,...t});_I.displayName=F9;var ei="SelectContent",EI=p.forwardRef((t,e)=>{const n=go(ei,t.__scopeSelect),[r,s]=p.useState();if(rn(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Zn.createPortal(f.jsx(bI,{scope:t.__scopeSelect,children:f.jsx(Jf.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),o):null}return f.jsx(SI,{...t,ref:e})});EI.displayName=ei;var cr=10,[bI,vo]=Da(ei),$9="SelectContentImpl",B9=la("SelectContent.RemoveScroll"),SI=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:C,hideWhenDetached:y,avoidCollisions:E,...x}=t,w=go(ei,n),[_,R]=p.useState(null),[D,O]=p.useState(null),T=rt(e,X=>R(X)),[S,I]=p.useState(null),[A,P]=p.useState(null),M=Zf(n),[N,L]=p.useState(!1),K=p.useRef(!1);p.useEffect(()=>{if(_)return IT(_)},[_]),yT();const W=p.useCallback(X=>{const[be,...Xe]=M().map(Se=>Se.ref.current),[_e]=Xe.slice(-1),Ae=document.activeElement;for(const Se of X)if(Se===Ae||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===be&&D&&(D.scrollTop=0),Se===_e&&D&&(D.scrollTop=D.scrollHeight),Se==null||Se.focus(),document.activeElement!==Ae))return},[M,D]),q=p.useCallback(()=>W([S,_]),[W,S,_]);p.useEffect(()=>{N&&q()},[N,q]);const{onOpenChange:V,triggerPointerDownPosRef:B}=w;p.useEffect(()=>{if(_){let X={x:0,y:0};const be=_e=>{var Ae,Se;X={x:Math.abs(Math.round(_e.pageX)-(((Ae=B.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((Se=B.current)==null?void 0:Se.y)??0))}},Xe=_e=>{X.x<=10&&X.y<=10?_e.preventDefault():_.contains(_e.target)||V(!1),document.removeEventListener("pointermove",be),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[_,V,B]),p.useEffect(()=>{const X=()=>V(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[V]);const[F,Z]=BI(X=>{const be=M().filter(Ae=>!Ae.disabled),Xe=be.find(Ae=>Ae.ref.current===document.activeElement),_e=UI(be,X,Xe);_e&&setTimeout(()=>_e.ref.current.focus())}),U=p.useCallback((X,be,Xe)=>{const _e=!K.current&&!Xe;(w.value!==void 0&&w.value===be||_e)&&(I(X),_e&&(K.current=!0))},[w.value]),J=p.useCallback(()=>_==null?void 0:_.focus(),[_]),ae=p.useCallback((X,be,Xe)=>{const _e=!K.current&&!Xe;(w.value!==void 0&&w.value===be||_e)&&P(X)},[w.value]),Pe=r==="popper"?Zm:CI,De=Pe===Zm?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:v,sticky:C,hideWhenDetached:y,avoidCollisions:E}:{};return f.jsx(bI,{scope:n,content:_,viewport:D,onViewportChange:O,itemRefCallback:U,selectedItem:S,onItemLeave:J,itemTextRefCallback:ae,focusSelectedItem:q,selectedItemText:A,position:r,isPositioned:N,searchRef:F,children:f.jsx(ny,{as:B9,allowPinchZoom:!0,children:f.jsx(ty,{asChild:!0,trapped:w.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:xe(s,X=>{var be;(be=w.trigger)==null||be.focus({preventScroll:!0}),X.preventDefault()}),children:f.jsx(gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:f.jsx(Pe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:X=>X.preventDefault(),...x,...De,onPlaced:()=>L(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:xe(x.onKeyDown,X=>{const be=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!be&&X.key.length===1&&Z(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let _e=M().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(X.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Ae=X.target,Se=_e.indexOf(Ae);_e=_e.slice(Se+1)}setTimeout(()=>W(_e)),X.preventDefault()}})})})})})})});SI.displayName=$9;var U9="SelectItemAlignedPosition",CI=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=go(ei,n),i=vo(ei,n),[a,l]=p.useState(null),[u,d]=p.useState(null),h=rt(e,T=>d(T)),m=Zf(n),v=p.useRef(!1),C=p.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:x,focusSelectedItem:w}=i,_=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&E&&x){const T=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),A=x.getBoundingClientRect();if(o.dir!=="rtl"){const Ae=A.left-S.left,Se=I.left-Ae,ut=T.left-Se,it=T.width+ut,zt=Math.max(it,S.width),Rt=window.innerWidth-cr,gn=S_(Se,[cr,Math.max(cr,Rt-zt)]);a.style.minWidth=it+"px",a.style.left=gn+"px"}else{const Ae=S.right-A.right,Se=window.innerWidth-I.right-Ae,ut=window.innerWidth-T.right-Se,it=T.width+ut,zt=Math.max(it,S.width),Rt=window.innerWidth-cr,gn=S_(Se,[cr,Math.max(cr,Rt-zt)]);a.style.minWidth=it+"px",a.style.right=gn+"px"}const P=m(),M=window.innerHeight-cr*2,N=y.scrollHeight,L=window.getComputedStyle(u),K=parseInt(L.borderTopWidth,10),W=parseInt(L.paddingTop,10),q=parseInt(L.borderBottomWidth,10),V=parseInt(L.paddingBottom,10),B=K+W+N+V+q,F=Math.min(E.offsetHeight*5,B),Z=window.getComputedStyle(y),U=parseInt(Z.paddingTop,10),J=parseInt(Z.paddingBottom,10),ae=T.top+T.height/2-cr,Pe=M-ae,De=E.offsetHeight/2,X=E.offsetTop+De,be=K+W+X,Xe=B-be;if(be<=ae){const Ae=P.length>0&&E===P[P.length-1].ref.current;a.style.bottom="0px";const Se=u.clientHeight-y.offsetTop-y.offsetHeight,ut=Math.max(Pe,De+(Ae?J:0)+Se+q),it=be+ut;a.style.height=it+"px"}else{const Ae=P.length>0&&E===P[0].ref.current;a.style.top="0px";const ut=Math.max(ae,K+y.offsetTop+(Ae?U:0)+De)+Xe;a.style.height=ut+"px",y.scrollTop=be-ae+y.offsetTop}a.style.margin=`${cr}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[m,o.trigger,o.valueNode,a,u,y,E,x,o.dir,r]);rn(()=>_(),[_]);const[R,D]=p.useState();rn(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const O=p.useCallback(T=>{T&&C.current===!0&&(_(),w==null||w(),C.current=!1)},[_,w]);return f.jsx(W9,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:O,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:f.jsx(Oe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});CI.displayName=U9;var z9="SelectPopperPosition",Zm=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cr,...o}=t,i=eh(n);return f.jsx(lC,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Zm.displayName=z9;var[W9,gy]=Da(ei,{}),eg="SelectViewport",TI=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=vo(eg,n),i=gy(eg,n),a=rt(e,o.onViewportChange),l=p.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Jf.Slot,{scope:n,children:f.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:xe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&h){const v=Math.abs(l.current-d.scrollTop);if(v>0){const C=window.innerHeight-cr*2,y=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),x=Math.max(y,E);if(x<C){const w=x+v,_=Math.min(C,w),R=w-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=R>0?R:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});TI.displayName=eg;var II="SelectGroup",[H9,q9]=Da(II),K9=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ys();return f.jsx(H9,{scope:n,id:s,children:f.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});K9.displayName=II;var AI="SelectLabel",RI=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=q9(AI,n);return f.jsx(Oe.div,{id:s.id,...r,ref:e})});RI.displayName=AI;var qd="SelectItem",[G9,kI]=Da(qd),NI=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=go(qd,n),l=vo(qd,n),u=a.value===r,[d,h]=p.useState(o??""),[m,v]=p.useState(!1),C=rt(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,s)}),y=Ys(),E=p.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(G9,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:p.useCallback(w=>{h(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:f.jsx(Jf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(Oe.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:C,onFocus:xe(i.onFocus,()=>v(!0)),onBlur:xe(i.onBlur,()=>v(!1)),onClick:xe(i.onClick,()=>{E.current!=="mouse"&&x()}),onPointerUp:xe(i.onPointerUp,()=>{E.current==="mouse"&&x()}),onPointerDown:xe(i.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:xe(i.onPointerMove,w=>{var _;E.current=w.pointerType,s?(_=l.onItemLeave)==null||_.call(l):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(i.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:xe(i.onKeyDown,w=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&w.key===" "||(D9.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});NI.displayName=qd;var ul="SelectItemText",PI=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=go(ul,n),a=vo(ul,n),l=kI(ul,n),u=L9(ul,n),[d,h]=p.useState(null),m=rt(e,x=>h(x),l.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,l.value,l.disabled)}),v=d==null?void 0:d.textContent,C=p.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=u;return rn(()=>(y(C),()=>E(C)),[y,E,C]),f.jsxs(f.Fragment,{children:[f.jsx(Oe.span,{id:l.textId,...o,ref:m}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Zn.createPortal(o.children,i.valueNode):null]})});PI.displayName=ul;var DI="SelectItemIndicator",MI=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return kI(DI,n).isSelected?f.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});MI.displayName=DI;var tg="SelectScrollUpButton",OI=p.forwardRef((t,e)=>{const n=vo(tg,t.__scopeSelect),r=gy(tg,t.__scopeSelect),[s,o]=p.useState(!1),i=rt(e,r.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(LI,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});OI.displayName=tg;var ng="SelectScrollDownButton",jI=p.forwardRef((t,e)=>{const n=vo(ng,t.__scopeSelect),r=gy(ng,t.__scopeSelect),[s,o]=p.useState(!1),i=rt(e,r.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(LI,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});jI.displayName=ng;var LI=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=vo("SelectScrollButton",n),i=p.useRef(null),a=Zf(n),l=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),rn(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:xe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:xe(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:xe(s.onPointerLeave,()=>{l()})})}),Q9="SelectSeparator",VI=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});VI.displayName=Q9;var rg="SelectArrow",Y9=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=eh(n),o=go(rg,n),i=vo(rg,n);return o.open&&i.position==="popper"?f.jsx(cC,{...s,...r,ref:e}):null});Y9.displayName=rg;var X9="SelectBubbleInput",FI=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),o=rt(r,s),i=pI(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==e&&d){const h=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[i,e]),f.jsx(Oe.select,{...n,style:{...nS,...n.style},ref:o,defaultValue:e})});FI.displayName=X9;function $I(t){return t===""||t===void 0}function BI(t){const e=rr(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const a=n.current+i;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function UI(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=J9(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function J9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Z9=mI,zI=vI,e$=wI,t$=xI,n$=_I,WI=EI,r$=TI,HI=RI,qI=NI,s$=PI,o$=MI,KI=OI,GI=jI,QI=VI;const No=Z9,Po=e$,$s=p.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(zI,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(t$,{asChild:!0,children:f.jsx(CS,{className:"h-4 w-4 opacity-50"})})]}));$s.displayName=zI.displayName;const YI=p.forwardRef(({className:t,...e},n)=>f.jsx(KI,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(bP,{className:"h-4 w-4"})}));YI.displayName=KI.displayName;const XI=p.forwardRef(({className:t,...e},n)=>f.jsx(GI,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(CS,{className:"h-4 w-4"})}));XI.displayName=GI.displayName;const Bs=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(n$,{children:f.jsxs(WI,{ref:s,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(YI,{}),f.jsx(r$,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(XI,{})]})}));Bs.displayName=WI.displayName;const i$=p.forwardRef(({className:t,...e},n)=>f.jsx(HI,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));i$.displayName=HI.displayName;const gr=p.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(qI,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(o$,{children:f.jsx(xd,{className:"h-4 w-4"})})}),f.jsx(s$,{children:e})]}));gr.displayName=qI.displayName;const a$=p.forwardRef(({className:t,...e},n)=>f.jsx(QI,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));a$.displayName=QI.displayName;const JI=p.forwardRef(({className:t,...e},n)=>f.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));JI.displayName="Textarea";var l$="Label",ZI=p.forwardRef((t,e)=>f.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ZI.displayName=l$;var eA=ZI;const c$=hf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Nt=p.forwardRef(({className:t,...e},n)=>f.jsx(eA,{ref:n,className:Re(c$(),t),...e}));Nt.displayName=eA.displayName;const u$=({date:t,booking:e,onAssignmentComplete:n,displayBooking:r,children:s})=>{const[o,i]=p.useState(!1),[a,l]=p.useState(""),[u,d]=p.useState(""),[h,m]=p.useState(!1),{cleaners:v,assignCleaner:C,getAvailableCleaners:y}=Wf(),E=y(t),x=async()=>{if(a){console.log("Modal assigning cleaner:",{bookingId:e.id,cleanerId:a,date:t,notes:u.trim()||void 0,estimatedDuration:120}),m(!0);try{const R=await C({bookingId:e.id,cleanerId:a,date:t,originalBookingDate:e.checkOut,guestName:e.guestName,notes:u.trim()||void 0,estimatedDuration:120});console.log("Assignment completed successfully:",R),n==null||n(R),i(!1),l(""),d("")}catch(R){console.error("Failed to assign cleaner:",R)}finally{m(!1)}}},w=v.find(R=>R.id===a),_=r||e;return f.jsxs(Cl,{open:o,onOpenChange:i,children:[f.jsx(Gu,{asChild:!0,children:s}),f.jsxs(Ui,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[f.jsxs(zi,{children:[f.jsxs(Wi,{className:"flex items-center gap-2",children:[f.jsx(ca,{className:"h-5 w-5"}),"Assign Cleaning for ",new Date(t+"T00:00:00").toLocaleDateString("en-GB")]}),f.jsx(iy,{children:"Select a cleaner to assign for this cleaning task."})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg",children:[f.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[f.jsx(ca,{className:"h-4 w-4"}),"Property Details"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"font-medium",children:_.guestName}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Check-in: ",new Date(_.checkIn).toLocaleDateString()]}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:[_.guests," guest",_.guests!==1?"s":""]})]})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"cleaner-select",children:"Select Cleaner"}),f.jsxs(No,{value:a,onValueChange:l,children:[f.jsx($s,{id:"cleaner-select",children:f.jsx(Po,{placeholder:"Choose a cleaner"})}),f.jsx(Bs,{children:E.map(R=>f.jsx(gr,{value:R.id,children:f.jsxs("div",{className:"flex items-center justify-between w-full",children:[f.jsx("span",{children:R.name}),R.flatRate&&f.jsxs(rs,{variant:"outline",className:"ml-2",children:[R.currency||"JPY"," ",R.flatRate]})]})},R.id))})]})]}),w&&f.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[f.jsx(_d,{className:"h-4 w-4"})," ",w.name]}),f.jsxs("div",{className:"text-sm text-muted-foreground mt-1 flex flex-col gap-1",children:[w.phone&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(ov,{className:"h-3 w-3"}),w.phone]}),w.email&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(sv,{className:"h-3 w-3"}),w.email]})]}),w.specialties&&w.specialties.length>0&&f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Specialties:"}),f.jsx("div",{className:"flex flex-wrap gap-1",children:w.specialties.map(R=>f.jsx(rs,{variant:"outline",className:"text-xs",children:R},R))})]})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"notes",children:"Additional Notes"}),f.jsx(JI,{id:"notes",placeholder:"Any special instructions for the cleaner...",value:u,onChange:R=>d(R.target.value),rows:3})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx(ze,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),f.jsx(ze,{onClick:x,disabled:!a||h,children:h?"Assigning...":"Assign Cleaner"})]})]})]})]})},C_=({date:t,booking:e,onAssignmentComplete:n,isDragging:r=!1,isNearDropZone:s=!1,isDraggable:o=!0,displayBooking:i})=>{const{attributes:a,listeners:l,setNodeRef:u,transform:d}=h9({id:`cleaning-${t}-${e.id}`,data:{date:t,booking:e,type:"cleaning-assignment"},disabled:!o}),h={transform:wa.Translate.toString(d)};return f.jsx(u$,{date:t,booking:e,displayBooking:i,onAssignmentComplete:n,children:f.jsx("div",{ref:u,style:h,...a,...l,className:Re("absolute bottom-2 left-2 right-2 transition-all duration-200 rounded-sm border","hover:bg-red-100 border-red-300 bg-red-50",r&&"opacity-50 cursor-grabbing",s&&"scale-105","cursor-grab active:cursor-grabbing"),title:"Click to assign cleaner, drag to move",children:f.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-center text-red-700",children:"Ten清掃不足"})})})},d$=({date:t,isCurrentMonth:e,isToday:n,isValidDropZone:r,isNearDrag:s,isDragging:o,children:i,className:a})=>{const l=t.toLocaleDateString("en-CA"),{setNodeRef:u,isOver:d}=v9({id:`calendar-cell-${l}`,data:{date:l,type:"calendar-cell"}});return f.jsx("div",{ref:u,className:Re("p-2 border-r border-b relative",!e&&"bg-muted/20 text-muted-foreground",n&&"bg-primary/5 border-primary/20",r&&o&&d&&"bg-blue-50 border-blue-200",r&&o&&s&&"animate-pulse",a),children:i})},f$=({originalDate:t,newDate:e,originalDayIndex:n,newDayIndex:r,weekIndex:s})=>t===e?null:Math.floor(n/7)===Math.floor(r/7)?f.jsxs("div",{className:"absolute bottom-8 left-2 right-2 flex items-center justify-center text-blue-600 text-[10px] opacity-60",children:[f.jsx("span",{children:"Moved"}),f.jsx("svg",{className:"absolute right-2 w-14 h-4",viewBox:"0 0 56 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{d:"M0 8h50M50 8l-6-6M50 8l-6 6",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round"})})]}):f.jsxs("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 flex items-center gap-1 text-blue-600 text-xs opacity-60",children:[f.jsx("span",{className:"text-[10px]",children:"Moved"}),f.jsx(EP,{className:"w-3 h-3"})]}),gp=({cleanerName:t,isVisible:e})=>e?f.jsx("div",{className:"absolute bottom-2 left-2 right-2 transition-all duration-200 rounded-sm border border-dashed border-gray-300 bg-gray-50/50 opacity-50",children:f.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-center text-gray-500",children:t})}):null,h$=()=>{const[t,e]=p.useState(new Date),[n,r]=p.useState({isOpen:!1,assignment:null,cleaner:null,booking:null}),[s,o]=p.useState(null),[i,a]=p.useState(new Map),[l,u]=p.useState(null),[d,h]=p.useState(null),[m,v]=p.useState(new Set),[C,y]=p.useState(new Map),E=h5(f5(hy,{activationConstraint:{delay:1e3,tolerance:5}})),{bookings:x,loading:w,error:_,refetch:R}=oj(),{cleaners:D,assignCleaner:O,getAvailableCleaners:T,refetch:S}=Wf(),{cleaningAssignments:I,refetch:A,createOrUpdateAssignment:P,updateAssignmentOptimistically:M,syncAssignments:N}=gT(),[L,K]=p.useState(!1),W=async()=>{if(L)return;K(!0);const de=t.getFullYear(),ge=t.getMonth();try{const ne={};I.forEach(G=>{const le=new Date(G.currentCleaningDate);le.getFullYear()===de&&le.getMonth()===ge&&G.cleanerId&&(ne[G.cleanerId]=(ne[G.cleanerId]||0)+1)});const ye=I.filter(G=>{const le=new Date(G.currentCleaningDate);return le.getFullYear()===de&&le.getMonth()===ge&&!G.cleanerId});let we=0;for(const G of ye){const le=T(G.currentCleaningDate);if(le.length===0)continue;le.sort((ce,fe)=>(ne[ce.id]||0)-(ne[fe.id]||0));const pe=le[0];try{await O({bookingId:G.bookingId,cleanerId:pe.id,date:G.currentCleaningDate,status:"assigned",notes:"Auto-assigned (fair distribution)",estimatedDuration:120}),ne[pe.id]=(ne[pe.id]||0)+1,we++}catch(ce){console.error("Auto-assign failed for",G,ce)}}mr({title:"Fair distribution completed",description:`${we} assignments auto-assigned.`}),S(),A()}catch(ne){console.error("Fair distribution error",ne),mr({title:"Error",description:"Failed to suggest fair distribution.",variant:"destructive"})}finally{K(!1)}},q=async()=>{`${t.getFullYear()}${String(t.getMonth()+1).padStart(2,"0")}`,mr({title:"Feature Disabled",description:"LINE notifications have been removed. Schedules are managed directly in the calendar.",variant:"destructive"})},V=["January","February","March","April","May","June","July","August","September","October","November","December"],B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],{calendarDays:F,bookingSpans:Z}=p.useMemo(()=>{const de=t.getFullYear(),ge=t.getMonth(),ne=new Date(de,ge,1),ye=new Date(de,ge+1,0),we=ne.getDay(),G=[];for(let se=0;se<we-1;se++)G.push({date:null,dayIndex:se,weekIndex:Math.floor(se/7),dayOfWeek:se%7});if(we>0){const se=new Date(de,ge,0);G.push({date:new Date(se),dayIndex:we-1,weekIndex:Math.floor((we-1)/7),dayOfWeek:(we-1)%7})}const le=new Date(ne);for(let se=0;se<ye.getDate();se++)G.push({date:new Date(le),dayIndex:we+se,weekIndex:Math.floor((we+se)/7),dayOfWeek:(we+se)%7}),le.setDate(le.getDate()+1);const pe=Math.ceil(G.length/7)*7;for(let se=G.length;se<pe;se++)G.push({date:null,dayIndex:se,weekIndex:Math.floor(se/7),dayOfWeek:se%7});const ce=[],fe=new Set;return x.forEach(se=>{var dt,Ir,sr;if(fe.has(se.id))return;fe.add(se.id);const je=new Date(se.checkIn),Ve=new Date(se.checkOut);let te=!1;const ve=G.findIndex(Lt=>Lt.date&&Lt.date.toDateString()===je.toDateString()),We=G.findIndex(Lt=>Lt.date&&Lt.date.toDateString()===Ve.toDateString());if((se.guestName==="Joffrey Swita"||se.guestName==="Maximilian Kolb")&&console.log(`Finding positions for ${se.guestName}:`,{checkIn:je.toDateString(),checkOut:Ve.toDateString(),startDayIndex:ve,endDayIndex:We}),ve===-1)return;let Fe;if(We===-1){let Lt=-1;for(let Tn=G.length-1;Tn>=0;Tn--)if(G[Tn].date!==null){Lt=Tn;break}Fe=Lt}else Fe=We;let et=ve;for(;et<=Fe;){if(!((dt=G[et])!=null&&dt.date)){et++;continue}const Lt=Math.floor(et/7),Tn=et%7,or=(Lt+1)*7-1;let Ue=Math.min(Fe,or);for(;Ue>et&&!((Ir=G[Ue])!=null&&Ir.date);)Ue--;const ht=Ue-et+1,he=0,Ee=x.some(Te=>{if(Te.id===se.id)return!1;const kt=new Date(Te.checkOut),Ze=new Date(Te.checkIn),at=new Date(je),qr=new Date(Ve);return at<kt&&qr>Ze}),Ce=(sr=G[Ue])==null?void 0:sr.date,Je=Ce&&Ce.getDate()===new Date(Ce.getFullYear(),Ce.getMonth()+1,0).getDate(),wt=!te;wt&&(te=!0),ce.push({booking:se,startWeek:Lt,startDay:Tn,spanDays:ht,hasOverlap:Ee,stackLevel:he,isFinalSegment:Ue===Fe,isCheckInSegment:et===ve,isCheckOutSegment:Ue===Fe,isLastDayOfMonth:Je||!1,isFirstVisibleSegment:wt}),et=Ue+1}}),{calendarDays:G,bookingSpans:ce}},[t,x]),U=()=>{e(new Date(t.getFullYear(),t.getMonth()-1))},J=()=>{e(new Date(t.getFullYear(),t.getMonth()+1))},ae=()=>{e(new Date)},Pe=de=>de?de.getMonth()===t.getMonth():!1,De=de=>{if(!de)return!1;const ge=new Date;return de.toDateString()===ge.toDateString()},be=(()=>{const de=t.getFullYear(),ge=t.getMonth(),ne=x.filter(le=>{const pe=new Date(le.checkOut);return le.status==="confirmed"&&pe.getFullYear()===de&&pe.getMonth()===ge}).length,ye=I.filter(le=>{const pe=new Date(le.currentCleaningDate);return pe.getFullYear()===de&&pe.getMonth()===ge}),we=ye.filter(le=>le.cleanerId!==null).length,G=ye.filter(le=>le.cleanerId===null).length;return{confirmedBookings:ne,assignedCleanings:we,unassignedCleanings:G}})(),Xe=de=>{if(!de)return[];const ge=de.toLocaleDateString("en-CA"),ne=I.filter(ye=>ye.currentCleaningDate===ge);return ne.length>0?ne.map(we=>x.find(G=>G.id===we.bookingId)).filter(we=>!!we):[]},_e=(de,ge,ne)=>{const ye={id:de.date,date:de.currentCleaningDate,bookingId:de.bookingId,cleanerId:de.cleanerId,status:de.cleanerId?"assigned":"unassigned",assignedAt:de.updatedAt,completedAt:null};r({isOpen:!0,assignment:ye,cleaner:ge,booking:ne})},Ae=()=>{r({isOpen:!1,assignment:null,cleaner:null,booking:null})},Se=()=>{S(),A()},ut=de=>{o(de.active.id),u(null),h(null)},it=de=>{if(s){u({x:de.delta.x,y:de.delta.y});const ge=de.delta.x,ne=de.delta.y,ye=F.filter(pe=>pe.date).filter(pe=>{const ce=pe.date.toLocaleDateString("en-CA");return Xe(pe.date).some(se=>{var Ve;const je=((Ve=i.get(se.id))==null?void 0:Ve.originalDate)||ce;return Rt(je,ce,se)})});let we=null,G=1/0;const le=150;ye.forEach(pe=>{const ce=pe.date.toLocaleDateString("en-CA"),fe=F.findIndex(se=>se.date&&se.date.toLocaleDateString("en-CA")===ce);if(fe!==-1){const se=Math.floor(fe/7),Ve=fe%7*100,te=se*120,ve=Math.sqrt(Math.pow(ge-Ve,2)+Math.pow(ne-te,2));ve<G&&ve<le&&(G=ve,we=ce)}}),h(we)}},zt=de=>{var ye;const{active:ge,over:ne}=de;if(console.log("=== DRAG END DEBUG ==="),console.log("Active ID:",ge.id),console.log("Over ID:",ne.id),console.log("Over data:",ne.data.current),ne&&((ye=ne.data.current)==null?void 0:ye.type)==="calendar-cell"){const we=ge.id,G=we.split("-");if(G.length>=4){const le=`${G[1]}-${G[2]}-${G[3]}`,pe=G.slice(4).join("-"),ce=C.get(pe);console.log("Valid drop zones for booking:",ce);const fe=Array.from(ce||[]);let se=fe[0];if(ne.id&&typeof ne.id=="string"&&ne.id.startsWith("calendar-cell-")){const Ve=ne.id.replace("calendar-cell-","");if(console.log("Over date from ID:",Ve),fe.includes(Ve))se=Ve,console.log("Using over date as drop target:",Ve);else{console.log("Over date not in valid drop zones - no action taken"),o(null),u(null),h(null);return}}console.log("Using drop zone:",{originalDate:le,newDate:se,bookingId:pe});const je=I.find(Ve=>Ve.bookingId===pe&&Ve.currentCleaningDate===le);if(je&&se===je.originalBookingDate){const Ve={...je,currentCleaningDate:je.originalBookingDate,bookingDateChanged:!1};M(Ve),a(te=>{const ve=new Map(te);return ve.delete(pe),ve}),console.log(`✅ Reverted: ${le} → ${je.originalBookingDate}`),P(Ve).then(()=>{console.log("✅ Reverted assignment in Firestore")}).catch(te=>{console.error("❌ Error reverting assignment:",te),M(je)})}else if(se&&le!==se){const Ve=x.find(We=>We.id===pe);if(!Ve){console.log("Booking not found for ID:",pe);return}const te=je&&je.bookingDateChanged?je.originalBookingDate:le,ve=Rt(te,se,Ve);if(console.log("Valid move:",ve),ve){const We=I.find(Fe=>Fe.bookingId===pe&&Fe.currentCleaningDate===le);if(We){const Fe={...We,currentCleaningDate:se,bookingDateChanged:!0};P(Fe).then(()=>{console.log("✅ Updated assignment in Firestore"),A()}).catch(et=>{console.error("❌ Error updating assignment:",et)})}else console.error("❌ No existing assignment found for booking:",pe);a(Fe=>{const et=new Map(Fe);return et.set(pe,{originalDate:le,newDate:se}),et}),console.log(`✅ Moved: ${le} → ${se}`)}else console.log("❌ Invalid move - drop zone validation failed")}else console.log("❌ Same date or no valid new date")}else console.log("❌ Could not parse active ID:",we)}else console.log("❌ No valid drop target");o(null),u(null),h(null)},Rt=(de,ge,ne)=>{const ye=new Date(de),we=new Date(ge);if(we<=ye)return!1;const G=x.find(pe=>new Date(pe.checkIn)>=ye&&pe.id!==ne.id);if(G){const pe=new Date(G.checkIn);if(we>=pe)return!1}return!x.some(pe=>{if(pe.id===ne.id)return!1;const ce=new Date(pe.checkIn),fe=new Date(pe.checkOut);return we>ce&&we<fe})},gn=p.useCallback(()=>{const de=new Set,ge=new Map,ne=[...x].sort((ye,we)=>new Date(ye.checkOut).getTime()-new Date(we.checkOut).getTime());ne.forEach(ye=>{if(!ye.cleaningRequired)return;const we=new Date(ye.checkOut),G=I.find(ce=>ce.bookingId===ye.id),le=G&&G.bookingDateChanged?new Date(G.originalBookingDate):G?new Date(G.currentCleaningDate):we,pe=ne.find(ce=>new Date(ce.checkIn)>=le&&ce.id!==ye.id);if(pe){const ce=new Date(pe.checkIn);let fe=!1,se=new Set,je=new Date(le);for(je.setDate(je.getDate()+1);je<=ce;)!ne.some(te=>{if(te.id===ye.id)return!1;const ve=new Date(te.checkIn),We=new Date(te.checkOut);return je>ve&&je<We})&&(fe=!0,se.add(je.toLocaleDateString("en-CA"))),je.setDate(je.getDate()+1);G&&G.bookingDateChanged&&(se.add(G.originalBookingDate),se.delete(G.currentCleaningDate),fe=!0),fe&&(de.add(ye.id),ge.set(ye.id,se))}else{let ce=!1,fe=new Set,se=new Date(we);se.setDate(se.getDate()+1);for(let je=0;je<30;je++)!ne.some(te=>{if(te.id===ye.id)return!1;const ve=new Date(te.checkIn),We=new Date(te.checkOut);return se>=ve&&se<We})&&(ce=!0,fe.add(se.toLocaleDateString("en-CA"))),se.setDate(se.getDate()+1);G&&G.bookingDateChanged&&(fe.add(G.originalBookingDate),fe.delete(G.currentCleaningDate),ce=!0),ce&&(de.add(ye.id),ge.set(ye.id,fe))}}),v(de),y(ge)},[x,I]);return p.useEffect(()=>{x.length>0&&gn()},[x,I,gn]),p.useEffect(()=>{if(x.length===0)return;const de=t.getFullYear(),ge=t.getMonth(),ne=new Date(de,ge,1),ye=new Date(de,ge+1,0),G=x.filter(le=>{const pe=new Date(le.checkOut);return pe>=ne&&pe<=ye&&le.cleaningRequired!==!1}).filter(le=>!I.some(pe=>pe.bookingId===le.id&&pe.currentCleaningDate===le.checkOut));G.length>0&&N(G).then(()=>{A()}).catch(()=>{})},[x,t,I]),w?f.jsx("div",{className:"flex items-center justify-center h-96",children:f.jsx(hu,{className:"w-8 h-8 animate-spin text-primary"})}):_?f.jsx(Rn,{className:"max-w-lg mx-auto",children:f.jsxs(kn,{className:"p-6 text-center",children:[f.jsxs("p",{className:"text-destructive mb-4",children:["Error loading bookings: ",_]}),f.jsxs(ze,{onClick:R,variant:"outline",children:[f.jsx(hu,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Rn,{children:f.jsx(kn,{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ca,{className:"w-5 h-5 text-booking-confirmed"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:be.confirmedBookings}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed Bookings"})]})]})})}),f.jsx(Rn,{children:f.jsx(kn,{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 rounded bg-green-500"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:be.assignedCleanings}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Assigned Cleanings"})]})]})})}),f.jsx(Rn,{children:f.jsx(kn,{className:"p-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-5 h-5 rounded bg-red-500"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:be.unassignedCleanings}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Unassigned Cleanings"})]})]})})})]}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsxs(ze,{onClick:W,variant:"outline",size:"sm",disabled:L,children:[f.jsx(RP,{className:Re("w-4 h-4 mr-2",L&&"animate-spin")}),"Suggest Distribution"]}),f.jsxs(ze,{onClick:q,variant:"default",size:"sm",children:[f.jsx(kP,{className:"w-4 h-4 mr-2"}),"Send Schedules"]}),f.jsxs(ze,{onClick:()=>{R(),S(),A()},variant:"outline",size:"sm",children:[f.jsx(hu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),f.jsx(ze,{onClick:ae,variant:"outline",size:"sm",children:"Today"})]}),f.jsxs(u9,{sensors:E,onDragStart:ut,onDragMove:it,onDragEnd:zt,children:[f.jsxs(Rn,{children:[f.jsx(Xs,{children:f.jsxs(Js,{className:"flex items-center justify-between",children:[f.jsxs("span",{children:[V[t.getMonth()]," ",t.getFullYear()]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ze,{variant:"outline",size:"sm",onClick:()=>{R(),S(),A()},disabled:w,children:f.jsx(hu,{className:Re("w-4 h-4",w&&"animate-spin")})}),f.jsx(ze,{variant:"outline",size:"sm",onClick:U,children:f.jsx(TS,{className:"w-4 h-4"})}),f.jsx(ze,{variant:"outline",size:"sm",onClick:J,children:f.jsx(IS,{className:"w-4 h-4"})})]})]})}),f.jsxs(kn,{className:"p-0",children:[f.jsx("div",{className:"grid grid-cols-7 border-b",children:B.map(de=>f.jsx("div",{className:"p-3 text-center font-medium text-muted-foreground bg-muted/30",children:de},de))}),f.jsx("div",{className:"relative",children:Array.from({length:Math.ceil(F.length/7)},(de,ge)=>f.jsx("div",{className:"grid grid-cols-7 relative",style:{minHeight:"120px"},children:f.jsxs(f.Fragment,{children:[F.slice(ge*7,(ge+1)*7).map((ne,ye)=>{var je,Ve;if(!ne.date)return f.jsx("div",{className:"p-2 border-r border-b bg-muted/20"},ne.dayIndex);const we=Xe(ne.date),G=ne.date.toLocaleDateString("en-CA"),le=I.find(te=>te.currentCleaningDate===G);le&&le.cleanerId;const pe=I.find(te=>te.originalBookingDate===G&&te.bookingDateChanged);le!=null&&le.cleanerName,le!=null&&le.cleanerId&&D.find(te=>te.id===le.cleanerId);const ce=le?we.find(te=>te.id===le.bookingId):null;if(ce){const te=new Date(G);x.filter(ve=>new Date(ve.checkIn)>=te&&ve.id!==ce.id).sort((ve,We)=>new Date(ve.checkIn).getTime()-new Date(We.checkIn).getTime())[0]}let fe=!1;if(s){const We=s.split("-").slice(4).join("-"),Fe=C.get(We);Fe&&(fe=Fe.has(G)),(G==="2025-08-02"||G==="2025-08-01")&&console.log(`Drop zone for ${G}:`,{activeDragId:s,draggedBookingId:We,validZonesForBooking:Array.from(Fe||[]),finalIsValidDropZone:fe})}const se=d===G;return f.jsxs(d$,{date:ne.date,isCurrentMonth:Pe(ne.date),isToday:De(ne.date),isValidDropZone:fe,isNearDrag:se,isDragging:!!s,children:[f.jsx("div",{className:"mb-2",children:f.jsx("span",{className:Re("text-sm font-medium",De(ne.date)&&"text-primary font-bold"),children:ne.date.getDate()})}),fe&&we.length===0&&!!s&&f.jsx("div",{className:"absolute bottom-2 left-2 right-2 transition-all duration-200 rounded-sm bg-blue-50/50 opacity-60",style:{border:"2px dotted #93c5fd"},children:f.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-center text-blue-600 h-5"})}),pe&&f.jsx(gp,{cleanerName:"Ten清掃不足",isVisible:!0}),I.filter(te=>te.currentCleaningDate===G).map(te=>{const ve=x.find(dt=>dt.id===te.bookingId);if(!ve)return null;const We=te.cleanerId?D.find(dt=>dt.id===te.cleanerId):null,Fe=new Date(G),et=x.filter(dt=>new Date(dt.checkIn)>=Fe&&dt.id!==ve.id).sort((dt,Ir)=>new Date(dt.checkIn).getTime()-new Date(Ir.checkIn).getTime())[0];return te.cleanerId&&We?f.jsx("div",{className:"absolute bottom-2 left-2 right-2 cursor-pointer transition-all duration-200 rounded-sm border hover:bg-green-200 hover:border-green-400 border-green-300 bg-green-50 group",onClick:()=>_e(te,We,ve),title:"Click to view assignment details",children:f.jsxs("div",{className:"px-2 py-1 text-[10px] font-medium text-center text-green-700 group-hover:text-green-800 flex items-center justify-center gap-1",children:[f.jsx("span",{children:te.cleanerName||"Assigned"}),f.jsx(AP,{className:"h-2 w-2 opacity-60 group-hover:opacity-100"})]})},`${te.bookingId}-assigned`):f.jsxs("div",{className:"contents",children:[s===`cleaning-${G}-${ve.id}`&&f.jsx(gp,{cleanerName:"Ten清掃不足",isVisible:!0},`${te.bookingId}-fade-active`),te.bookingDateChanged&&te.originalBookingDate===G&&f.jsx(gp,{cleanerName:"Ten清掃不足",isVisible:!0},`${te.bookingId}-fade-original`),(!te.bookingDateChanged||te.currentCleaningDate===G)&&s!==`cleaning-${G}-${ve.id}`&&f.jsx(C_,{date:G,booking:ve,displayBooking:et||void 0,onAssignmentComplete:dt=>{console.log("Assignment completed:",dt),S(),A()},isDragging:s===`cleaning-${G}-${ve.id}`,isNearDropZone:se,isDraggable:m.has(ve.id)},`${te.bookingId}-draggable`)]},`assignment-${te.currentCleaningDate}-${te.bookingId}`)}),x.filter(te=>new Date(te.checkOut).toLocaleDateString("en-CA")===G).filter(te=>!I.some(ve=>ve.currentCleaningDate===G&&ve.bookingId===te.id)).map(te=>{const ve=new Date(G),We=x.filter(Fe=>new Date(Fe.checkIn)>=ve&&Fe.id!==te.id).sort((Fe,et)=>new Date(Fe.checkIn).getTime()-new Date(et.checkIn).getTime())[0];return f.jsx(C_,{date:G,booking:te,displayBooking:We||void 0,onAssignmentComplete:Fe=>{console.log("Assignment completed:",Fe),S(),A()},isDragging:s===`cleaning-${G}-${te.id}`,isNearDropZone:se,isDraggable:m.has(te.id)},`placeholder-${G}-${te.id}`)}),I.some(te=>te.bookingDateChanged&&te.originalBookingDate===G)&&f.jsx(f$,{originalDate:((je=I.find(te=>te.bookingDateChanged&&te.originalBookingDate===G))==null?void 0:je.originalBookingDate)||"",newDate:((Ve=I.find(te=>te.bookingDateChanged&&te.originalBookingDate===G))==null?void 0:Ve.currentCleaningDate)||"",originalDayIndex:F.findIndex(te=>te.date&&te.date.toLocaleDateString("en-CA")===G),newDayIndex:F.findIndex(te=>{var ve;return te.date&&te.date.toLocaleDateString("en-CA")===((ve=I.find(We=>We.bookingDateChanged&&We.originalBookingDate===G))==null?void 0:ve.currentCleaningDate)}),weekIndex:ge})]},ne.dayIndex)}),Z.filter(ne=>ne.startWeek===ge).map((ne,ye)=>f.jsx(sj,{booking:ne.booking,startDay:ne.startDay,spanDays:ne.spanDays,weekOffset:ge,hasOverlap:ne.hasOverlap,stackLevel:ne.stackLevel,isFinalSegment:ne.isFinalSegment,isCheckInSegment:ne.isCheckInSegment,isCheckOutSegment:ne.isCheckOutSegment,isLastDayOfMonth:ne.isLastDayOfMonth,isFirstVisibleSegment:ne.isFirstVisibleSegment},`${ne.booking.id}-${ge}-${ye}`))]})},ge))})]})]}),f.jsx(k9,{children:s?f.jsx("div",{className:"px-2 py-1 text-[10px] font-medium text-center text-red-700 bg-red-50 border border-red-300 rounded-sm opacity-80 shadow-none",children:"Ten清掃不足"}):null})]}),n.isOpen&&n.assignment&&n.cleaner&&n.booking&&f.jsx(J3,{assignment:n.assignment,cleaner:n.cleaner,booking:n.booking,displayBooking:(()=>{const de=n.assignment.date,ge=new Date(de),ne=n.booking;return x.filter(we=>new Date(we.checkIn)>=ge&&we.id!==ne.id).sort((we,G)=>new Date(we.checkIn).getTime()-new Date(G.checkIn).getTime())[0]})(),isOpen:n.isOpen,onClose:Ae,onUnassign:Se})]})},yn=p.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));yn.displayName="Input";const p$=()=>{const{cleaners:t,createCleaner:e,updateCleaner:n,deleteCleaner:r}=Wf(),[s,o]=p.useState([]),i=async()=>{try{const L=await At.getWhere("admins","isActive","==",!0);o(L)}catch{console.warn("Failed to load admins")}};p.useEffect(()=>{i()},[]);const[a,l]=p.useState({name:"",flatRate:"",email:"",lineUserId:"",role:"cleaner"}),[u,d]=p.useState(null),[h,m]=p.useState({name:"",phone:"",email:"",flatRate:"",specialties:"",lineUserId:"",role:"cleaner"}),[v,C]=p.useState(null),[y,E]=p.useState(""),[x,w]=p.useState([]),[_,R]=p.useState(!1),[D,O]=p.useState(null),T=async L=>{L.preventDefault();try{if(a.role==="admin")await At.add("admins",{name:a.name,email:a.email||"",lineUserId:a.lineUserId||"",phone:"",isActive:!0}),await i();else{const K={name:a.name,flatRate:parseInt(a.flatRate)||0,currency:"JPY",phone:"",email:a.email||"",lineUserId:a.lineUserId||"",specialties:[],role:"cleaner"};await e(K)}alert("Cleaner added successfully!"),l({name:"",flatRate:"",email:"",lineUserId:"",role:"cleaner"})}catch(K){console.error("Error adding cleaner:",K),alert("Error adding cleaner")}},S=L=>{var K,W;d(L),m({name:L.name||"",phone:L.phone||"",email:L.email||"",flatRate:((K=L.flatRate)==null?void 0:K.toString())||"",specialties:((W=L.specialties)==null?void 0:W.join(", "))||"",lineUserId:L.lineUserId||"",role:L.role||"cleaner"})},I=async L=>{L.preventDefault();const K={...h,flatRate:parseInt(h.flatRate),currency:"JPY",specialties:h.specialties.split(",").map(W=>W.trim()).filter(W=>W)};try{let W=!1;(u.role||"cleaner")==="admin"?(await At.update("admins",u.id,{name:h.name,email:h.email,lineUserId:h.lineUserId,phone:h.phone}),await i()):await n(u.id,K),alert("Cleaner updated successfully!"),d(null),m({name:"",phone:"",email:"",flatRate:"",specialties:"",lineUserId:"",role:"cleaner"})}catch(W){console.error("Error updating cleaner:",W),alert("Error updating cleaner")}},A=async(L,K="cleaner")=>{if(confirm("Are you sure you want to delete this cleaner? This action cannot be undone."))try{K==="admin"?(await At.update("admins",L,{isActive:!1}),await i()):await r(L),alert("Cleaner deleted successfully!"),d(null)}catch(W){console.error("Error deleting cleaner:",W),alert("Error deleting cleaner")}},P=async L=>{C(L),E(""),w([])},M=async()=>{if(!(!y||!v)){R(!0);try{const[L,K]=y.split("-"),W=new Date(parseInt(L),parseInt(K)-1,1),q=new Date(parseInt(L),parseInt(K),0),B=(await At.getWhere("cleaning-assignments","cleanerId","==",v.id)).filter(F=>{const Z=new Date(F.date);return Z>=W&&Z<=q});w(B)}catch(L){console.error("Error loading work history:",L),alert("Error loading work history")}finally{R(!1)}}},N=()=>{const L=[],K=new Date;for(let W=0;W<12;W++){const q=new Date(K.getFullYear(),K.getMonth()-W,1),V=`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`,B=q.toLocaleDateString("en-US",{year:"numeric",month:"long"});L.push({value:V,label:B})}return L};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Rn,{children:[f.jsx(Xs,{children:f.jsx(Js,{children:"Add New Cleaner"})}),f.jsx(kn,{children:f.jsxs("form",{onSubmit:T,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"name",children:"Name *"}),f.jsx(yn,{id:"name",value:a.name,onChange:L=>l({...a,name:L.target.value}),placeholder:"Enter cleaner name",required:!0})]}),f.jsxs("div",{children:[f.jsxs(Nt,{htmlFor:"flatRate",children:["Flat Rate (JPY) ",a.role==="cleaner"?"*":""]}),f.jsx(yn,{id:"flatRate",type:"number",value:a.flatRate,onChange:L=>l({...a,flatRate:L.target.value}),placeholder:"Enter hourly rate",disabled:a.role==="admin",required:a.role==="cleaner"})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"email",children:"Email"}),f.jsx(yn,{id:"email",type:"email",value:a.email,onChange:L=>l({...a,email:L.target.value}),placeholder:"name@example.com"})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"lineUserId",children:"LINE User ID"}),f.jsx(yn,{id:"lineUserId",value:a.lineUserId,onChange:L=>l({...a,lineUserId:L.target.value}),placeholder:"U1234567890abcdef"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(Nt,{htmlFor:"role",children:"Role"}),f.jsxs(No,{value:a.role,onValueChange:L=>l({...a,role:L}),children:[f.jsx($s,{id:"role",children:f.jsx(Po,{placeholder:"Select role"})}),f.jsxs(Bs,{children:[f.jsx(gr,{value:"cleaner",children:"Cleaner"}),f.jsx(gr,{value:"admin",children:"Admin"})]})]})]})]}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"* Required fields. You can add additional details later by clicking the edit button."}),f.jsx(ze,{type:"submit",children:"Add Cleaner"})]})})]}),(()=>{const L=t.filter(K=>(K.role||"cleaner")!=="admin");return f.jsxs(f.Fragment,{children:[f.jsxs(Rn,{children:[f.jsx(Xs,{children:f.jsxs(Js,{children:["Cleaners (",L.length,")"]})}),f.jsx(kn,{children:L.length===0?f.jsx("div",{className:"text-center py-8",children:f.jsxs("div",{className:"text-muted-foreground mb-4",children:[f.jsx(_d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),f.jsx("h3",{className:"text-lg font-medium mb-2",children:"No cleaners added yet"}),f.jsx("p",{className:"text-sm",children:"Add your first cleaner using the form above to get started."})]})}):f.jsx("div",{className:"space-y-4",children:L.map(K=>{var W;return f.jsx("div",{className:"border rounded-lg p-4",children:f.jsx("div",{className:"flex justify-between items-start",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("h3",{className:"font-semibold",children:K.name}),K.role==="admin"&&f.jsx(rs,{variant:"outline",className:"text-xs",children:"Admin"}),f.jsxs("div",{className:"flex gap-1",children:[f.jsxs(Cl,{children:[f.jsx(Gu,{asChild:!0,children:f.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>P(K),className:"h-6 w-6 p-0",title:"View work history",children:f.jsx(IP,{className:"h-3 w-3"})})}),f.jsxs(Ui,{className:"max-w-md",children:[f.jsx(zi,{children:f.jsxs(Wi,{children:["Work History - ",K.name]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"month-select",children:"Select Month"}),f.jsxs(No,{value:y,onValueChange:E,children:[f.jsx($s,{children:f.jsx(Po,{placeholder:"Choose a month"})}),f.jsx(Bs,{children:N().map(q=>f.jsx(gr,{value:q.value,children:q.label},q.value))})]})]}),f.jsx(ze,{onClick:M,disabled:!y||_,className:"w-full",children:_?"Loading...":"Load History"}),x.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h4",{className:"font-medium",children:["Assignments (",x.length,")"]}),f.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:x.map(q=>f.jsxs("div",{className:"border rounded p-2 text-sm",children:[f.jsx("div",{className:"font-medium",children:q.date}),f.jsxs("div",{className:"text-muted-foreground",children:["Status: ",q.status]}),q.notes&&f.jsxs("div",{className:"text-muted-foreground",children:["Notes: ",q.notes]})]},q.id))})]})]})]})]}),f.jsxs(Cl,{children:[f.jsx(Gu,{asChild:!0,children:f.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>S(K),className:"h-6 w-6 p-0",title:"Edit cleaner",children:f.jsx(C0,{className:"h-3 w-3"})})}),f.jsxs(Ui,{className:"max-w-md",children:[f.jsx(zi,{children:f.jsxs(Wi,{children:["Edit ",K.role==="admin"?"Admin":"Cleaner"]})}),f.jsxs("form",{onSubmit:I,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-name",children:"Name"}),f.jsx(yn,{id:"edit-name",value:h.name,onChange:q=>m({...h,name:q.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-phone",children:"Phone"}),f.jsx(yn,{id:"edit-phone",value:h.phone,onChange:q=>m({...h,phone:q.target.value})})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-email",children:"Email"}),f.jsx(yn,{id:"edit-email",type:"email",value:h.email,onChange:q=>m({...h,email:q.target.value})})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-flatRate",children:"Flat Rate (JPY)"}),f.jsx(yn,{id:"edit-flatRate",type:"number",value:h.flatRate,onChange:q=>m({...h,flatRate:q.target.value}),required:!0})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(Nt,{htmlFor:"edit-specialties",children:"Specialties (comma-separated)"}),f.jsx(yn,{id:"edit-specialties",value:h.specialties,onChange:q=>m({...h,specialties:q.target.value}),placeholder:"deep-clean, laundry, bathroom-clean"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(Nt,{htmlFor:"edit-lineUserId",children:"LINE User ID"}),f.jsx(yn,{id:"edit-lineUserId",value:h.lineUserId,onChange:q=>m({...h,lineUserId:q.target.value}),placeholder:"U1234567890abcdef"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(Nt,{htmlFor:"edit-role",children:"Role"}),f.jsxs(No,{value:h.role,onValueChange:q=>m({...h,role:q}),children:[f.jsx($s,{id:"edit-role",children:f.jsx(Po,{placeholder:"Select role"})}),f.jsxs(Bs,{children:[f.jsx(gr,{value:"cleaner",children:"Cleaner"}),f.jsx(gr,{value:"admin",children:"Admin"})]})]})]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[f.jsxs(ze,{type:"button",variant:"destructive",size:"sm",onClick:()=>A(u.id),className:"flex items-center gap-1",children:[f.jsx(T0,{className:"h-3 w-3"}),"Delete ",K.role==="admin"?"Admin":"Cleaner"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ze,{type:"button",variant:"outline",onClick:()=>d(null),children:"Cancel"}),f.jsx(ze,{type:"submit",children:"Update"})]})]})]})]})]})]}),f.jsxs("div",{className:"space-y-1",children:[K.email&&f.jsx("p",{className:"text-sm text-gray-600",children:K.email}),K.phone&&f.jsx("p",{className:"text-sm text-gray-600",children:K.phone}),typeof K.flatRate=="number"&&f.jsxs("p",{className:"text-sm text-gray-600",children:["¥",K.flatRate,"/job"]})]})]}),f.jsx("div",{className:"flex flex-wrap gap-1",children:(W=K.specialties)==null?void 0:W.map(q=>f.jsx(rs,{variant:"secondary",className:"text-xs",children:q},q))})]})})},K.id)})})})]}),f.jsxs(Rn,{children:[f.jsx(Xs,{children:f.jsxs(Js,{children:["Admins (",s.length,")"]})}),f.jsx(kn,{children:s.length===0?f.jsx("div",{className:"text-sm text-muted-foreground",children:"No admins added."}):f.jsx("div",{className:"space-y-4",children:s.map(K=>f.jsx("div",{className:"border rounded-lg p-4",children:f.jsx("div",{className:"flex justify-between items-start",children:f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("h3",{className:"font-semibold",children:K.name}),f.jsx(rs,{variant:"outline",className:"text-xs",children:"Admin"}),f.jsx("div",{className:"flex gap-1",children:f.jsxs(Cl,{children:[f.jsx(Gu,{asChild:!0,children:f.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>S(K),className:"h-6 w-6 p-0",title:"Edit admin",children:f.jsx(C0,{className:"h-3 w-3"})})}),f.jsxs(Ui,{className:"max-w-md",children:[f.jsx(zi,{children:f.jsx(Wi,{children:"Edit Admin"})}),f.jsxs("form",{onSubmit:I,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-name-admin",children:"Name"}),f.jsx(yn,{id:"edit-name-admin",value:h.name,onChange:W=>m({...h,name:W.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-phone-admin",children:"Phone"}),f.jsx(yn,{id:"edit-phone-admin",value:h.phone,onChange:W=>m({...h,phone:W.target.value})})]}),f.jsxs("div",{children:[f.jsx(Nt,{htmlFor:"edit-email-admin",children:"Email"}),f.jsx(yn,{id:"edit-email-admin",type:"email",value:h.email,onChange:W=>m({...h,email:W.target.value})})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(Nt,{htmlFor:"edit-lineUserId-admin",children:"LINE User ID"}),f.jsx(yn,{id:"edit-lineUserId-admin",value:h.lineUserId,onChange:W=>m({...h,lineUserId:W.target.value}),placeholder:"U1234567890abcdef"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx(Nt,{htmlFor:"edit-role-admin",children:"Role"}),f.jsxs(No,{value:h.role,onValueChange:W=>m({...h,role:W}),children:[f.jsx($s,{id:"edit-role-admin",children:f.jsx(Po,{placeholder:"Select role"})}),f.jsxs(Bs,{children:[f.jsx(gr,{value:"cleaner",children:"Cleaner"}),f.jsx(gr,{value:"admin",children:"Admin"})]})]})]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[f.jsxs(ze,{type:"button",variant:"destructive",size:"sm",onClick:()=>A(K.id,"admin"),className:"flex items-center gap-1",children:[f.jsx(T0,{className:"h-3 w-3"}),"Delete Admin"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ze,{type:"button",variant:"outline",onClick:()=>d(null),children:"Cancel"}),f.jsx(ze,{type:"submit",children:"Update"})]})]})]})]})]})}),f.jsxs("div",{className:"space-y-1",children:[K.email&&f.jsx("p",{className:"text-sm text-gray-600",children:K.email}),K.phone&&f.jsx("p",{className:"text-sm text-gray-600",children:K.phone})]})]})})})},K.id))})})]})]})})()]})};var th="Checkbox",[m$,i6]=gs(th),[g$,vy]=m$(th);function v$(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:h}=t,[m,v]=Ko({prop:n,defaultProp:s??!1,onChange:l,caller:th}),[C,y]=p.useState(null),[E,x]=p.useState(null),w=p.useRef(!1),_=C?!!i||!!C.closest("form"):!0,R={checked:m,disabled:o,setChecked:v,control:C,setControl:y,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:no(s)?!1:s,isFormControl:_,bubbleInput:E,setBubbleInput:x};return f.jsx(g$,{scope:e,...R,children:y$(h)?h(R):r})}var tA="CheckboxTrigger",nA=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:i,disabled:a,checked:l,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:v,bubbleInput:C}=vy(tA,t),y=rt(s,d),E=p.useRef(l);return p.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const w=()=>h(E.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[o,h]),f.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":no(l)?"mixed":l,"aria-required":u,"data-state":aA(l),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:y,onKeyDown:xe(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:xe(n,x=>{h(w=>no(w)?!0:!w),C&&v&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});nA.displayName=tA;var yy=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l,onCheckedChange:u,form:d,...h}=t;return f.jsx(v$,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:m})=>f.jsxs(f.Fragment,{children:[f.jsx(nA,{...h,ref:e,__scopeCheckbox:n}),m&&f.jsx(iA,{__scopeCheckbox:n})]})})});yy.displayName=th;var rA="CheckboxIndicator",sA=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=vy(rA,n);return f.jsx(po,{present:r||no(o.checked)||o.checked===!0,children:f.jsx(Oe.span,{"data-state":aA(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});sA.displayName=rA;var oA="CheckboxBubbleInput",iA=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:l,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:v}=vy(oA,t),C=rt(n,v),y=pI(o),E=XS(r);p.useEffect(()=>{const w=m;if(!w)return;const _=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(_,"checked").set,O=!s.current;if(y!==o&&D){const T=new Event("click",{bubbles:O});w.indeterminate=no(o),D.call(w,no(o)?!1:o),w.dispatchEvent(T)}},[m,y,o,s]);const x=p.useRef(no(o)?!1:o);return f.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:l,name:u,value:d,form:h,...e,tabIndex:-1,ref:C,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iA.displayName=oA;function y$(t){return typeof t=="function"}function no(t){return t==="indeterminate"}function aA(t){return no(t)?"indeterminate":t?"checked":"unchecked"}const lA=p.forwardRef(({className:t,...e},n)=>f.jsx(yy,{ref:n,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:f.jsx(sA,{className:Re("flex items-center justify-center text-current"),children:f.jsx(xd,{className:"h-4 w-4"})})}));lA.displayName=yy.displayName;const Yt=[];for(let t=0;t<256;++t)Yt.push((t+256).toString(16).slice(1));function w$(t,e=0){return(Yt[t[e+0]]+Yt[t[e+1]]+Yt[t[e+2]]+Yt[t[e+3]]+"-"+Yt[t[e+4]]+Yt[t[e+5]]+"-"+Yt[t[e+6]]+Yt[t[e+7]]+"-"+Yt[t[e+8]]+Yt[t[e+9]]+"-"+Yt[t[e+10]]+Yt[t[e+11]]+Yt[t[e+12]]+Yt[t[e+13]]+Yt[t[e+14]]+Yt[t[e+15]]).toLowerCase()}let vp;const x$=new Uint8Array(16);function _$(){if(!vp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vp=crypto.getRandomValues.bind(crypto)}return vp(x$)}const E$=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T_={randomUUID:E$};function b$(t,e,n){var s;if(T_.randomUUID&&!t)return T_.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??_$();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,w$(r)}const cA=()=>{const[t,e]=p.useState(null),[n,r]=p.useState([]),[s,o]=p.useState(!1),[i,a]=p.useState(null),l=async(y,E)=>{try{o(!0),a(null);const x=await t_.getByCleanerAndMonth(y,E);if(x)e(x);else{const w={id:`temp-${y}-${E}`,cleanerId:y,month:E,availableDates:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(w)}}catch(x){a(x instanceof Error?x.message:"Failed to fetch availability")}finally{o(!1)}},u=async(y,E,x)=>{try{o(!0),a(null),await t_.updateAvailability(y,E,x),e(w=>w?{...w,availableDates:x,updatedAt:new Date().toISOString()}:null)}catch(w){a(w instanceof Error?w.message:"Failed to update availability")}finally{o(!1)}},d=async()=>{try{o(!0),a(null);const y=await _u.getAll();r(y)}catch(y){a(y instanceof Error?y.message:"Failed to fetch availability links")}finally{o(!1)}},h=async(y,E,x)=>{try{o(!0),a(null);const w=b$(),_={cleanerId:y,cleanerName:E,month:x,uniqueLink:w},D={id:await _u.create(_),..._,isActive:!0,createdAt:new Date().toISOString()};return r(O=>[...O,D]),D}catch(w){throw a(w instanceof Error?w.message:"Failed to create availability link"),w}finally{o(!1)}},m=async y=>{try{return o(!0),a(null),await _u.getByLink(y)}catch(E){return a(E instanceof Error?E.message:"Failed to fetch availability link"),null}finally{o(!1)}},v=async y=>{try{o(!0),a(null),await _u.deactivate(y),r(E=>E.map(x=>x.id===y?{...x,isActive:!1}:x))}catch(E){a(E instanceof Error?E.message:"Failed to deactivate availability link")}finally{o(!1)}},C=async()=>{await d()};return p.useEffect(()=>{C()},[]),{availability:t,availabilityLinks:n,loading:s,error:i,getCleanerAvailability:l,updateCleanerAvailability:u,getAllAvailabilityLinks:d,createAvailabilityLink:h,getAvailabilityLink:m,deactivateAvailabilityLink:v,refetch:C}};var yp="rovingFocusGroup.onEntryFocus",S$={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[sg,uA,C$]=ev(Pc),[T$,dA]=gs(Pc,[C$]),[I$,A$]=T$(Pc),fA=p.forwardRef((t,e)=>f.jsx(sg.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(sg.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(R$,{...t,ref:e})})}));fA.displayName=Pc;var R$=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,m=p.useRef(null),v=rt(e,m),C=my(o),[y,E]=Ko({prop:i,defaultProp:a??null,onChange:l,caller:Pc}),[x,w]=p.useState(!1),_=rr(u),R=uA(n),D=p.useRef(!1),[O,T]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(yp,_),()=>S.removeEventListener(yp,_)},[_]),f.jsx(I$,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(S=>E(S),[E]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>T(S=>S-1),[]),children:f.jsx(Oe.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{D.current=!0}),onFocus:xe(t.onFocus,S=>{const I=!D.current;if(S.target===S.currentTarget&&I&&!x){const A=new CustomEvent(yp,S$);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const P=R().filter(W=>W.focusable),M=P.find(W=>W.active),N=P.find(W=>W.id===y),K=[M,N,...P].filter(Boolean).map(W=>W.ref.current);mA(K,d)}}D.current=!1}),onBlur:xe(t.onBlur,()=>w(!1))})})}),hA="RovingFocusGroupItem",pA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=t,l=Ys(),u=o||l,d=A$(hA,n),h=d.currentTabStopId===u,m=uA(n),{onFocusableItemAdd:v,onFocusableItemRemove:C,currentTabStopId:y}=d;return p.useEffect(()=>{if(r)return v(),()=>C()},[r,v,C]),f.jsx(sg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:f.jsx(Oe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:xe(t.onMouseDown,E=>{r?d.onItemFocus(u):E.preventDefault()}),onFocus:xe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:xe(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const x=P$(E,d.orientation,d.dir);if(x!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let _=m().filter(R=>R.focusable).map(R=>R.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const R=_.indexOf(E.currentTarget);_=d.loop?D$(_,R+1):_.slice(R+1)}setTimeout(()=>mA(_))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});pA.displayName=hA;var k$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function N$(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function P$(t,e,n){const r=N$(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return k$[r]}function mA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function D$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var M$=fA,O$=pA,nh="Tabs",[j$,a6]=gs(nh,[dA]),gA=dA(),[L$,wy]=j$(nh),vA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=t,d=my(a),[h,m]=Ko({prop:r,onChange:s,defaultProp:o??"",caller:nh});return f.jsx(L$,{scope:n,baseId:Ys(),value:h,onValueChange:m,orientation:i,dir:d,activationMode:l,children:f.jsx(Oe.div,{dir:d,"data-orientation":i,...u,ref:e})})});vA.displayName=nh;var yA="TabsList",wA=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,o=wy(yA,n),i=gA(n);return f.jsx(M$,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:f.jsx(Oe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});wA.displayName=yA;var xA="TabsTrigger",_A=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=t,i=wy(xA,n),a=gA(n),l=SA(i.baseId,r),u=CA(i.baseId,r),d=r===i.value;return f.jsx(O$,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:e,onMouseDown:xe(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:xe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});_A.displayName=xA;var EA="TabsContent",bA=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=t,a=wy(EA,n),l=SA(a.baseId,r),u=CA(a.baseId,r),d=r===a.value,h=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),f.jsx(po,{present:s||d,children:({present:m})=>f.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...i,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&o})})});bA.displayName=EA;function SA(t,e){return`${t}-trigger-${e}`}function CA(t,e){return`${t}-content-${e}`}var V$=vA,TA=wA,IA=_A,AA=bA;const F$=V$,RA=p.forwardRef(({className:t,...e},n)=>f.jsx(TA,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));RA.displayName=TA.displayName;const kA=p.forwardRef(({className:t,...e},n)=>f.jsx(IA,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));kA.displayName=IA.displayName;const NA=p.forwardRef(({className:t,...e},n)=>f.jsx(AA,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));NA.displayName=AA.displayName;const xy=({cleanerId:t,cleanerName:e,month:n})=>{const r=MO();PO();const{getAvailabilityLink:s,getCleanerAvailability:o,updateCleanerAvailability:i,availability:a,loading:l,error:u}=cA(),d=async F=>{try{const U=(await cl.getAllActive()).find(J=>J.id===F);return(U==null?void 0:U.name)||null}catch{return null}},[h,m]=p.useState(n||D()),[v,C]=p.useState([]),[y,E]=p.useState(null),[x,w]=p.useState(!1),[_,R]=p.useState("");function D(){const F=new Date;return`${F.getFullYear()}-${String(F.getMonth()+1).padStart(2,"0")}`}const O=F=>/^\d{9,}$/.test(F),T=F=>{if(F.length%3!==0)return"";let Z="";for(let U=0;U<F.length;U+=3){const J=parseInt(F.slice(U,U+3),10);if(Number.isNaN(J))return"";Z+=String.fromCharCode(J)}return Z},S=F=>{if(!O(F)||F.length<9)return null;const Z=F.slice(0,6),U=F.slice(6),J=`${Z.slice(0,4)}-${Z.slice(4,6)}`,ae=T(U);return ae?{cleanerId:ae,month:J}:null};function I(F,Z){const U=[],J=new Date(F,Z-1,1),ae=new Date(F,Z,0),Pe=J.getDay();for(let X=Pe-1;X>=0;X--){const be=new Date(J);be.setDate(be.getDate()-(X+1)),U.push(be)}for(let X=1;X<=ae.getDate();X++)U.push(new Date(F,Z-1,X));const De=ae.getDay();for(let X=1;X<=6-De;X++){const be=new Date(ae);be.setDate(be.getDate()+X),U.push(be)}return U}function A(F){const Z=F.getFullYear(),U=String(F.getMonth()+1).padStart(2,"0"),J=String(F.getDate()).padStart(2,"0");return`${Z}-${U}-${J}`}function P(F,Z,U){return F.getFullYear()===Z&&F.getMonth()===U-1}function M(F){if(!_)return!0;const[Z,U]=_.split("-").map(Number);return F.getFullYear()===Z&&F.getMonth()===U-1}const N=F=>{const Z=new Date(F);M(Z)&&C(U=>U.includes(F)?U.filter(J=>J!==F):[...U,F])},L=F=>{if(_){h!==_&&m(_);return}const[Z,U]=h.split("-").map(Number),J=new Date(Z,U-1,1);J.setMonth(J.getMonth()+(F==="next"?1:-1));const ae=`${J.getFullYear()}-${String(J.getMonth()+1).padStart(2,"0")}`;m(ae)},K=async()=>{if(y!=null&&y.cleanerId)try{w(!0),await i(y.cleanerId,h,v),alert("Availability updated successfully!")}catch{alert("Failed to update availability. Please try again.")}finally{w(!1)}};p.useEffect(()=>{(async()=>{try{if(r.uniqueLink){const Z=S(r.uniqueLink);if(Z){const{cleanerId:U,month:J}=Z,ae=await d(U);E({cleanerId:U,cleanerName:ae||e}),R(J),m(J);const Pe=await o(U,J);C(Pe.availableDates||[])}else{const U=await s(r.uniqueLink);E(U),R(U.month);const J=await o(U.cleanerId,U.month);m(U.month),C(J.availableDates||[])}}else if(t){let Z=e;Z||(Z=await d(t)||void 0),E({cleanerId:t,cleanerName:Z});const U=await o(t,h);C(U.availableDates||[])}}catch(Z){console.error("Error loading data:",Z)}})()},[r.uniqueLink,t]),p.useEffect(()=>{if(!(y!=null&&y.cleanerId))return;(async()=>{try{const Z=await o(y.cleanerId,h);C(Z.availableDates||[])}catch(Z){console.error("Error refreshing availability:",Z)}})()},[h,y==null?void 0:y.cleanerId]),p.useEffect(()=>{a&&C(a.availableDates||[])},[a]);const[W,q]=h.split("-").map(Number),V=I(W,q),B=["January","February","March","April","May","June","July","August","September","October","November","December"];return l?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:"Loading calendar..."})]})}):u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-destructive mb-4",children:u}),f.jsx(ze,{onClick:()=>window.location.reload(),children:"Try Again"})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:f.jsxs("div",{className:"container mx-auto p-4",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-center mb-2",children:`${(y==null?void 0:y.cleanerName)||"クリーナー"}の空き状況`}),f.jsx("p",{className:"text-center text-muted-foreground",children:`${W}年${q}月の稼働可能日を選択してください`}),_&&f.jsx("p",{className:"text-center text-sm text-muted-foreground mt-1",children:`${_.split("-")[0]}年${parseInt(_.split("-")[1])}月専用のリンクです`})]}),(!_||h!==_)&&f.jsx(Rn,{className:"mb-6",children:f.jsx(kn,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>L("prev"),className:"flex items-center space-x-1",disabled:_&&h===_,children:[f.jsx(TS,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),f.jsxs("h2",{className:"text-lg font-semibold",children:[B[q-1]," ",W]}),f.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>L("next"),className:"flex items-center space-x-1",disabled:_&&h===_,children:[f.jsx("span",{className:"hidden sm:inline",children:"Next"}),f.jsx(IS,{className:"w-4 h-4"})]})]})})}),f.jsx(Rn,{className:"mb-6",children:f.jsxs(kn,{className:"p-4",children:[f.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["日","月","火","水","木","金","土"].map(F=>f.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:F},F))}),f.jsx("div",{className:"grid grid-cols-7 gap-1",children:V.map((F,Z)=>{const U=A(F),J=v.includes(U),ae=P(F,W,q),Pe=M(F),De=U===A(new Date),X=ae&&Pe;return f.jsxs("button",{onClick:()=>X&&N(U),disabled:!X,className:`
                      aspect-square rounded-lg border-2 transition-all duration-200
                      ${X?J?"cursor-pointer hover:brightness-90":"cursor-pointer hover:bg-primary/10":"opacity-30 cursor-not-allowed"}
                      ${J?"bg-primary border-primary text-primary-foreground":"border-border hover:border-primary"}
                      ${De?"ring-2 ring-primary/50":""}
                      ${Pe?"":"bg-gray-100"}
                      flex items-center justify-center relative
                    `,children:[f.jsx("span",{className:"text-sm font-medium",children:F.getDate()}),J&&f.jsx(xd,{className:"absolute top-1 right-1 w-3 h-3"})]},Z)})})]})}),v.length>0&&f.jsxs(Rn,{className:"mb-6",children:[f.jsx(Xs,{children:f.jsxs(Js,{className:"text-lg",children:["Selected Dates (",v.length,")"]})}),f.jsx(kn,{children:f.jsx("div",{className:"flex flex-wrap gap-2",children:v.sort().map(F=>f.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:new Date(F).toLocaleDateString()},F))})})]}),f.jsx("div",{className:"flex justify-center",children:f.jsx(ze,{onClick:K,disabled:x||v.length===0,size:"lg",className:"w-full max-w-md",children:x?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"更新中..."]}):f.jsxs(f.Fragment,{children:[f.jsx(xd,{className:"w-4 h-4 mr-2"}),"空き状況を確定"]})})})]})})},$$=()=>{var w;const{cleaners:t,loading:e}=Wf(),{getAllAvailabilityLinks:n,createAvailabilityLink:r}=cA(),[s,o]=p.useState([]),[i,a]=p.useState(""),[l,u]=p.useState(!1),d=()=>{const _=[],R=new Date;for(let D=0;D<6;D++){const O=new Date(R.getFullYear(),R.getMonth()+D,1),T=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}`,S=O.toLocaleDateString("en-US",{month:"long",year:"numeric"});_.push({value:T,label:S})}return _},h=_=>Array.from(_).map(R=>String(R.charCodeAt(0)).padStart(3,"0")).join(""),m=(_,R)=>`${R.replace(/-/g,"")}${h(_)}`,v=_=>{o(R=>R.includes(_)?R.filter(D=>D!==_):[...R,_])},C=()=>{s.length===t.length?o([]):o(t.map(_=>_.id))},y=async()=>{if(s.length===0){mr({title:"No cleaners selected",description:"Please select at least one cleaner.",variant:"destructive"});return}if(!i){mr({title:"No month selected",description:"Please select a month for availability.",variant:"destructive"});return}try{u(!0);const _=await Promise.allSettled(s.map(async O=>{const T=t.find(I=>I.id===O);if(!T)throw new Error("Cleaner not found");const S=m(O,i);return await r(O,T.name,i),{success:!0}})),R=_.filter(O=>O.status==="fulfilled").length,D=_.length-R;mr({title:"Links sent",description:`${R} sent via LINE${D?`, ${D} failed`:""}.`}),o([]),a("")}catch{mr({title:"Error sending links",description:"Failed to send availability links via LINE.",variant:"destructive"})}finally{u(!1)}},E=async(_,R)=>{if(!R){mr({title:"Select a month",description:"Choose a month to generate the stable link.",variant:"destructive"});return}const D=window.location.origin,O=m(_,R),T="/".replace(/\/$/,"")||"",S=`${D}${T}#/availability/${O}`;try{await navigator.clipboard.writeText(S),mr({title:"Stable link copied",description:"You can reuse this link anytime."})}catch{mr({title:"Failed to copy",description:"Could not copy link to clipboard.",variant:"destructive"})}};p.useEffect(()=>{n()},[]);const x=d();return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(ca,{className:"w-6 h-6"}),f.jsx("h2",{className:"text-2xl font-bold",children:"Availability Management"})]}),f.jsxs(Rn,{children:[f.jsx(Xs,{children:f.jsxs(Js,{className:"flex items-center space-x-2",children:[f.jsx(mm,{className:"w-5 h-5"}),f.jsx("span",{children:"Send Availability Links via LINE"})]})}),f.jsxs(kn,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Select Month"}),f.jsxs(No,{value:i,onValueChange:a,children:[f.jsx($s,{children:f.jsx(Po,{placeholder:"Choose a month"})}),f.jsx(Bs,{children:x.map(_=>f.jsx(gr,{value:_.value,children:_.label},_.value))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("label",{className:"text-sm font-medium",children:"Select Cleaners"}),f.jsx(ze,{variant:"outline",size:"sm",onClick:C,disabled:e,children:s.length===t.length?"Deselect All":"Select All"})]}),e?f.jsx("div",{className:"flex items-center justify-center py-4",children:f.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:t.map(_=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(lA,{id:_.id,checked:s.includes(_.id),onCheckedChange:()=>v(_.id)}),f.jsx("label",{htmlFor:_.id,className:"text-sm cursor-pointer flex-1",children:_.name}),i&&f.jsx(ze,{variant:"ghost",size:"sm",onClick:()=>E(_.id,i),title:"Copy stable link for this cleaner and month",children:f.jsx(S0,{className:"w-4 h-4"})})]},_.id))})]}),f.jsx(ze,{onClick:y,disabled:l||s.length===0||!i,className:"w-full",children:l?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending Links..."]}):f.jsxs(f.Fragment,{children:[f.jsx(mm,{className:"w-4 h-4 mr-2"}),"Send Links via LINE"]})})]})]}),f.jsxs(Rn,{children:[f.jsx(Xs,{children:f.jsxs(Js,{className:"flex items-center space-x-2",children:[f.jsx(Ed,{className:"w-5 h-5"}),f.jsx("span",{children:"Cleaner Availability"})]})}),f.jsx(kn,{children:e?f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t.length===0?f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(Ed,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),f.jsx("p",{children:"No cleaners found."})]}):f.jsxs(F$,{defaultValue:((w=t[0])==null?void 0:w.id)??"",className:"w-full",children:[f.jsx(RA,{className:"flex overflow-x-auto",children:t.map(_=>f.jsx(kA,{value:_.id,className:"truncate max-w-[150px]",children:_.name},_.id))}),t.map(_=>f.jsxs(NA,{value:_.id,className:"mt-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("div",{className:"text-sm text-muted-foreground",children:"Generate stable link for:"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(No,{value:i,onValueChange:a,children:[f.jsx($s,{className:"w-[200px]",children:f.jsx(Po,{placeholder:"Choose a month"})}),f.jsx(Bs,{children:x.map(R=>f.jsx(gr,{value:R.value,children:R.label},R.value))})]}),f.jsxs(ze,{variant:"outline",size:"sm",onClick:()=>E(_.id,i),disabled:!i,children:[f.jsx(S0,{className:"w-4 h-4 mr-2"})," Copy stable link"]})]})]}),f.jsx(xy,{cleanerId:_.id,cleanerName:_.name})]},_.id))]})})]})]})},B$=()=>{const[t,e]=p.useState("calendar");return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-secondary/20",children:f.jsxs("div",{className:"container mx-auto p-6",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent mb-2",children:"Property Booking Manager"}),f.jsx("p",{className:"text-lg text-muted-foreground",children:"Manage your property bookings with HostexAPI integration"})]}),f.jsx("div",{className:"flex justify-end mb-6",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs(ze,{variant:t==="calendar"?"default":"outline",onClick:()=>e("calendar"),className:"flex items-center space-x-2",children:[f.jsx(ca,{className:"w-4 h-4"}),f.jsx("span",{children:"Calendar"})]}),f.jsxs(ze,{variant:t==="cleaners"?"default":"outline",onClick:()=>e("cleaners"),className:"flex items-center space-x-2",children:[f.jsx(Ed,{className:"w-4 h-4"}),f.jsx("span",{children:"Cleaners"})]}),f.jsxs(ze,{variant:t==="availability"?"default":"outline",onClick:()=>e("availability"),className:"flex items-center space-x-2",children:[f.jsx(mm,{className:"w-4 h-4"}),f.jsx("span",{children:"Availability"})]})]})}),t==="calendar"&&f.jsx(h$,{}),t==="cleaners"&&f.jsx(p$,{}),t==="availability"&&f.jsx($$,{})]})})},U$=()=>{const t=xv();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),f.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},z$=()=>{const t=new Date().toISOString().slice(0,7);return f.jsx(xy,{cleanerId:"test-cleaner-id",cleanerName:"Test Cleaner",month:t})},W$=new eO,H$=()=>f.jsx(nO,{client:W$,children:f.jsxs(kM,{children:[f.jsx(hD,{}),f.jsx(HD,{}),f.jsx(ZO,{children:f.jsxs(YO,{children:[f.jsx(sl,{path:"/",element:f.jsx(B$,{})}),f.jsx(sl,{path:"/availability/:uniqueLink",element:f.jsx(xy,{})}),f.jsx(sl,{path:"/test-availability",element:f.jsx(z$,{})}),f.jsx(sl,{path:"*",element:f.jsx(U$,{})})]})})]})});Qb(document.getElementById("root")).render(f.jsx(H$,{}));
